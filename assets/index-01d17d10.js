import{aQ as fe,m as w,aR as qe,aS as pt,aB as De,aT as ft,ab as mt,aU as ke,aw as Ge,N as vt,u as ce,aV as ht,aW as Ne,a8 as ae,aX as yt,aY as gt,aZ as bt,a_ as wt,P as ge,T as P,aq as Le,j as we,ao as St,k as le,a$ as Ie,ap as pe,v as xe,l as se,b0 as Ct,aa as Je,az as xt,aA as _t,at as $t,R as kt,a4 as _e,b1 as It,b2 as Dt,b3 as Et,O as Tt,b4 as Mt,ax as oe,a9 as He,ad as zt,au as Qe,b5 as et,x as C,y as V,F as A,U as ie,z,A as e,D as q,B as c,G as X,H as L,I as de,J as ne,af as be,Y as Q,o as Ft,X as At,E as S,C as Ee,_ as Te,a5 as Ue,K as tt,b6 as $e,b7 as Rt,Q as Bt,a3 as We,b8 as Pt,b9 as Ot,ba as Vt,ar as Nt,bb as Lt,ay as Ye,bc as Ht,bd as Ut,be as je,bf as Ke,ac as Wt,bg as Yt,ae as jt,bh as Kt,bi as Zt,al as Xt,ag as qt,am as Gt,aG as Jt,aH as Qt,an as ea,aj as he,V as Ze,aP as ta,ak as aa}from"./index-32e1bf25.js";import{e as oa,c as sa}from"./index-11e546f7.js";import"./ecStat-d37f2c51.js";import{m as na}from"./index-8f1458ab.js";import{V as la}from"./index.min-3c052dc3.js";const ia=()=>fe&&/firefox/i.test(window.navigator.userAgent);let ye;const ra=t=>{var n;if(!fe)return 0;if(ye!==void 0)return ye;const s=document.createElement("div");s.className=`${t}-scrollbar__wrap`,s.style.visibility="hidden",s.style.width="100px",s.style.position="absolute",s.style.top="-9999px",document.body.appendChild(s);const a=s.offsetWidth;s.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",s.appendChild(i);const r=i.offsetWidth;return(n=s.parentNode)==null||n.removeChild(s),ye=a-r,ye},ua=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),da=["class","style"],ca=/^on[A-Z]/,pa=(t={})=>{const{excludeListeners:n=!1,excludeKeys:s}=t,a=w(()=>((s==null?void 0:s.value)||[]).concat(da)),i=qe();return i?w(()=>{var r;return pt(Object.entries((r=i.proxy)==null?void 0:r.$attrs).filter(([p])=>!a.value.includes(p)&&!(n&&ca.test(p))))}):w(()=>({}))},fa=(t,n,s)=>{let a={offsetX:0,offsetY:0};const i=v=>{const y=v.clientX,x=v.clientY,{offsetX:b,offsetY:u}=a,f=t.value.getBoundingClientRect(),E=f.left,_=f.top,g=f.width,H=f.height,Y=document.documentElement.clientWidth,O=document.documentElement.clientHeight,j=-E+b,G=-_+u,U=Y-E-g+b,W=O-_-H+u,K=M=>{const $=Math.min(Math.max(b+M.clientX-y,j),U),B=Math.min(Math.max(u+M.clientY-x,G),W);a={offsetX:$,offsetY:B},t.value.style.transform=`translate(${ke($)}, ${ke(B)})`},R=()=>{document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",R)};document.addEventListener("mousemove",K),document.addEventListener("mouseup",R)},r=()=>{n.value&&t.value&&n.value.addEventListener("mousedown",i)},p=()=>{n.value&&t.value&&n.value.removeEventListener("mousedown",i)};De(()=>{ft(()=>{s.value?r():p()})}),mt(()=>{p()})},ma=(t,n={})=>{Ge(t)||vt("[useLockscreen]","You need to pass a ref param to this function");const s=n.ns||ce("popup"),a=ht(()=>s.bm("parent","hidden"));if(!fe||Ne(document.body,a.value))return;let i=0,r=!1,p="0";const v=()=>{setTimeout(()=>{wt(document==null?void 0:document.body,a.value),r&&document&&(document.body.style.width=p)},200)};ae(t,y=>{if(!y){v();return}r=!Ne(document.body,a.value),r&&(p=document.body.style.width),i=ra(s.namespace.value);const x=document.documentElement.clientHeight<document.body.scrollHeight,b=yt(document.body,"overflowY");i>0&&(x||b==="scroll")&&r&&(document.body.style.width=`calc(100% - ${i}px)`),gt(document.body,a.value)}),bt(()=>v())},at=t=>{if(!t)return{onClick:ge,onMousedown:ge,onMouseup:ge};let n=!1,s=!1;return{onClick:p=>{n&&s&&t(p),n=s=!1},onMousedown:p=>{n=p.target===p.currentTarget},onMouseup:p=>{s=p.target===p.currentTarget}}};function va(t){const n=P();function s(){if(t.value==null)return;const{selectionStart:i,selectionEnd:r,value:p}=t.value;if(i==null||r==null)return;const v=p.slice(0,Math.max(0,i)),y=p.slice(Math.max(0,r));n.value={selectionStart:i,selectionEnd:r,value:p,beforeTxt:v,afterTxt:y}}function a(){if(t.value==null||n.value==null)return;const{value:i}=t.value,{beforeTxt:r,afterTxt:p,selectionStart:v}=n.value;if(r==null||p==null||v==null)return;let y=i.length;if(i.endsWith(p))y=i.length-p.length;else if(i.startsWith(r))y=r.length;else{const x=r[v-1],b=i.indexOf(x,v-1);b!==-1&&(y=b+1)}t.value.setSelectionRange(y,y)}return[s,a]}let J;const ha=`
  height:0 !important;
  visibility:hidden !important;
  ${ia()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,ya=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function ga(t){const n=window.getComputedStyle(t),s=n.getPropertyValue("box-sizing"),a=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),i=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:ya.map(p=>`${p}:${n.getPropertyValue(p)}`).join(";"),paddingSize:a,borderSize:i,boxSizing:s}}function Xe(t,n=1,s){var a;J||(J=document.createElement("textarea"),document.body.appendChild(J));const{paddingSize:i,borderSize:r,boxSizing:p,contextStyle:v}=ga(t);J.setAttribute("style",`${v};${ha}`),J.value=t.value||t.placeholder||"";let y=J.scrollHeight;const x={};p==="border-box"?y=y+r:p==="content-box"&&(y=y-i),J.value="";const b=J.scrollHeight-i;if(Le(n)){let u=b*n;p==="border-box"&&(u=u+i+r),y=Math.max(u,y),x.minHeight=`${u}px`}if(Le(s)){let u=b*s;p==="border-box"&&(u=u+i+r),y=Math.min(u,y)}return x.height=`${y}px`,(a=J.parentNode)==null||a.removeChild(J),J=void 0,x}const ba=we({id:{type:String,default:void 0},size:St,disabled:Boolean,modelValue:{type:le([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:le([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ie},prefixIcon:{type:Ie},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:le([Object,Array,String]),default:()=>na({})}}),wa={[pe]:t=>xe(t),input:t=>xe(t),change:t=>xe(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},Sa=["role"],Ca=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],xa=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],_a=se({name:"ElInput",inheritAttrs:!1}),$a=se({..._a,props:ba,emits:wa,setup(t,{expose:n,emit:s}){const a=t,i=Ct(),r=Je(),p=w(()=>{const o={};return a.containerRole==="combobox"&&(o["aria-haspopup"]=i["aria-haspopup"],o["aria-owns"]=i["aria-owns"],o["aria-expanded"]=i["aria-expanded"]),o}),v=w(()=>[a.type==="textarea"?H.b():g.b(),g.m(E.value),g.is("disabled",_.value),g.is("exceed",Z.value),{[g.b("group")]:r.prepend||r.append,[g.bm("group","append")]:r.append,[g.bm("group","prepend")]:r.prepend,[g.m("prefix")]:r.prefix||a.prefixIcon,[g.m("suffix")]:r.suffix||a.suffixIcon||a.clearable||a.showPassword,[g.bm("suffix","password-clear")]:d.value&&T.value},i.class]),y=w(()=>[g.e("wrapper"),g.is("focus",j.value)]),x=pa({excludeKeys:w(()=>Object.keys(p.value))}),{form:b,formItem:u}=xt(),{inputId:f}=_t(a,{formItemContext:u}),E=$t(),_=kt(),g=ce("input"),H=ce("textarea"),Y=_e(),O=_e(),j=P(!1),G=P(!1),U=P(!1),W=P(!1),K=P(),R=_e(a.inputStyle),M=w(()=>Y.value||O.value),$=w(()=>{var o;return(o=b==null?void 0:b.statusIcon)!=null?o:!1}),B=w(()=>(u==null?void 0:u.validateState)||""),l=w(()=>B.value&&It[B.value]),h=w(()=>W.value?Dt:Et),m=w(()=>[i.style,a.inputStyle]),I=w(()=>[a.inputStyle,R.value,{resize:a.resize}]),D=w(()=>Tt(a.modelValue)?"":String(a.modelValue)),d=w(()=>a.clearable&&!_.value&&!a.readonly&&!!D.value&&(j.value||G.value)),T=w(()=>a.showPassword&&!_.value&&!a.readonly&&!!D.value&&(!!D.value||j.value)),F=w(()=>a.showWordLimit&&!!x.value.maxlength&&(a.type==="text"||a.type==="textarea")&&!_.value&&!a.readonly&&!a.showPassword),N=w(()=>D.value.length),Z=w(()=>!!F.value&&N.value>Number(x.value.maxlength)),te=w(()=>!!r.suffix||!!a.suffixIcon||d.value||a.showPassword||F.value||!!B.value&&$.value),[Se,nt]=va(Y);Mt(O,o=>{if(lt(),!F.value||a.resize!=="both")return;const k=o[0],{width:ee}=k.contentRect;K.value={right:`calc(100% - ${ee+15+6}px)`}});const re=()=>{const{type:o,autosize:k}=a;if(!(!fe||o!=="textarea"||!O.value))if(k){const ee=Ue(k)?k.minRows:void 0,ve=Ue(k)?k.maxRows:void 0,Ve=Xe(O.value,ee,ve);R.value={overflowY:"hidden",...Ve},oe(()=>{O.value.offsetHeight,R.value=Ve})}else R.value={minHeight:Xe(O.value).minHeight}},lt=(o=>{let k=!1;return()=>{var ee;if(k||!a.autosize)return;((ee=O.value)==null?void 0:ee.offsetParent)===null||(o(),k=!0)}})(re),ue=()=>{const o=M.value,k=a.formatter?a.formatter(D.value):D.value;!o||o.value===k||(o.value=k)},Ce=async o=>{Se();let{value:k}=o.target;if(a.formatter&&(k=a.parser?a.parser(k):k),!U.value){if(k===D.value){ue();return}s(pe,k),s("input",k),await oe(),ue(),nt()}},Me=o=>{s("change",o.target.value)},ze=o=>{s("compositionstart",o),U.value=!0},Fe=o=>{var k;s("compositionupdate",o);const ee=(k=o.target)==null?void 0:k.value,ve=ee[ee.length-1]||"";U.value=!ua(ve)},Ae=o=>{s("compositionend",o),U.value&&(U.value=!1,Ce(o))},it=()=>{W.value=!W.value,me()},me=async()=>{var o;await oe(),(o=M.value)==null||o.focus()},rt=()=>{var o;return(o=M.value)==null?void 0:o.blur()},Re=o=>{j.value=!0,s("focus",o)},Be=o=>{var k;j.value=!1,s("blur",o),a.validateEvent&&((k=u==null?void 0:u.validate)==null||k.call(u,"blur").catch(ee=>He()))},ut=o=>{G.value=!1,s("mouseleave",o)},dt=o=>{G.value=!0,s("mouseenter",o)},Pe=o=>{s("keydown",o)},ct=()=>{var o;(o=M.value)==null||o.select()},Oe=()=>{s(pe,""),s("change",""),s("clear"),s("input","")};return ae(()=>a.modelValue,()=>{var o;oe(()=>re()),a.validateEvent&&((o=u==null?void 0:u.validate)==null||o.call(u,"change").catch(k=>He()))}),ae(D,()=>ue()),ae(()=>a.type,async()=>{await oe(),ue(),re()}),De(()=>{!a.formatter&&a.parser,ue(),oe(re)}),n({input:Y,textarea:O,ref:M,textareaStyle:I,autosize:zt(a,"autosize"),focus:me,blur:rt,select:ct,clear:Oe,resizeTextarea:re}),(o,k)=>Qe((C(),V("div",be(e(p),{class:e(v),style:e(m),role:o.containerRole,onMouseenter:dt,onMouseleave:ut}),[A(" input "),o.type!=="textarea"?(C(),V(ie,{key:0},[A(" prepend slot "),o.$slots.prepend?(C(),V("div",{key:0,class:z(e(g).be("group","prepend"))},[q(o.$slots,"prepend")],2)):A("v-if",!0),c("div",{class:z(e(y))},[A(" prefix slot "),o.$slots.prefix||o.prefixIcon?(C(),V("span",{key:0,class:z(e(g).e("prefix"))},[c("span",{class:z(e(g).e("prefix-inner")),onClick:me},[q(o.$slots,"prefix"),o.prefixIcon?(C(),X(e(ne),{key:0,class:z(e(g).e("icon"))},{default:L(()=>[(C(),X(de(o.prefixIcon)))]),_:1},8,["class"])):A("v-if",!0)],2)],2)):A("v-if",!0),c("input",be({id:e(f),ref_key:"input",ref:Y,class:e(g).e("inner")},e(x),{type:o.showPassword?W.value?"text":"password":o.type,disabled:e(_),formatter:o.formatter,parser:o.parser,readonly:o.readonly,autocomplete:o.autocomplete,tabindex:o.tabindex,"aria-label":o.label,placeholder:o.placeholder,style:o.inputStyle,form:a.form,onCompositionstart:ze,onCompositionupdate:Fe,onCompositionend:Ae,onInput:Ce,onFocus:Re,onBlur:Be,onChange:Me,onKeydown:Pe}),null,16,Ca),A(" suffix slot "),e(te)?(C(),V("span",{key:1,class:z(e(g).e("suffix"))},[c("span",{class:z(e(g).e("suffix-inner")),onClick:me},[!e(d)||!e(T)||!e(F)?(C(),V(ie,{key:0},[q(o.$slots,"suffix"),o.suffixIcon?(C(),X(e(ne),{key:0,class:z(e(g).e("icon"))},{default:L(()=>[(C(),X(de(o.suffixIcon)))]),_:1},8,["class"])):A("v-if",!0)],64)):A("v-if",!0),e(d)?(C(),X(e(ne),{key:1,class:z([e(g).e("icon"),e(g).e("clear")]),onMousedown:At(e(ge),["prevent"]),onClick:Oe},{default:L(()=>[Q(e(Ft))]),_:1},8,["class","onMousedown"])):A("v-if",!0),e(T)?(C(),X(e(ne),{key:2,class:z([e(g).e("icon"),e(g).e("password")]),onClick:it},{default:L(()=>[(C(),X(de(e(h))))]),_:1},8,["class"])):A("v-if",!0),e(F)?(C(),V("span",{key:3,class:z(e(g).e("count"))},[c("span",{class:z(e(g).e("count-inner"))},S(e(N))+" / "+S(e(x).maxlength),3)],2)):A("v-if",!0),e(B)&&e(l)&&e($)?(C(),X(e(ne),{key:4,class:z([e(g).e("icon"),e(g).e("validateIcon"),e(g).is("loading",e(B)==="validating")])},{default:L(()=>[(C(),X(de(e(l))))]),_:1},8,["class"])):A("v-if",!0)],2)],2)):A("v-if",!0)],2),A(" append slot "),o.$slots.append?(C(),V("div",{key:1,class:z(e(g).be("group","append"))},[q(o.$slots,"append")],2)):A("v-if",!0)],64)):(C(),V(ie,{key:1},[A(" textarea "),c("textarea",be({id:e(f),ref_key:"textarea",ref:O,class:e(H).e("inner")},e(x),{tabindex:o.tabindex,disabled:e(_),readonly:o.readonly,autocomplete:o.autocomplete,style:e(I),"aria-label":o.label,placeholder:o.placeholder,form:a.form,onCompositionstart:ze,onCompositionupdate:Fe,onCompositionend:Ae,onInput:Ce,onFocus:Re,onBlur:Be,onChange:Me,onKeydown:Pe}),null,16,xa),e(F)?(C(),V("span",{key:0,style:Ee(K.value),class:z(e(g).e("count"))},S(e(N))+" / "+S(e(x).maxlength),7)):A("v-if",!0)],64))],16,Sa)),[[et,o.type!=="hidden"]])}});var ka=Te($a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Ia=tt(ka),Da=we({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:le([String,Array,Object])},zIndex:{type:le([String,Number])}}),Ea={click:t=>t instanceof MouseEvent},Ta="overlay";var Ma=se({name:"ElOverlay",props:Da,emits:Ea,setup(t,{slots:n,emit:s}){const a=ce(Ta),i=y=>{s("click",y)},{onClick:r,onMousedown:p,onMouseup:v}=at(t.customMaskEvent?void 0:i);return()=>t.mask?Q("div",{class:[a.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:r,onMousedown:p,onMouseup:v},[q(n,"default")],$e.STYLE|$e.CLASS|$e.PROPS,["onClick","onMouseup","onMousedown"]):Rt("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[q(n,"default")])}});const za=Ma,ot=Symbol("dialogInjectionKey"),st=we({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:Ie},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),Fa={close:()=>!0},Aa=["aria-label"],Ra=["id"],Ba=se({name:"ElDialogContent"}),Pa=se({...Ba,props:st,emits:Fa,setup(t){const n=t,{t:s}=Bt(),{Close:a}=Ot,{dialogRef:i,headerRef:r,bodyId:p,ns:v,style:y}=We(ot),{focusTrapRef:x}=We(Pt),b=Vt(x,i),u=w(()=>n.draggable);return fa(i,r,u),(f,E)=>(C(),V("div",{ref:e(b),class:z([e(v).b(),e(v).is("fullscreen",f.fullscreen),e(v).is("draggable",e(u)),e(v).is("align-center",f.alignCenter),{[e(v).m("center")]:f.center},f.customClass]),style:Ee(e(y)),tabindex:"-1"},[c("header",{ref_key:"headerRef",ref:r,class:z(e(v).e("header"))},[q(f.$slots,"header",{},()=>[c("span",{role:"heading",class:z(e(v).e("title"))},S(f.title),3)]),f.showClose?(C(),V("button",{key:0,"aria-label":e(s)("el.dialog.close"),class:z(e(v).e("headerbtn")),type:"button",onClick:E[0]||(E[0]=_=>f.$emit("close"))},[Q(e(ne),{class:z(e(v).e("close"))},{default:L(()=>[(C(),X(de(f.closeIcon||e(a))))]),_:1},8,["class"])],10,Aa)):A("v-if",!0)],2),c("div",{id:e(p),class:z(e(v).e("body"))},[q(f.$slots,"default")],10,Ra),f.$slots.footer?(C(),V("footer",{key:0,class:z(e(v).e("footer"))},[q(f.$slots,"footer")],2)):A("v-if",!0)],6))}});var Oa=Te(Pa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Va=we({...st,appendToBody:{type:Boolean,default:!1},beforeClose:{type:le(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),Na={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[pe]:t=>Nt(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},La=(t,n)=>{const a=qe().emit,{nextZIndex:i}=Lt();let r="";const p=Ye(),v=Ye(),y=P(!1),x=P(!1),b=P(!1),u=P(t.zIndex||i());let f,E;const _=Ht("namespace",Ut),g=w(()=>{const m={},I=`--${_.value}-dialog`;return t.fullscreen||(t.top&&(m[`${I}-margin-top`]=t.top),t.width&&(m[`${I}-width`]=ke(t.width))),m}),H=w(()=>t.alignCenter?{display:"flex"}:{});function Y(){a("opened")}function O(){a("closed"),a(pe,!1),t.destroyOnClose&&(b.value=!1)}function j(){a("close")}function G(){E==null||E(),f==null||f(),t.openDelay&&t.openDelay>0?{stop:f}=je(()=>R(),t.openDelay):R()}function U(){f==null||f(),E==null||E(),t.closeDelay&&t.closeDelay>0?{stop:E}=je(()=>M(),t.closeDelay):M()}function W(){function m(I){I||(x.value=!0,y.value=!1)}t.beforeClose?t.beforeClose(m):U()}function K(){t.closeOnClickModal&&W()}function R(){fe&&(y.value=!0)}function M(){y.value=!1}function $(){a("openAutoFocus")}function B(){a("closeAutoFocus")}function l(m){var I;((I=m.detail)==null?void 0:I.focusReason)==="pointer"&&m.preventDefault()}t.lockScroll&&ma(y);function h(){t.closeOnPressEscape&&W()}return ae(()=>t.modelValue,m=>{m?(x.value=!1,G(),b.value=!0,u.value=t.zIndex?u.value++:i(),oe(()=>{a("open"),n.value&&(n.value.scrollTop=0)})):y.value&&U()}),ae(()=>t.fullscreen,m=>{n.value&&(m?(r=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=r)}),De(()=>{t.modelValue&&(y.value=!0,b.value=!0,G())}),{afterEnter:Y,afterLeave:O,beforeLeave:j,handleClose:W,onModalClick:K,close:U,doClose:M,onOpenAutoFocus:$,onCloseAutoFocus:B,onCloseRequested:h,onFocusoutPrevented:l,titleId:p,bodyId:v,closed:x,style:g,overlayDialogStyle:H,rendered:b,visible:y,zIndex:u}},Ha=["aria-label","aria-labelledby","aria-describedby"],Ua=se({name:"ElDialog",inheritAttrs:!1}),Wa=se({...Ua,props:Va,emits:Na,setup(t,{expose:n}){const s=t,a=Je();Ke({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},w(()=>!!a.title)),Ke({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},w(()=>!!s.customClass));const i=ce("dialog"),r=P(),p=P(),v=P(),{visible:y,titleId:x,bodyId:b,style:u,overlayDialogStyle:f,rendered:E,zIndex:_,afterEnter:g,afterLeave:H,beforeLeave:Y,handleClose:O,onModalClick:j,onOpenAutoFocus:G,onCloseAutoFocus:U,onCloseRequested:W,onFocusoutPrevented:K}=La(s,r);Wt(ot,{dialogRef:r,headerRef:p,bodyId:b,ns:i,rendered:E,style:u});const R=at(j),M=w(()=>s.draggable&&!s.fullscreen);return n({visible:y,dialogContentRef:v}),($,B)=>(C(),X(Zt,{to:"body",disabled:!$.appendToBody},[Q(Kt,{name:"dialog-fade",onAfterEnter:e(g),onAfterLeave:e(H),onBeforeLeave:e(Y),persisted:""},{default:L(()=>[Qe(Q(e(za),{"custom-mask-event":"",mask:$.modal,"overlay-class":$.modalClass,"z-index":e(_)},{default:L(()=>[c("div",{role:"dialog","aria-modal":"true","aria-label":$.title||void 0,"aria-labelledby":$.title?void 0:e(x),"aria-describedby":e(b),class:z(`${e(i).namespace.value}-overlay-dialog`),style:Ee(e(f)),onClick:B[0]||(B[0]=(...l)=>e(R).onClick&&e(R).onClick(...l)),onMousedown:B[1]||(B[1]=(...l)=>e(R).onMousedown&&e(R).onMousedown(...l)),onMouseup:B[2]||(B[2]=(...l)=>e(R).onMouseup&&e(R).onMouseup(...l))},[Q(e(Yt),{loop:"",trapped:e(y),"focus-start-el":"container",onFocusAfterTrapped:e(G),onFocusAfterReleased:e(U),onFocusoutPrevented:e(K),onReleaseRequested:e(W)},{default:L(()=>[e(E)?(C(),X(Oa,be({key:0,ref_key:"dialogContentRef",ref:v},$.$attrs,{"custom-class":$.customClass,center:$.center,"align-center":$.alignCenter,"close-icon":$.closeIcon,draggable:e(M),fullscreen:$.fullscreen,"show-close":$.showClose,title:$.title,onClose:e(O)}),jt({header:L(()=>[$.$slots.title?q($.$slots,"title",{key:1}):q($.$slots,"header",{key:0,close:e(O),titleId:e(x),titleClass:e(i).e("title")})]),default:L(()=>[q($.$slots,"default")]),_:2},[$.$slots.footer?{name:"footer",fn:L(()=>[q($.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):A("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ha)]),_:3},8,["mask","overlay-class","z-index"]),[[et,e(y)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Ya=Te(Wa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const ja=tt(Ya);const Ka=c("span",{class:"dialog-footer"},null,-1),Za={__name:"dialog",props:["dialogVisible","data"],emits:["closeDialog"],setup(t,{emit:n}){const s=t;let a=P();async function i(){la.preview(a.value,`

`+y.value)}function r(u){if(!u)return"0.00";var u=Math.round(parseFloat(u)*100)/100,f=u.toString().split(".");if(f.length==1)return u=u.toString()+".00",u;if(f.length>1)return f[1].length<2&&(u=u.toString()+"0"),u}w(()=>s.dialogVisible);function p(b,u=0){let f=`
`;const E=_=>"  ".repeat(_);for(const[_,g]of Object.entries(b))typeof g=="object"&&g!==null?(f+=`${E(u)}- **${_}**
`,f+=p(g,u+1)):f+=`${E(u)}- ${_}: ${g}
`;return f}function v(b){return new Date(b).toISOString()}let y=w(()=>{let b=()=>{let f="";for(const E in s.data.resources){const _=s.data.resources[E];f+=`The resource with ID ${_.resourceId} was originally planned to have ${r(_.plannedUnits)} units. The initial planned usage rate was ${r(_.plannedUnitsPerHour)} units per hour, and it currently remains at ${r(_.Units)} units per hour. However, after optimization, the new usage rate is ${r(_.newUnitsPerHour)} units per hour, and the new daily usage is ${r(_.newUnitsPerDay)} units per day.
`}return f};return`This is a task named '${s.data.name}' categorized as '${s.data.type}', and it is ${s.data.critical==!0?"":"not"} a Critical Task.
   Before optimization,
   it is scheduled to start on ${v(s.data.plannedStart).replace("T"," ").replace("Z","").slice(0,16)} (date) and finish on ${v(s.data.plannedFinish).replace("T"," ").replace("Z","").slice(0,16)} (date), with an estimated duration of ${s.data.remainingDuration} hours. 
  After optimization,
   it is scheduled to start on ${v(s.data.newStart).replace("T"," ").replace("Z","").slice(0,16)} (date) and finish on ${v(s.data.newFinish).replace("T"," ").replace("Z","").slice(0,16)} (date), with an estimated duration of ${s.data.newDuration} hours. 
Resources:
${b()}As of now, the task has not commenced and is labeled as '${s.data.status}.' The task's duration ratio is ${r(s.data.durationRatio)}.`+p(s.data)});const x=()=>{n("closeDialog")};return(b,u)=>{const f=ja;return C(),X(f,{onOpen:i,onClose:x,modelValue:s.dialogVisible,"onUpdate:modelValue":u[0]||(u[0]=E=>s.dialogVisible=E),title:"Detailed content",width:"50%",draggable:""},{footer:L(()=>[Ka]),default:L(()=>[c("span",null,S(e(y).id),1),c("div",{ref_key:"editorRef",ref:a},null,512)]),_:1},8,["modelValue"])}}};const Xa={class:"contain"},qa={class:"box"},Ga={class:"sp"},Ja={class:"step"},Qa={class:"step"},eo={class:"maintop"},to={class:"item"},ao={class:"title"},oo={class:"center"},so={class:"changed"},no={class:"base"},lo={class:"bottom"},io={class:"item"},ro={class:"title"},uo={class:"center"},co={class:"changed"},po={class:"base"},fo={class:"bottom"},mo={class:"item"},vo={class:"title"},ho={class:"center"},yo={class:"changed"},go={class:"base"},bo={class:"bottom"},wo={class:"mainEchar1"},So={class:"Echar1top"},Co=ta('<div class="choosebox" data-v-5943e205><div class="choose" data-v-5943e205><div style="background-color:#b0e054;" class="item" data-v-5943e205></div><div data-v-5943e205>Optimized</div></div><div class="choose" data-v-5943e205><div style="background-color:#5474c4;" class="item" data-v-5943e205></div><div data-v-5943e205>Baseline</div></div><div class="choose" data-v-5943e205><div style="background-color:red;" class="item" data-v-5943e205></div><div data-v-5943e205>Critical Path</div></div><div class="choose" data-v-5943e205><div style="background-color:pink;" class="item" data-v-5943e205></div><div data-v-5943e205>Critical Path(baseline)</div></div></div><div id="main" data-v-5943e205></div>',2),xo={ref:"main",style:{width:"1150px",height:"610px"},id:"myEcharts"},_o={class:"mainEchar2"},$o={class:"Echar2top"},ko={class:"resources-title"},Io={class:"types"},Do={ref:"main01",style:{width:"1150px",height:"610px"},id:"myEcharts01"},Eo={class:"button"},To={__name:"index",setup(t){const n=qt(),s=Gt();let a=P(!1),i=P("");const r=()=>{a.value=!1};Jt((l,h,m)=>{l.name=="InputData",m()}),Qt(()=>{n.selectChange&&(M.value="",g(),K(),n.selectChange=!1)});function p(l,h){return Math.round(l/h*1e4)/100+"%"}function v(l){return new Date(l).toISOString()}function y(l){const h=new Date(l);return`${h.getUTCFullYear()}/${h.getUTCMonth()+1}/${h.getUTCDate()} ${("0"+h.getUTCHours()).slice(-2)}:${("0"+h.getUTCMinutes()).slice(-2)}:${("0"+h.getUTCSeconds()).slice(-2)}`}const x=l=>l[0]===void 0||l[0].length===0?[]:l[0].xy.map(h=>{const[m,I]=Object.entries(h)[0];return{value:[v(parseInt(m)),I],name:v(parseInt(m))+I+l[1]}});let b=oa,u=P(2),f,E=w(()=>n.selectedData?n.selectedData.baselineTasks.filter(h=>h.critical):void 0);function _(l){return`<span >${l}</span>`}function g(){let l=[],h=n.selectedData.baselineTasks.map((d,T)=>{let F=n.selectedData.tasks.find(N=>N.id===d.id);return l.push(F),T=n.selectedData.baselineTasks.length-T,{name:d.name,value:[T,v(d.newStart),v(d.newFinish),d],itemStyle:{color:d.critical?"pink":void 0}}});l=l.map((d,T)=>(T=l.length-T+.2,{id:d.id,name:d.name,value:[T,v(d.newStart),v(d.newFinish),d],itemStyle:{color:d.critical?"red":void 0}}));let m=b.init(document.getElementById("myEcharts"),"purple-passion");m.on("click",function(d){i.value=d.data.value[3],a.value=!0});var I;let D=(d,T)=>{let F=T.coord([T.value(1),T.value(0)]),N=T.coord([T.value(2),T.value(0)]),Z=T.size([0,1])[1]*.5;return{type:"rect",shape:sa({x:F[0],y:F[1]-Z/2,width:Math.max(N[0]-F[0],1),height:Z},d.coordSys),style:T.style(),focus:"self",blurScope:"coordinateSystem",emphasis:{}}};I={toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},dataZoom:[{type:"slider",filterMode:"weakFilter",xAxisIndex:[0],labelFormatter:function(d){return y(d)},moveHandleSize:15,height:15,moveHandleStyle:{}},{type:"slider",filterMode:"weakFilter",yAxisIndex:[0]},{type:"inside",filterMode:"weakFilter",xAxisIndex:[0]},{type:"inside",filterMode:"weakFilter",yAxisIndex:[0]}],legend:{data:["baseline","new"]},xAxis:{name:"date",type:"time",axisLabel:{formatter:function(d,T){return y(d)}}},yAxis:{name:"tasks"},selectedMode:"single",series:[{name:"baseline",type:"custom",data:h,large:!0,renderItem:D,encode:{x:[1,2],y:0}},{name:"new",type:"custom",data:l,large:!0,renderItem:D,encode:{x:[1,2],y:0}}],tooltip:{formatter:d=>{let T="Resources: <br/>";if(d.value[3].resources)for(const N in d.value[3].resources){let Z=d.value[3].resources,te=n.selectedData.newResources.find(Se=>Se.id==N);te||(te=""),console.log(te),T+=` &nbsp&nbspResource &nbsp  ${te==null?void 0:te.name} &nbsp id: ${N}  <br/>&nbsp&nbsp&nbsp&nbspunits/hour:${Y(Z[N].plannedUnitsPerHour)}=> ${Y(Z[N].newUnitsPerHour)}<br/>`}function F(N){let Z;switch(N){case"New":d.value[3].critical?Z="red":Z="#b0e054";break;case"Old":d.value[3].critical?Z="pink":Z="#5474c4"}return`<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:${Z};"></span>`}return`${d.name}<br/>
        <div style='margin-top:20px'>
         ${F("New")} New: ${d.value[1].replace("T"," ").replace("Z","").slice(0,16)} -> ${d.value[2].replace("T"," ").replace("Z","").slice(0,16)}
         (${d.value[3].newDuration})
        <br/>
         ${F("Old")} Old: ${_(v(d.value[3].plannedStart).replace("T"," ").replace("Z","").slice(0,16))} -> ${_(v(d.value[3].plannedFinish).replace("T"," ").replace("Z","").slice(0,16))}
       (${_(d.value[3].plannedDuration)})
         <br/>
         ${T}
        </div>`}}},I&&m.setOption(I),m.on("mousemove",function(d){m.dispatchAction({type:"highlight",dataIndex:d.dataIndex})}),f=b.init(document.getElementById("myEcharts01"),"purple-passion"),f.on("mousemove",function(d){f.dispatchAction({type:"highlight",name:d.name})}),f.on("click",function(d){console.log(d.name),f.dispatchAction({type:"select",name:d.name})})}let H=P("");function Y(h){if(!h)return"0.00";var h=Math.round(parseFloat(h)*100)/100,m=h.toString().split(".");if(m.length==1)return h=h.toString()+".00",h;if(m.length>1)return m[1].length<2&&(h=h.toString()+"0"),h}function O(l,h){return l.reduce(function(m,I){let D=I[h];return m[D]||(m[D]=[]),m[D].push(I),m},{})}let j=w(()=>{let l=n.selectedData.baselineResources.map(m=>({id:m.id,name:m.name,type:m.type})),h=O(l,"type");if(H.value){const m=new RegExp(H.value,"i");let I={};for(let D in h)I[D]=h[D].filter(d=>m.test(d.name));return I}else return h}),G=w(()=>{var m;const l=n.selectedData.baselineResources;let h="base";return M.value?[l.filter(D=>D.id&&D.id===M.value)[0].distribution,h]:l.length==0?[]:(M.value=l[0].id,[(m=l[0])==null?void 0:m.distribution,h])}),U=w(()=>{var m;const l=n.selectedData.newResources;let h="new";return M.value?[l.filter(D=>D.id&&D.id===M.value)[0].distribution,h]:l.length==0?[]:[(m=l[0])==null?void 0:m.distribution,h]}),W=w(()=>({toolbox:{feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},dataZoom:[{type:"slider",filterMode:"none"},{type:"slider",filterMode:"none"},{type:"inside",filterMode:"none"},{type:"inside",filterMode:"none"}],tooltip:{trigger:"axis",axisPointer:{type:"cross"}},animation:!1,legend:{data:["baseline","new"]},xAxis:{name:"date",type:"time",axisLabel:{formatter:"{yyyy}-{MM}-{dd}"}},yAxis:{name:"units / day"},series:[{name:"baseline",type:"bar",data:x(G.value),large:!0,selectedMode:"single",select:{itemStyle:{color:"red",borderWidth:"5px"}},emphasis:{focus:"self",blurScope:"coordinateSystem"}},{name:"new",type:"bar",data:x(U.value),large:!0,selectedMode:"single",select:{itemStyle:{color:"red",borderWidth:"5px"}},emphasis:{focus:"series",blurScope:"coordinateSystem"}}]}));function K(){f.setOption(W.value)}ae(u,()=>{K()});async function R(){s.push({name:"OptimizedReport"}),n.active=3}let M=P("");function $(){s.push({name:"BaselineSummary"}),n.active=1}function B(l){M.value=l}return ae(M,()=>{K()}),(l,h)=>{const m=Ia,I=ea("v-btn"),D=aa;return C(),V(ie,null,[c("div",Xa,[c("div",qa,[c("h2",null,[he(S(l.$t("optimizedSummary.title[0]"))+" ",1),c("span",Ga,S(e(n).SummaryData.group),1),c("div",Ja,[c("span",null,S(e(n).setting.Steps)+" "+S(l.$t("optimizedSummary.title[1]")),1)]),c("div",Qa,[c("span",null,S(`${e(n).setting.Ratio[0]*100}% - ${e(n).setting.Ratio[1]*100}% ${l.$t("optimizedSummary.title[2]")}`),1)])]),c("div",eo,[c("div",to,[c("div",ao,S(l.$t("optimizedSummary.header[0]")),1),c("div",oo,[c("span",so,S(e(n).SummaryData.changedDuration)+"/",1),c("span",no,S(e(n).SummaryData.baseDuration),1)]),c("div",lo,S(p(e(n).SummaryData.changedDuration,e(n).SummaryData.baseDuration)),1)]),c("div",io,[c("div",ro,S(l.$t("optimizedSummary.header[1]")),1),c("div",uo,[c("span",co,S(e(n).SummaryData.changgedTasks)+"/",1),c("span",po,S(e(n).SummaryData.TotalTasks),1)]),c("div",fo,S(p(e(n).SummaryData.changgedTasks,e(n).SummaryData.TotalTasks)),1)]),c("div",mo,[c("div",vo,S(l.$t("optimizedSummary.header[2]")),1),c("div",ho,[c("span",yo,S(e(E).length)+"/",1),c("span",go,S(e(n).selectedData.baselineTasks.length),1)]),c("div",bo,S(p(e(E).length,e(n).selectedData.baselineTasks.length)),1)])]),c("div",wo,[c("div",So,[c("div",null,S(l.$t("optimizedSummary.chartName[0]")),1)]),c("span",null,S(l.$t("optimizedSummary.chartName[1]")),1),Co,c("div",xo,null,512)]),c("div",_o,[c("div",$o,[c("div",null,S(l.$t("optimizedSummary.chartName[2]")),1)]),c("span",null,S(l.$t("optimizedSummary.chartName[3]")),1),Q(m,{modelValue:e(H),"onUpdate:modelValue":h[0]||(h[0]=d=>Ge(H)?H.value=d:H=d),placeholder:"Search Resources"},null,8,["modelValue"]),(C(!0),V(ie,null,Ze(e(j),(d,T)=>(C(),V("div",null,[c("div",ko,S(T)+" Resources",1),c("div",Io,[(C(!0),V(ie,null,Ze(d,(F,N)=>(C(),V("div",{key:N,class:"type"},[Q(I,{variant:"text",value:N,class:z({activeType:e(M)==F.id}),onClick:()=>{B(F.id)}},{default:L(()=>[he(S(F.name)+" "+S(F.type),1)]),_:2},1032,["value","class","onClick"])]))),128))])]))),256)),c("div",Do,null,512)]),c("div",Eo,[Q(D,{onClick:$,class:"btnback"},{default:L(()=>[he(S(l.$t("optimizedSummary.btn[0]")),1)]),_:1}),Q(D,{onClick:R,class:"btngo"},{default:L(()=>[he(S(l.$t("optimizedSummary.btn[1]")),1)]),_:1})])])]),Q(Za,{onCloseDialog:r,data:e(i),dialogVisible:e(a)},null,8,["data","dialogVisible"])],64)}}},Po=Xt(To,[["__scopeId","data-v-5943e205"]]);export{Po as default};
