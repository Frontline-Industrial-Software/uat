import{l as P,av as ie,aw as Z,A as ae,ax as te,ay as se,az as Me,U as T,a2 as Be,q as B,aA as $e,T as Te,n as I,u as q,o as E,c as O,a as c,aq as ne,aB as re,C as a,aC as J,B as w,E as Y,f as Q,F as A,w as ce,L as X,aD as ue,D as de,aE as De,aF as Fe,aG as ze,ao as pe,ab as Ie,aH as K,aI as Le,a7 as U,a8 as Ve,M as Ee,aJ as me,_ as Oe,af as Ne,aK as Ue,aL as Pe,at as We,ap as le,b as C,I as $,ai as oe,K as Ge,aM as je,p as He,e as Ke}from"./index-0e27bd31.js";import{e as Ze,i as H}from"./index-f7adadce.js";import{C as N}from"./index-d5029b74.js";import{_ as qe}from"./next-8eaf6381.js";const ge=P({size:ie,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Je=P({...ge,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),he={[Z]:p=>ae(p)||te(p)||se(p),[Me]:p=>ae(p)||te(p)||se(p)},ye=Symbol("radioGroupKey"),be=(p,t)=>{const m=T(),i=Be(ye,void 0),f=B(()=>!!i),l=B({get(){return f.value?i.modelValue:p.modelValue},set(x){f.value?i.changeEvent(x):t&&t(Z,x),m.value.checked=p.modelValue===p.label}}),s=$e(B(()=>i==null?void 0:i.size)),r=Te(B(()=>i==null?void 0:i.disabled)),b=T(!1),k=B(()=>r.value||f.value&&l.value!==p.label?-1:0);return{radioRef:m,isGroup:f,radioGroup:i,focus:b,size:s,disabled:r,tabIndex:k,modelValue:l}},Ye=["value","name","disabled"],Qe=I({name:"ElRadio"}),Xe=I({...Qe,props:Je,emits:he,setup(p,{emit:t}){const m=p,i=q("radio"),{radioRef:f,radioGroup:l,focus:s,size:r,disabled:b,modelValue:k}=be(m,t);function x(){ue(()=>t("change",k.value))}return(n,u)=>{var g;return E(),O("label",{class:w([a(i).b(),a(i).is("disabled",a(b)),a(i).is("focus",a(s)),a(i).is("bordered",n.border),a(i).is("checked",a(k)===n.label),a(i).m(a(r))])},[c("span",{class:w([a(i).e("input"),a(i).is("disabled",a(b)),a(i).is("checked",a(k)===n.label)])},[ne(c("input",{ref_key:"radioRef",ref:f,"onUpdate:modelValue":u[0]||(u[0]=M=>J(k)?k.value=M:null),class:w(a(i).e("original")),value:n.label,name:n.name||((g=a(l))==null?void 0:g.name),disabled:a(b),type:"radio",onFocus:u[1]||(u[1]=M=>s.value=!0),onBlur:u[2]||(u[2]=M=>s.value=!1),onChange:x},null,42,Ye),[[re,a(k)]]),c("span",{class:w(a(i).e("inner"))},null,2)],2),c("span",{class:w(a(i).e("label")),onKeydown:u[3]||(u[3]=ce(()=>{},["stop"]))},[Y(n.$slots,"default",{},()=>[Q(A(n.label),1)])],34)],2)}}});var ea=X(Xe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const aa=P({...ge,name:{type:String,default:""}}),ta=["value","name","disabled"],sa=I({name:"ElRadioButton"}),la=I({...sa,props:aa,setup(p){const t=p,m=q("radio"),{radioRef:i,focus:f,size:l,disabled:s,modelValue:r,radioGroup:b}=be(t),k=B(()=>({backgroundColor:(b==null?void 0:b.fill)||"",borderColor:(b==null?void 0:b.fill)||"",boxShadow:b!=null&&b.fill?`-1px 0 0 0 ${b.fill}`:"",color:(b==null?void 0:b.textColor)||""}));return(x,n)=>{var u;return E(),O("label",{class:w([a(m).b("button"),a(m).is("active",a(r)===x.label),a(m).is("disabled",a(s)),a(m).is("focus",a(f)),a(m).bm("button",a(l))])},[ne(c("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":n[0]||(n[0]=g=>J(r)?r.value=g:null),class:w(a(m).be("button","original-radio")),value:x.label,type:"radio",name:x.name||((u=a(b))==null?void 0:u.name),disabled:a(s),onFocus:n[1]||(n[1]=g=>f.value=!0),onBlur:n[2]||(n[2]=g=>f.value=!1)},null,42,ta),[[re,a(r)]]),c("span",{class:w(a(m).be("button","inner")),style:de(a(r)===x.label?a(k):{}),onKeydown:n[3]||(n[3]=ce(()=>{},["stop"]))},[Y(x.$slots,"default",{},()=>[Q(A(x.label),1)])],38)],2)}}});var ve=X(la,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const oa=P({id:{type:String,default:void 0},size:ie,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),ia=he,na=["id","aria-label","aria-labelledby"],ra=I({name:"ElRadioGroup"}),ca=I({...ra,props:oa,emits:ia,setup(p,{emit:t}){const m=p,i=q("radio"),f=De(),l=T(),{formItem:s}=Fe(),{inputId:r,isLabeledByFormItem:b}=ze(m,{formItemContext:s}),k=n=>{t(Z,n),ue(()=>t("change",n))};pe(()=>{const n=l.value.querySelectorAll("[type=radio]"),u=n[0];!Array.from(n).some(g=>g.checked)&&u&&(u.tabIndex=0)});const x=B(()=>m.name||f.value);return Ie(ye,K({...Le(m),changeEvent:k,name:x})),U(()=>m.modelValue,()=>{m.validateEvent&&(s==null||s.validate("change").catch(n=>Ve()))}),(n,u)=>(E(),O("div",{id:a(r),ref_key:"radioGroupRef",ref:l,class:w(a(i).b("group")),role:"radiogroup","aria-label":a(b)?void 0:n.label||"radio-group","aria-labelledby":a(b)?a(s).labelId:void 0},[Y(n.$slots,"default")],10,na))}});var fe=X(ca,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const ua=Ee(ea,{RadioButton:ve,RadioGroup:fe}),da=me(fe);me(ve);const pa={class:"echarts-box"},ma={__name:"index",props:{width:{type:String},height:{type:String},options:{type:Object}},setup(p){const t=p;let m=Ze;pe(()=>{i()});function i(){let f=m.init(document.getElementById("myEcharts"),"purple-passion");f.setOption({...t.options,dataZoom:[{type:"inside",throttle:50}],tooltip:{trigger:"axis"}}),window.onresize=function(){f.resize()}}return(f,l)=>(E(),O("div",pa,[c("div",{id:"myEcharts",style:de({width:t.firstwidth,height:t.height})},null,4)]))}};const ga=p=>(He("data-v-8351d2b7"),p=p(),Ke(),p),ha={class:"all"},ya={class:"step"},ba={class:"step"},va={class:"main"},fa={class:"left"},Sa={class:"lefttop"},xa={class:"chartContent"},Ca={class:"right echarts-box"},Ra={class:"righttop"},_a={class:"rightbutton"},ka={style:{"font-size":"18px",width:"202px","font-weight":"700"}},wa=ga(()=>c("span",null,"Minimum Costs",-1)),Aa={__name:"index",setup(p){const t=Ne();let m=T("Balanced1"),i=T(!0);function f(){i.value==!1?i.value=!0:i.value=!1,setTimeout(()=>{Ae()},0)}let l=K({preset:"Balanced",fileName:t.file.name,step:3}),s=K({baseDuration:"-",changedDuration:"-",changgedTasks:"-",TotalTasks:"-",baseCriticalPath:"-",changedCriticalPath:"-",TotalResources:"-",group:"",planDurationDays:"-"}),r=T(0);Ue((e,o,S)=>{S()}),Pe(()=>{Se(),xe()});function b(e,o){return o==0?"0%":Math.round(e/o*1e4)/100+"%"}const k=We();U(m,()=>{n.setOption(W.value),u.setOption(G.value),g.setOption(j.value)}),U(t.dataArray,()=>{n.setOption(W.value),u.setOption(G.value),g.setOption(j.value)});var x="";U(t.end,async()=>{t.end.data?(R.value=we(),r.value=0,setTimeout(()=>{n.dispatchAction({type:"select",name:R.value[1][0].name}),u.dispatchAction({type:"select",name:R.value[1][0].name}),g.dispatchAction({type:"select",name:R.value[1][0].name}),x=`Total Cost(${t.dataArray.Balanced.all[0].result.currSymbol}${t.dataArray.Balanced.all[0].result.currName?" , "+t.dataArray.Balanced.all[0].result.currName:""})`,g.setOption({yAxis:{name:x}}),L(R.value[1][0].value[2].result),l.preset="Balanced",l.step=R.value[1][0].value[2].result.step,l.totalCost=R.value[1][0].value[2].result.totalCost,l.resourcesSpread=R.value[1][0].value[2].result.spanResourceUnitAgg,l.criticalTasks=R.value[1][0].value[2].result.newCriticalTasksLen},0)):(m=T(""),m.value="Balanced1",r.value=0,s.baseDuration="-",s.changedDuration="-",s.changgedTasks="-",s.TotalTasks="-",s.baseCriticalPath="-",s.changedCriticalPath="-",s.TotalResources="-",s.group="",s.maxResourceUnit="-",s.BasemaxResourceUnit="-",s.planDurationDays="-")},{deep:!0});let n=null,u=null,g=null;function M(e,o,S){let d,y;return e=="Baseline"?(d=16,y=1):(d=8,y=.5),{type:"scatter",selectedMode:"single",selectedOffset:10,symbol:v=>{let h="path://M18.018,15.344c-0.285,0-0.555-0.162-0.684-0.441l-6.595-12.076l-6.594,12.076c-0.128,0.279-0.398,0.441-0.684,0.441c-0.491,0-0.706-0.638-0.249-0.929l6.997-12.808l-6.997-12.809c-0.457-0.291-0.242-0.929,0.249-0.929c0.286,0,0.556,0.162,0.684,0.441l6.595,12.076l6.594-12.076c0.127-0.279,0.398-0.441,0.684-0.441c0.49,0,0.705,0.638,0.249,0.929l-6.998,12.808l6.998,12.809c0.456,0.291,0.241,0.929-0.249,0.929H18.018z";return v[2].result.constraintLoss>0?h:"circle"},select:{scale:2,itemStyle:{color:"#40aa97",borderColor:"#40aa97",shadowColor:"#40aa97",borderWidth:10,shadowBlur:30,opacity:1}},emphasis:{scale:2,focus:"series",blurScope:"coordinateSystem"},data:t.dataArray[e].span,name:e,symbolSize:d,itemStyle:{color:v=>o,borderWidth:1,borderColor:"#0b0f07",opacity:y}}}function D(e,o,S){let d,y;return e=="Baseline"?(d=16,y=1):(d=8,y=.5),{type:"scatter",selectedMode:"single",selectedOffset:10,symbol:v=>{let h="path://M18.018,15.344c-0.285,0-0.555-0.162-0.684-0.441l-6.595-12.076l-6.594,12.076c-0.128,0.279-0.398,0.441-0.684,0.441c-0.491,0-0.706-0.638-0.249-0.929l6.997-12.808l-6.997-12.809c-0.457-0.291-0.242-0.929,0.249-0.929c0.286,0,0.556,0.162,0.684,0.441l6.595,12.076l6.594-12.076c0.127-0.279,0.398-0.441,0.684-0.441c0.49,0,0.705,0.638,0.249,0.929l-6.998,12.808l6.998,12.809c0.456,0.291,0.241,0.929-0.249,0.929H18.018z";return v[2].result.constraintLoss>0?h:"circle"},select:{scale:2,itemStyle:{color:"#40aa97",borderColor:"#40aa97",shadowColor:"#40aa97",borderWidth:10,shadowBlur:30,opacity:1}},emphasis:{scale:2,focus:"series",blurScope:"coordinateSystem"},data:t.dataArray[e].data,name:e,symbolSize:d,itemStyle:{color:v=>o,borderWidth:1,borderColor:"#0b0f07",opacity:y}}}function F(e,o,S){let d,y;return e=="Baseline"?(d=16,y=1):(d=8,y=.5),{type:"scatter",selectedMode:"single",selectedOffset:10,symbol:v=>{let h="path://M18.018,15.344c-0.285,0-0.555-0.162-0.684-0.441l-6.595-12.076l-6.594,12.076c-0.128,0.279-0.398,0.441-0.684,0.441c-0.491,0-0.706-0.638-0.249-0.929l6.997-12.808l-6.997-12.809c-0.457-0.291-0.242-0.929,0.249-0.929c0.286,0,0.556,0.162,0.684,0.441l6.595,12.076l6.594-12.076c0.127-0.279,0.398-0.441,0.684-0.441c0.49,0,0.705,0.638,0.249,0.929l-6.998,12.808l6.998,12.809c0.456,0.291,0.241,0.929-0.249,0.929H18.018z";return v[2].result.constraintLoss>0?h:"circle"},select:{scale:2,itemStyle:{color:"#40aa97",borderColor:"#40aa97",shadowColor:"#40aa97",borderWidth:10,shadowBlur:30,opacity:1}},emphasis:{scale:2,focus:"series",blurScope:"coordinateSystem"},data:t.dataArray[e].cost,name:e,symbolSize:d,itemStyle:{color:v=>o,borderWidth:1,borderColor:"#0b0f07",opacity:y}}}var W=B(()=>{const e=Object.values(t.dataArray).flatMap(h=>h.data.map(_=>_.value[0])),o=parseFloat((Math.min(...e)*.95).toFixed(2)),S=parseFloat((Math.max(...e)*1.05).toFixed(2)),d=Object.values(t.dataArray).flatMap(h=>h.data.map(_=>_.value[1])),y=parseFloat((Math.min(...d)*.95).toFixed(2)),v=parseFloat((Math.max(...d)*1.05).toFixed(2));return{tooltip:{show:!0},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},axisPointer:{show:!0,snap:!0},dataZoom:[{type:"inside",xAxisIndex:[0]},{type:"inside",yAxisIndex:[0]}],grid:{right:10,top:90,height:"75%"},xAxis:{name:"Duration (days)",nameLocation:"middle",padding:[10],height:100,min:o,max:S,nameTextStyle:{align:"center",padding:[30,0,0,0],fontWeight:"lighter",fontSize:20,color:"black"}},yAxis:{name:"Maximum Resource (units/day)",max:v,min:y,padding:[10],nameLocation:"end",nameTextStyle:{align:"center",padding:[0,0,0,130],fontWeight:"lighter",fontSize:16,color:"black"}},legend:{data:[{name:"Baseline",itemStyle:{color:"rgb(204, 204, 204)"}},{name:"Balanced",itemStyle:{color:"rgba(130, 181, 199, 0.9)"}},{name:"Fastest",itemStyle:{color:"rgba(247, 220, 91, 0.9)"}},{name:"Minimum Resources",itemStyle:{color:"rgba(219, 121, 48, 0.9)"}},{name:"Levelled Resources",itemStyle:{color:"rgba(170, 187, 93, 0.9)"}},{name:"Minimum Costs",itemStyle:{color:"rgba(245, 34, 45, 0.9)"}}],x:"left",itemWidth:15,itemHeight:15,textStyle:{fontSize:10}},series:[D("Baseline","rgb(204, 204, 204)"),D("Balanced","rgba(130, 181, 199, 0.9)"),D("Fastest","rgba(247, 220, 91, 0.9)"),D("Minimum Resources","rgba(219, 121, 48, 0.9)"),D("Levelled Resources","rgba(170, 187, 93, 0.9)"),D("Minimum Costs","rgba(245, 34, 45, 0.9)")]}}),G=B(()=>{const e=Object.values(t.dataArray).flatMap(h=>h.data.map(_=>_.value[0])),o=parseFloat((Math.min(...e)*.95).toFixed(2)),S=parseFloat((Math.max(...e)*1.05).toFixed(2)),d=Object.values(t.dataArray).flatMap(h=>h.data.map(_=>_.value[2].result.spanResourceUnitAgg)),y=parseFloat((Math.min(...d)*.95).toFixed(2)),v=parseFloat((Math.max(...d)*1.05).toFixed(2));return{tooltip:{show:!0},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},axisPointer:{show:!0,snap:!0},dataZoom:[{type:"inside",xAxisIndex:[0]},{type:"inside",yAxisIndex:[0]}],grid:{right:10,top:90,height:"75%"},xAxis:{name:"Duration (days)",nameLocation:"middle",padding:[10],height:100,min:o,max:S,nameTextStyle:{align:"center",padding:[30,0,0,0],fontWeight:"lighter",fontSize:20,color:"black"}},yAxis:{name:"Resources Spread (units/day)",max:v,min:y,padding:[10],nameLocation:"end",nameTextStyle:{align:"center",padding:[0,0,0,130],fontWeight:"lighter",fontSize:16,color:"black"}},legend:{data:[{name:"Baseline",itemStyle:{color:"rgb(204, 204, 204)"}},{name:"Balanced",itemStyle:{color:"rgba(130, 181, 199, 0.9)"}},{name:"Fastest",itemStyle:{color:"rgba(247, 220, 91, 0.9)"}},{name:"Minimum Resources",itemStyle:{color:"rgba(219, 121, 48, 0.9)"}},{name:"Levelled Resources",itemStyle:{color:"rgba(170, 187, 93, 0.9)"}},{name:"Minimum Costs",itemStyle:{color:"rgba(245, 34, 45, 0.9)"}}],x:"left",itemWidth:15,itemHeight:15,textStyle:{fontSize:10}},series:[M("Baseline","rgb(204, 204, 204)"),M("Balanced","rgba(130, 181, 199, 0.9)"),M("Fastest","rgba(247, 220, 91, 0.9)"),M("Minimum Resources","rgba(219, 121, 48, 0.9)"),M("Levelled Resources","rgba(170, 187, 93, 0.9)"),M("Minimum Costs","rgba(245, 34, 45, 0.9)")]}}),j=B(()=>{const e=Object.values(t.dataArray).flatMap(h=>h.data.map(_=>_.value[0])),o=parseFloat((Math.min(...e)*.95).toFixed(2)),S=parseFloat((Math.max(...e)*1.05).toFixed(2)),d=Object.values(t.dataArray).flatMap(h=>h.cost.map(_=>_.value[1])),y=parseFloat((Math.min(...d)*.95).toFixed(2)),v=parseFloat((Math.max(...d)*1.05).toFixed(2));return g.getWidth(),{tooltip:{show:!0},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},axisPointer:{show:!0,snap:!0},dataZoom:[{type:"inside",xAxisIndex:[0]},{type:"inside",yAxisIndex:[0]}],grid:{right:10,top:90,height:"75%"},xAxis:{name:"Duration (days)",nameLocation:"middle",padding:[10],height:100,min:o,max:S,nameTextStyle:{align:"center",padding:[30,0,0,0],fontWeight:"lighter",fontSize:20,color:"black"}},yAxis:{name:x===""?"Total Cost":x,max:v,min:y,padding:[10],nameLocation:"end",axisLabel:{show:!0,interval:0,width:40,overflow:"breakAll"},nameTextStyle:{align:"left",padding:[0,0,0,-27],fontWeight:"lighter",fontSize:14,color:"black"}},legend:{data:[{name:"Baseline",itemStyle:{color:"rgb(204, 204, 204)"}},{name:"Balanced",itemStyle:{color:"rgba(130, 181, 199, 0.9)"}},{name:"Fastest",itemStyle:{color:"rgba(247, 220, 91, 0.9)"}},{name:"Minimum Resources",itemStyle:{color:"rgba(219, 121, 48, 0.9)"}},{name:"Levelled Resources",itemStyle:{color:"rgba(170, 187, 93, 0.9)"}},{name:"Minimum Costs",itemStyle:{color:"rgba(245, 34, 45, 0.9)"}}],x:"left",itemWidth:15,itemHeight:15,textStyle:{fontSize:10}},series:[F("Baseline","rgb(204, 204, 204)"),F("Balanced","rgba(130, 181, 199, 0.9)"),F("Fastest","rgba(247, 220, 91, 0.9)"),F("Minimum Resources","rgba(219, 121, 48, 0.9)"),F("Levelled Resources","rgba(170, 187, 93, 0.9)"),F("Minimum Costs","rgba(245, 34, 45, 0.9)")]}});function Se(){n==null&&(g=H(document.getElementById("costEcharts"),"purple-passion"),n=H(document.getElementById("myEcharts"),"purple-passion"),u=H(document.getElementById("twoEcharts"),"purple-passion")),n.on("click",function(e){u.dispatchAction({type:"select",name:e.name}),n.dispatchAction({type:"select",name:e.name}),g.dispatchAction({type:"select",name:e.name});let o=e.data.value[2].result;switch(l.preset=e.seriesName,l.step=o.step,l.totalCost=o.totalCost,l.resourcesSpread=o.spanResourceUnitAgg,l.criticalTasks=o.newCriticalTasksLen,e.seriesName=="Baseline"?l.preset="Balanced":l.preset=e.seriesName,l.preset){case"Balanced":r.value=0;break;case"Fastest":r.value=1;break;case"Minimum_Resources":r.value=2;break;case"Levelled_Resources":r.value=3;break}L(o)}),u.on("click",function(e){u.dispatchAction({type:"select",name:e.name}),n.dispatchAction({type:"select",name:e.name}),g.dispatchAction({type:"select",name:e.name});let o=e.data.value[2].result;switch(l.preset=e.seriesName,l.step=o.step,l.preset=e.seriesName,l.step=o.step,l.totalCost=o.totalCost,l.resourcesSpread=o.spanResourceUnitAgg,l.criticalTasks=o.newCriticalTasksLen,e.seriesName=="Baseline"?l.preset="Balanced":l.preset=e.seriesName,l.preset){case"Balanced":r.value=0;break;case"Fastest":r.value=1;break;case"Minimum_Resources":r.value=2;break;case"Levelled_Resources":r.value=3;break}L(o)}),g.on("click",function(e){g.dispatchAction({type:"select",name:e.name}),u.dispatchAction({type:"select",name:e.name}),n.dispatchAction({type:"select",name:e.name});let o=e.data.value[2].result;switch(l.preset=e.seriesName,l.step=o.step,l.preset=e.seriesName,l.step=o.step,l.totalCost=o.totalCost,l.resourcesSpread=o.spanResourceUnitAgg,l.criticalTasks=o.newCriticalTasksLen,e.seriesName=="Baseline"?l.preset="Balanced":l.preset=e.seriesName,l.preset){case"Balanced":r.value=0;break;case"Fastest":r.value=1;break;case"Minimum_Resources":r.value=2;break;case"Levelled_Resources":r.value=3;break}L(o)})}function xe(){n.setOption(W.value),u.setOption(G.value),g.setOption(j.value)}function L(e){s.group=e.group,s.baseDuration=Math.ceil(e.baselineDurationDaysWithCalendar),s.changedDuration=Math.ceil(e.projectDurationDaysWithCalendar),s.planDurationDays=Math.ceil(t.originalplan.originalDurationDays),s.changgedTasks=Math.ceil(e.changedTasksLen),s.TotalTasks=Math.ceil(e.baselineTasksLen),s.baseCriticalPath=Math.ceil(e.baselineCriticalTasksLen),s.changedCriticalPath=Math.ceil(e.newCriticalTasksLen),s.TotalResources=Math.ceil(e.totalResourceCount),s.maxResourceUnit=Math.ceil(e.maxResourceUnitAgg),s.BasemaxResourceUnit=Math.ceil(t.dataArray.Baseline.all[0].result.maxResourceUnitAgg)}function Ce(){var e=new Date,o=e.getFullYear(),S=(e.getMonth()+1).toString().padStart(2,"0"),d=e.getDate().toString().padStart(2,"0"),y=e.getHours().toString().padStart(2,"0"),v=e.getMinutes().toString().padStart(2,"0"),h=e.getSeconds().toString().padStart(2,"0"),_=o+"-"+S+"-"+d+" "+y+":"+v+":"+h;return _}function Re(){return{datetime:Ce(),user:t.email,projectInfo:`filename:${t.truefile},tasks: ${s.TotalTasks}, resources: ${s.maxResourceUnit}`,settings:`Ignore Actual Start / Actual Finish: ${t.setting.IgnoreProject},Learning Rate:${t.setting.Rate}, How To Handle Tasks Without Resources: ${t.setting.considerDefaultResourceType}, Method To Satisfy Resource Constraints: ${t.setting.resourceConstraint},Optimization Ratio:${_e(t.setting.Ratio)},Optimization Steps:${t.setting.Steps}`,baselineInfo:`duration:${t.dataArray.Baseline.all[0].result.baselineDurationDaysWithCalendar}, maxResources: ${t.dataArray.Baseline.all[0].result.maxResourceUnitAgg}, resourcesSpread: ${t.dataArray.Baseline.all[0].result.spanResourceUnitAgg},totalCost: ${ee(t.dataArray.Baseline.all[0].result.totalCost)}, criticalTasks: ${t.dataArray.Baseline.all[0].result.baselineCriticalTasksLen}`,userAction:`preset: ${l.preset}, step:${t.setting.Steps}, duration: ${s.changedDuration} days, maxResources: ${s.maxResourceUnit}, resourcesSpread: ${l.resourcesSpread}, totalCost: ${ee(l.totalCost)}, criticalTasks: ${l.criticalTasks}`}}function ee(e){return t.dataArray.Balanced.all[0].result.currSymbol+e}function _e(e){return e.map(S=>(S*100).toFixed(0)+"%").join(" - ")}async function ke(){t.wss.close(),l.fileName=t.file.name,l.considerDefaultResourceType=t.setting.considerDefaultResourceType,l.resourceConstraint=t.setting.resourceConstraint,l.preset=l.preset.replace(/ /g,"_");let e=await oe.getOptimized({...l},t.file.size);t.SummaryData={...s},t.selectedData=null,console.log(e.data),t.selectedData=e.data,t.active=2,t.selectChange=!0,await oe.UploadUserlog(Re()),k.push({name:"optimizedSummary"})}let R=T(null);function we(){let e=[];for(const o in t.dataArray){let S=je(t.dataArray[o].data);S.sort((d,y)=>d.value[2].result.loss-y.value[2].result.loss),e.push(S)}return e}function V(e){n.dispatchAction({type:"select",name:R.value[e][0].name}),u.dispatchAction({type:"select",name:R.value[e][0].name}),g.dispatchAction({type:"select",name:R.value[e][0].name}),m=R.value[e][0].name,l.preset=R.value[e][0].value[2].name,l.step=R.value[e][0].value[2].result.step,L(R.value[e][0].value[2].result)}function Ae(){const e=g.getWidth();console.log(e),e<1e3?g.setOption({yAxis:{axisLabel:{show:!0,interval:0,width:100,overflow:"breakAll"}}}):g.setOption({yAxis:{axisLabel:{show:!0,interval:0,width:40,overflow:"breakAll"}}}),n.resize(),u.resize(),g.resize()}return(e,o)=>{const S=le("Menu"),d=Ge,y=le("Expand"),v=ma,h=ua,_=da;return E(),O("div",ha,[c("h2",null,[Q(A(e.$t("baselineSummary.title[0]"))+" ",1),c("div",ya,[c("span",null,A(a(t).setting.Steps)+" "+A(e.$t("baselineSummary.title[1]")),1)]),c("div",ba,[c("span",null,A(`${a(t).setting.Ratio[0]*100}% - ${a(t).setting.Ratio[1]*100}% ${e.$t("baselineSummary.title[2]")}`),1)]),C(d,{style:{"margin-top":"3px"},onClick:f,class:w({active:a(i),normal:!a(i)})},{default:$(()=>[C(S)]),_:1},8,["class"]),C(d,{style:{"margin-top":"3px"},onClick:f,class:w({active:!a(i),normal:a(i)})},{default:$(()=>[C(y)]),_:1},8,["class"])]),c("div",va,[c("div",fa,[c("div",Sa,[c("div",null,A(e.$t("baselineSummary.chartName[0]")),1)]),c("div",xa,[C(v,{class:w({chartCanvasList:!a(i),chartCanvas:a(i)}),id:"costEcharts"},null,8,["class"]),C(v,{class:w({chartCanvasList:!a(i),chartCanvas:a(i)}),id:"myEcharts"},null,8,["class"]),C(v,{class:w({chartCanvasList:!a(i),chartCanvas:a(i)}),id:"twoEcharts"},null,8,["class"])]),c("div",Ca,[c("div",Ra,[c("div",null,[C(N,{title:e.$t("baselineSummary.Tsidebar[0]"),height:138,precent:b(a(s).changedDuration-a(s).baseDuration,a(s).baseDuration),isPositive:!0,body:[a(s).changedDuration+" days",a(s).baseDuration+" days",a(s).planDurationDays+" days"]},null,8,["title","precent","body"]),C(N,{title:e.$t("baselineSummary.Tsidebar[1]"),height:138,precent:b(a(s).maxResourceUnit-a(s).BasemaxResourceUnit,a(s).BasemaxResourceUnit),isPositive:!0,body:[a(s).maxResourceUnit,a(s).BasemaxResourceUnit]},null,8,["title","precent","body"])]),c("div",null,[C(N,{title:e.$t("baselineSummary.Tsidebar[2]"),height:138,body:[a(s).changgedTasks,a(s).TotalTasks]},null,8,["title","body"]),C(N,{title:e.$t("baselineSummary.Tsidebar[3]"),height:138,body:[a(s).changedCriticalPath,a(s).changedCriticalPath,a(s).baseCriticalPath]},null,8,["title","body"])])]),c("div",_a,[c("h1",ka,A(e.$t("baselineSummary.Bsidebar[0]")),1),C(_,{modelValue:a(r),"onUpdate:modelValue":o[5]||(o[5]=z=>J(r)?r.value=z:r=z),class:"radiobox"},{default:$(()=>[C(h,{onClick:o[0]||(o[0]=()=>{V(1)}),label:0},{default:$(()=>[c("span",null,A(e.$t("types.typeShow[1]")),1)]),_:1}),C(h,{onClick:o[1]||(o[1]=z=>V(2)),label:1},{default:$(()=>[c("span",null,A(e.$t("types.typeShow[2]")),1)]),_:1}),C(h,{label:2,onClick:o[2]||(o[2]=z=>V(3))},{default:$(()=>[c("span",null,A(e.$t("types.typeShow[3]")),1)]),_:1}),C(h,{label:3,onClick:o[3]||(o[3]=z=>V(4))},{default:$(()=>[c("span",null,A(e.$t("types.typeShow[4]")),1)]),_:1}),C(h,{label:4,onClick:o[4]||(o[4]=z=>V(5))},{default:$(()=>[wa]),_:1})]),_:1},8,["modelValue"])]),C(qe,{style:"color:white;width:300px;",disabled:a(t).end.data,onClicked:ke,title:"Generate"},null,8,["disabled"])])])])])}}},Da=Oe(Aa,[["__scopeId","data-v-8351d2b7"]]);export{Da as default};
