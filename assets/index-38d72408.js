import{j as A,an as q,ao as P,v as H,ap as K,aq as U,ar as ue,T as B,a3 as de,m as T,as as ce,R as pe,l as M,u as L,x as z,y as x,B as l,at as X,au as Y,A as e,av as O,z as R,D as j,ai as S,E as n,X as Z,_ as W,aw as J,C as Q,ax as me,ay as be,az as fe,aA as ee,ac as ve,aB as G,aC as he,a8 as F,a9 as ye,K as ge,aD as ae,aE as Se,ak as _e,ag as ke,aF as $e,aG as Ce,al as Re,am as Te,Y as D,H as E,aH as De}from"./index-47567ba7.js";import{e as Be,i as we,r as Ee}from"./index-11e546f7.js";import{e as Me}from"./ecStat-d1f7a8a8.js";import{a as Ve}from"./index-32245cbc.js";const te=A({size:q,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),ze=A({...te,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),se={[P]:c=>H(c)||K(c)||U(c),[ue]:c=>H(c)||K(c)||U(c)},le=Symbol("radioGroupKey"),oe=(c,o)=>{const u=B(),s=de(le,void 0),t=T(()=>!!s),p=T({get(){return t.value?s.modelValue:c.modelValue},set(b){t.value?s.changeEvent(b):o&&o(P,b),u.value.checked=c.modelValue===c.label}}),v=ce(T(()=>s==null?void 0:s.size)),h=pe(T(()=>s==null?void 0:s.disabled)),i=B(!1),m=T(()=>h.value||t.value&&p.value!==c.label?-1:0);return{radioRef:u,isGroup:t,radioGroup:s,focus:i,size:v,disabled:h,tabIndex:m,modelValue:p}},xe=["value","name","disabled"],Ie=M({name:"ElRadio"}),Fe=M({...Ie,props:ze,emits:se,setup(c,{emit:o}){const u=c,s=L("radio"),{radioRef:t,radioGroup:p,focus:v,size:h,disabled:i,modelValue:m}=oe(u,o);function b(){J(()=>o("change",m.value))}return(r,f)=>{var g;return z(),x("label",{class:R([e(s).b(),e(s).is("disabled",e(i)),e(s).is("focus",e(v)),e(s).is("bordered",r.border),e(s).is("checked",e(m)===r.label),e(s).m(e(h))])},[l("span",{class:R([e(s).e("input"),e(s).is("disabled",e(i)),e(s).is("checked",e(m)===r.label)])},[X(l("input",{ref_key:"radioRef",ref:t,"onUpdate:modelValue":f[0]||(f[0]=V=>O(m)?m.value=V:null),class:R(e(s).e("original")),value:r.label,name:r.name||((g=e(p))==null?void 0:g.name),disabled:e(i),type:"radio",onFocus:f[1]||(f[1]=V=>v.value=!0),onBlur:f[2]||(f[2]=V=>v.value=!1),onChange:b},null,42,xe),[[Y,e(m)]]),l("span",{class:R(e(s).e("inner"))},null,2)],2),l("span",{class:R(e(s).e("label")),onKeydown:f[3]||(f[3]=Z(()=>{},["stop"]))},[j(r.$slots,"default",{},()=>[S(n(r.label),1)])],34)],2)}}});var Ae=W(Fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const Ne=A({...te,name:{type:String,default:""}}),Ge=["value","name","disabled"],Pe=M({name:"ElRadioButton"}),Le=M({...Pe,props:Ne,setup(c){const o=c,u=L("radio"),{radioRef:s,focus:t,size:p,disabled:v,modelValue:h,radioGroup:i}=oe(o),m=T(()=>({backgroundColor:(i==null?void 0:i.fill)||"",borderColor:(i==null?void 0:i.fill)||"",boxShadow:i!=null&&i.fill?`-1px 0 0 0 ${i.fill}`:"",color:(i==null?void 0:i.textColor)||""}));return(b,r)=>{var f;return z(),x("label",{class:R([e(u).b("button"),e(u).is("active",e(h)===b.label),e(u).is("disabled",e(v)),e(u).is("focus",e(t)),e(u).bm("button",e(p))])},[X(l("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":r[0]||(r[0]=g=>O(h)?h.value=g:null),class:R(e(u).be("button","original-radio")),value:b.label,type:"radio",name:b.name||((f=e(i))==null?void 0:f.name),disabled:e(v),onFocus:r[1]||(r[1]=g=>t.value=!0),onBlur:r[2]||(r[2]=g=>t.value=!1)},null,42,Ge),[[Y,e(h)]]),l("span",{class:R(e(u).be("button","inner")),style:Q(e(h)===b.label?e(m):{}),onKeydown:r[3]||(r[3]=Z(()=>{},["stop"]))},[j(b.$slots,"default",{},()=>[S(n(b.label),1)])],38)],2)}}});var ne=W(Le,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const Oe=A({id:{type:String,default:void 0},size:q,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),je=se,We=["id","aria-label","aria-labelledby"],He=M({name:"ElRadioGroup"}),Ke=M({...He,props:Oe,emits:je,setup(c,{emit:o}){const u=c,s=L("radio"),t=me(),p=B(),{formItem:v}=be(),{inputId:h,isLabeledByFormItem:i}=fe(u,{formItemContext:v}),m=r=>{o(P,r),J(()=>o("change",r))};ee(()=>{const r=p.value.querySelectorAll("[type=radio]"),f=r[0];!Array.from(r).some(g=>g.checked)&&f&&(f.tabIndex=0)});const b=T(()=>u.name||t.value);return ve(le,G({...he(u),changeEvent:m,name:b})),F(()=>u.modelValue,()=>{u.validateEvent&&(v==null||v.validate("change").catch(r=>ye()))}),(r,f)=>(z(),x("div",{id:e(h),ref_key:"radioGroupRef",ref:p,class:R(e(s).b("group")),role:"radiogroup","aria-label":e(i)?void 0:r.label||"radio-group","aria-labelledby":e(i)?e(v).labelId:void 0},[j(r.$slots,"default")],10,We))}});var ie=W(Ke,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const Ue=ge(Ae,{RadioButton:ne,RadioGroup:ie}),qe=ae(ie);ae(ne);const Xe={class:"echarts-box"},Ye={__name:"index",props:{width:{type:String},height:{type:String},options:{type:Object}},setup(c){const o=c;let u=Be;ee(()=>{s()});function s(){let t=u.init(document.getElementById("myEcharts"),"purple-passion");t.setOption({...o.options,dataZoom:[{type:"inside",throttle:50}],tooltip:{trigger:"axis"}}),window.onresize=function(){t.resize()}}return(t,p)=>(z(),x("div",Xe,[l("div",{id:"myEcharts",style:Q({width:o.firstwidth,height:o.height})},null,4)]))}};var Ze=Me;const Je=Se(Ze);const Qe={class:"step"},ea={class:"step"},aa={class:"main"},ta={class:"left"},sa={class:"lefttop"},la={class:"right"},oa={class:"righttop"},na={class:"rightbutton"},ia={__name:"index",setup(c){const o=ke();let u=B("Balanced1"),s=G({preset:"Balanced",fileName:o.file.name,step:3}),t=G({baseDuration:"-",changedDuration:"-",changgedTasks:"-",TotalTasks:"-",baseCriticalPath:"-",changedCriticalPath:"-",TotalResources:"-",group:""}),p=B(0);$e((a,d,$)=>{$()}),Ce(()=>{r(),f()});function v(a,d){return Math.round(a/d*1e4)/100+"%"}const h=Re();F(u,()=>{i.setOption(b.value)}),F(o.dataArray,()=>{i.setOption(b.value)}),F(o.end,async()=>{o.end.data?(k.value=re(),p.value=0,setTimeout(()=>{i.dispatchAction({type:"select",name:k.value[1][0].name}),g(k.value[1][0].value[2].result),s.preset="Balanced",s.step=k.value[1][0].value[2].result.step},0)):(u=B(""),u.value="Balanced1",p.value=0,t.baseDuration="-",t.changedDuration="-",t.changgedTasks="-",t.TotalTasks="-",t.baseCriticalPath="-",t.changedCriticalPath="-",t.TotalResources="-",t.group="")},{deep:!0});let i=null;function m(a,d,$){let y,C;return a=="baseline"?(y=16,C=1):(y=8,C=.5),{type:"scatter",selectedMode:"single",selectedOffset:10,symbol:w=>{let _="path://M18.018,15.344c-0.285,0-0.555-0.162-0.684-0.441l-6.595-12.076l-6.594,12.076c-0.128,0.279-0.398,0.441-0.684,0.441c-0.491,0-0.706-0.638-0.249-0.929l6.997-12.808l-6.997-12.809c-0.457-0.291-0.242-0.929,0.249-0.929c0.286,0,0.556,0.162,0.684,0.441l6.595,12.076l6.594-12.076c0.127-0.279,0.398-0.441,0.684-0.441c0.49,0,0.705,0.638,0.249,0.929l-6.998,12.808l6.998,12.809c0.456,0.291,0.241,0.929-0.249,0.929H18.018z";return w[2].result.constraintLoss>0?_:"circle"},select:{scale:2,itemStyle:{color:"#40aa97",borderColor:"#40aa97",shadowColor:"#40aa97",borderWidth:10,shadowBlur:30,opacity:1}},emphasis:{scale:2,focus:"series",blurScope:"coordinateSystem"},data:o.dataArray[a].data,name:a,symbolSize:y,itemStyle:{color:w=>d,borderWidth:1,borderColor:"#0b0f07",opacity:C}}}var b=T(()=>{const a=Object.values(o.dataArray).flatMap(_=>_.data.map(N=>N.value[0])),d=parseFloat((Math.min(...a)*.95).toFixed(2)),$=parseFloat((Math.max(...a)*1.05).toFixed(2)),y=Object.values(o.dataArray).flatMap(_=>_.data.map(N=>N.value[1])),C=parseFloat((Math.min(...y)*.95).toFixed(2)),w=parseFloat((Math.max(...y)*1.05).toFixed(2));return{toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},grid:{top:100,height:"65%"},xAxis:{name:"Duration (days)",nameLocation:"middle",padding:[10],height:100,min:d,max:$,nameTextStyle:{align:"center",padding:[30,0,0,0],fontWeight:"lighter",fontSize:20,color:"black"}},yAxis:{name:"Maximum Resource (units/day)",max:w,min:C,padding:[10],nameLocation:"end",nameTextStyle:{align:"center",padding:[0,0,0,100],fontWeight:"lighter",fontSize:16,color:"black"}},legend:{itemGap:40,data:[{name:"baseline",itemStyle:{color:"rgb(204, 204, 204)"}},{name:"Balanced",itemStyle:{color:"rgba(130, 181, 199, 0.9)"}},{name:"Fastest",itemStyle:{color:"rgba(247, 220, 91, 0.9)"}},{name:"Minimum_Resources",itemStyle:{color:"rgba(219, 121, 48, 0.9)"}},{name:"Levelled_Resources",itemStyle:{color:"rgba(170, 187, 93, 0.9)"}}],x:"left",itemWidth:15,itemHeight:15},series:[m("baseline","rgb(204, 204, 204)"),m("Balanced","rgba(130, 181, 199, 0.9)"),m("Fastest","rgba(247, 220, 91, 0.9)"),m("Minimum_Resources","rgba(219, 121, 48, 0.9)"),m("Levelled_Resources","rgba(170, 187, 93, 0.9)")]}});function r(){i==null&&(i=we(document.getElementById("myEcharts"),"purple-passion")),Ee(Je.transform.clustering),i.on("click",function(a){i.dispatchAction({type:"select",name:a.name});let d=a.data.value[2].result;switch(s.preset=a.seriesName,s.step=d.step,a.seriesName=="baseline"?s.preset="Balanced":s.preset=a.seriesName,s.preset){case"Balanced":p.value=0;break;case"Fastest":p.value=1;break;case"Minimum_Resources":p.value=2;break;case"Levelled_Resources":p.value=3;break}g(d)})}function f(){i.setOption(b.value)}function g(a){t.group=a.group,t.baseDuration=Math.ceil(a.baselineDurationDaysWithCalendar),t.changedDuration=Math.ceil(a.projectDurationDays),t.changgedTasks=Math.ceil(a.changedTasksLen),t.TotalTasks=Math.ceil(a.baselineTasksLen),t.baseCriticalPath=Math.ceil(a.baselineCriticalTasksLen),t.changedCriticalPath=Math.ceil(a.newCriticalTasksLen),t.TotalResources=Math.ceil(a.totalResourceCount)}async function V(){s.fileName=o.file.name;let a=await Ve.getOptimized({...s},o.file.size);o.SummaryData={...t},o.selectedData=null,o.selectedData=a.data,o.active=2,o.selectChange=!0,h.push({name:"optimizedSummary"})}let k=B(null);function re(){let a=[];for(const d in o.dataArray){let $=De(o.dataArray[d].data);$.sort((y,C)=>y.value[2].result.loss-C.value[2].result.loss),a.push($)}return a}function I(a){i.dispatchAction({type:"select",name:k.value[a][0].name}),u=k.value[a][0].name,s.preset=k.value[a][0].value[2].name,s.step=k.value[a][0].value[2].result.step,g(k.value[a][0].value[2].result)}return(a,d)=>{const $=Ye,y=Ue,C=qe,w=Te("v-btn");return z(),x("div",null,[l("h2",null,[S(n(a.$t("baselineSummary.title[0]"))+" ",1),l("div",Qe,[l("span",null,n(e(o).setting.Steps)+" "+n(a.$t("baselineSummary.title[1]")),1)]),l("div",ea,[l("span",null,n(`${e(o).setting.Ratio[0]*100}% - ${e(o).setting.Ratio[1]*100}% ${a.$t("baselineSummary.title[2]")}`),1)])]),l("div",aa,[l("div",ta,[l("div",sa,[l("div",null,n(a.$t("baselineSummary.chartName[0]")),1)]),D($,{style:{width:"720px",height:"500px"},id:"myEcharts"})]),l("div",la,[l("div",oa,[l("div",null,n(a.$t("baselineSummary.Tsidebar[0]"))+" "+n(v(e(t).changedDuration,e(t).baseDuration)),1),l("h1",null,[S(n(e(t).changedDuration)+"/ ",1),l("span",null,n(e(t).baseDuration),1),S(" days ")]),l("div",null,n(a.$t("baselineSummary.Tsidebar[1]")),1),l("h1",null,[S(n(e(t).changgedTasks)+"/ ",1),l("span",null,n(e(t).TotalTasks),1)]),l("div",null,n(a.$t("baselineSummary.Tsidebar[2]"))+" "+n(v(e(t).baseCriticalPath,e(t).TotalTasks)),1),l("h1",null,[S(n(e(t).baseCriticalPath)+"/ ",1),l("span",null,n(e(t).TotalTasks),1)]),l("div",null,n(a.$t("baselineSummary.Tsidebar[3]")),1),l("h1",null,n(e(t).TotalResources),1)]),l("div",na,[l("h1",null,n(a.$t("baselineSummary.Bsidebar[0]")),1),l("div",null,n(a.$t("baselineSummary.Bsidebar[1]")),1),D(C,{modelValue:e(p),"onUpdate:modelValue":d[4]||(d[4]=_=>O(p)?p.value=_:p=_),class:"radiobox"},{default:E(()=>[D(y,{onClick:d[0]||(d[0]=()=>{I(1)}),label:0},{default:E(()=>[S(n(a.$t("types.typeShow[1]"))+" ",1),l("span",null,n(a.$t("types.msg[0]")),1)]),_:1}),D(y,{onClick:d[1]||(d[1]=_=>I(2)),label:1},{default:E(()=>[S(n(a.$t("types.typeShow[2]"))+" ",1),l("span",null,n(a.$t("types.msg[1]")),1)]),_:1}),D(y,{label:2,onClick:d[2]||(d[2]=_=>I(3))},{default:E(()=>[S(n(a.$t("types.typeShow[3]"))+" ",1),l("span",null,n(a.$t("types.msg[2]")),1)]),_:1}),D(y,{label:3,onClick:d[3]||(d[3]=_=>I(4))},{default:E(()=>[S(n(a.$t("types.typeShow[4]"))+" ",1),l("span",null,n(a.$t("types.msg[3]")),1)]),_:1})]),_:1},8,["modelValue"])]),D(w,{disabled:!e(o).end.data,onClick:V,class:"btn",icon:"el-icon-delete"},{default:E(()=>[S(n(a.$t("next")),1)]),_:1},8,["disabled"])])])])}}},pa=_e(ia,[["__scopeId","data-v-3c23507e"]]);export{pa as default};
