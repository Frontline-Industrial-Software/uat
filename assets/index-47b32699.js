import{j as N,at as J,au as L,v as K,av as H,aw as q,ax as de,T as w,a3 as ce,m as D,ay as pe,R as me,l as E,u as U,x as I,y as z,B as i,ao as X,az as Y,A as e,aA as O,z as B,D as j,aj as $,E as f,X as Z,_ as W,aB as Q,C as ee,aC as be,aD as fe,aE as ve,am as ae,ac as he,aF as P,aG as ye,a8 as F,a9 as ge,K as Se,aH as te,aI as _e,al as Re,ag as ke,aJ as Ce,aK as $e,as as Be,an as De,Y as _,H as T,aL as Te,aq as we,ar as xe}from"./index-9ceb0bb4.js";import{e as Ee,i as Me,r as Ve}from"./index-11e546f7.js";import{e as Ie,C as A}from"./index-11806236.js";import{a as ze}from"./index-a3a35d58.js";const se=N({size:J,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Ae=N({...se,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),le={[L]:r=>K(r)||H(r)||q(r),[de]:r=>K(r)||H(r)||q(r)},oe=Symbol("radioGroupKey"),ne=(r,l)=>{const u=w(),s=ce(oe,void 0),t=D(()=>!!s),c=D({get(){return t.value?s.modelValue:r.modelValue},set(m){t.value?s.changeEvent(m):l&&l(L,m),u.value.checked=r.modelValue===r.label}}),v=pe(D(()=>s==null?void 0:s.size)),h=me(D(()=>s==null?void 0:s.disabled)),o=w(!1),p=D(()=>h.value||t.value&&c.value!==r.label?-1:0);return{radioRef:u,isGroup:t,radioGroup:s,focus:o,size:v,disabled:h,tabIndex:p,modelValue:c}},Fe=["value","name","disabled"],Ne=E({name:"ElRadio"}),Ge=E({...Ne,props:Ae,emits:le,setup(r,{emit:l}){const u=r,s=U("radio"),{radioRef:t,radioGroup:c,focus:v,size:h,disabled:o,modelValue:p}=ne(u,l);function m(){Q(()=>l("change",p.value))}return(n,b)=>{var g;return I(),z("label",{class:B([e(s).b(),e(s).is("disabled",e(o)),e(s).is("focus",e(v)),e(s).is("bordered",n.border),e(s).is("checked",e(p)===n.label),e(s).m(e(h))])},[i("span",{class:B([e(s).e("input"),e(s).is("disabled",e(o)),e(s).is("checked",e(p)===n.label)])},[X(i("input",{ref_key:"radioRef",ref:t,"onUpdate:modelValue":b[0]||(b[0]=M=>O(p)?p.value=M:null),class:B(e(s).e("original")),value:n.label,name:n.name||((g=e(c))==null?void 0:g.name),disabled:e(o),type:"radio",onFocus:b[1]||(b[1]=M=>v.value=!0),onBlur:b[2]||(b[2]=M=>v.value=!1),onChange:m},null,42,Fe),[[Y,e(p)]]),i("span",{class:B(e(s).e("inner"))},null,2)],2),i("span",{class:B(e(s).e("label")),onKeydown:b[3]||(b[3]=Z(()=>{},["stop"]))},[j(n.$slots,"default",{},()=>[$(f(n.label),1)])],34)],2)}}});var Pe=W(Ge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const Le=N({...se,name:{type:String,default:""}}),Ue=["value","name","disabled"],Oe=E({name:"ElRadioButton"}),je=E({...Oe,props:Le,setup(r){const l=r,u=U("radio"),{radioRef:s,focus:t,size:c,disabled:v,modelValue:h,radioGroup:o}=ne(l),p=D(()=>({backgroundColor:(o==null?void 0:o.fill)||"",borderColor:(o==null?void 0:o.fill)||"",boxShadow:o!=null&&o.fill?`-1px 0 0 0 ${o.fill}`:"",color:(o==null?void 0:o.textColor)||""}));return(m,n)=>{var b;return I(),z("label",{class:B([e(u).b("button"),e(u).is("active",e(h)===m.label),e(u).is("disabled",e(v)),e(u).is("focus",e(t)),e(u).bm("button",e(c))])},[X(i("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":n[0]||(n[0]=g=>O(h)?h.value=g:null),class:B(e(u).be("button","original-radio")),value:m.label,type:"radio",name:m.name||((b=e(o))==null?void 0:b.name),disabled:e(v),onFocus:n[1]||(n[1]=g=>t.value=!0),onBlur:n[2]||(n[2]=g=>t.value=!1)},null,42,Ue),[[Y,e(h)]]),i("span",{class:B(e(u).be("button","inner")),style:ee(e(h)===m.label?e(p):{}),onKeydown:n[3]||(n[3]=Z(()=>{},["stop"]))},[j(m.$slots,"default",{},()=>[$(f(m.label),1)])],38)],2)}}});var ie=W(je,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const We=N({id:{type:String,default:void 0},size:J,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Ke=le,He=["id","aria-label","aria-labelledby"],qe=E({name:"ElRadioGroup"}),Je=E({...qe,props:We,emits:Ke,setup(r,{emit:l}){const u=r,s=U("radio"),t=be(),c=w(),{formItem:v}=fe(),{inputId:h,isLabeledByFormItem:o}=ve(u,{formItemContext:v}),p=n=>{l(L,n),Q(()=>l("change",n))};ae(()=>{const n=c.value.querySelectorAll("[type=radio]"),b=n[0];!Array.from(n).some(g=>g.checked)&&b&&(b.tabIndex=0)});const m=D(()=>u.name||t.value);return he(oe,P({...ye(u),changeEvent:p,name:m})),F(()=>u.modelValue,()=>{u.validateEvent&&(v==null||v.validate("change").catch(n=>ge()))}),(n,b)=>(I(),z("div",{id:e(h),ref_key:"radioGroupRef",ref:c,class:B(e(s).b("group")),role:"radiogroup","aria-label":e(o)?void 0:n.label||"radio-group","aria-labelledby":e(o)?e(v).labelId:void 0},[j(n.$slots,"default")],10,He))}});var re=W(Je,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const Xe=Se(Pe,{RadioButton:ie,RadioGroup:re}),Ye=te(re);te(ie);const Ze={class:"echarts-box"},Qe={__name:"index",props:{width:{type:String},height:{type:String},options:{type:Object}},setup(r){const l=r;let u=Ee;ae(()=>{s()});function s(){let t=u.init(document.getElementById("myEcharts"),"purple-passion");t.setOption({...l.options,dataZoom:[{type:"inside",throttle:50}],tooltip:{trigger:"axis"}}),window.onresize=function(){t.resize()}}return(t,c)=>(I(),z("div",Ze,[i("div",{id:"myEcharts",style:ee({width:l.firstwidth,height:l.height})},null,4)]))}};var ea=Ie;const aa=_e(ea);const ta=r=>(we("data-v-3381820f"),r=r(),xe(),r),sa={class:"step"},la={class:"step"},oa={class:"main"},na={class:"left"},ia={class:"lefttop"},ra={class:"right"},ua={class:"righttop"},da={class:"rightbutton"},ca=ta(()=>i("span",null,"Satisfies all constraints",-1)),pa={__name:"index",setup(r){const l=ke();let u=w("Balanced1"),s=P({preset:"Balanced",fileName:l.file.name,step:3}),t=P({baseDuration:"-",changedDuration:"-",changgedTasks:"-",TotalTasks:"-",baseCriticalPath:"-",changedCriticalPath:"-",TotalResources:"-",group:""}),c=w(0);Ce((a,d,k)=>{k()}),$e(()=>{n(),b()});function v(a,d){return Math.round(a/d*1e4)/100+"%"}const h=Be();F(u,()=>{o.setOption(m.value)}),F(l.dataArray,()=>{o.setOption(m.value)}),F(l.end,async()=>{l.end.data?(R.value=ue(),c.value=0,setTimeout(()=>{o.dispatchAction({type:"select",name:R.value[1][0].name}),g(R.value[1][0].value[2].result),s.preset="Balanced",s.step=R.value[1][0].value[2].result.step},0)):(u=w(""),u.value="Balanced1",c.value=0,t.baseDuration="-",t.changedDuration="-",t.changgedTasks="-",t.TotalTasks="-",t.baseCriticalPath="-",t.changedCriticalPath="-",t.TotalResources="-",t.group="",t.maxResourceUnit="-",t.BasemaxResourceUnit="-")},{deep:!0});let o=null;function p(a,d,k){let y,C;return a=="baseline"?(y=16,C=1):(y=8,C=.5),{type:"scatter",selectedMode:"single",selectedOffset:10,symbol:x=>{let S="path://M18.018,15.344c-0.285,0-0.555-0.162-0.684-0.441l-6.595-12.076l-6.594,12.076c-0.128,0.279-0.398,0.441-0.684,0.441c-0.491,0-0.706-0.638-0.249-0.929l6.997-12.808l-6.997-12.809c-0.457-0.291-0.242-0.929,0.249-0.929c0.286,0,0.556,0.162,0.684,0.441l6.595,12.076l6.594-12.076c0.127-0.279,0.398-0.441,0.684-0.441c0.49,0,0.705,0.638,0.249,0.929l-6.998,12.808l6.998,12.809c0.456,0.291,0.241,0.929-0.249,0.929H18.018z";return x[2].result.constraintLoss>0?S:"circle"},select:{scale:2,itemStyle:{color:"#40aa97",borderColor:"#40aa97",shadowColor:"#40aa97",borderWidth:10,shadowBlur:30,opacity:1}},emphasis:{scale:2,focus:"series",blurScope:"coordinateSystem"},data:l.dataArray[a].data,name:a,symbolSize:y,itemStyle:{color:x=>d,borderWidth:1,borderColor:"#0b0f07",opacity:C}}}var m=D(()=>{const a=Object.values(l.dataArray).flatMap(S=>S.data.map(G=>G.value[0])),d=parseFloat((Math.min(...a)*.95).toFixed(2)),k=parseFloat((Math.max(...a)*1.05).toFixed(2)),y=Object.values(l.dataArray).flatMap(S=>S.data.map(G=>G.value[1])),C=parseFloat((Math.min(...y)*.95).toFixed(2)),x=parseFloat((Math.max(...y)*1.05).toFixed(2));return{toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},grid:{top:100,height:"65%"},xAxis:{name:"Duration (days)",nameLocation:"middle",padding:[10],height:100,min:d,max:k,nameTextStyle:{align:"center",padding:[30,0,0,0],fontWeight:"lighter",fontSize:20,color:"black"}},yAxis:{name:"Maximum Resource (units/day)",max:x,min:C,padding:[10],nameLocation:"end",nameTextStyle:{align:"center",padding:[0,0,0,100],fontWeight:"lighter",fontSize:16,color:"black"}},legend:{itemGap:40,data:[{name:"baseline",itemStyle:{color:"rgb(204, 204, 204)"}},{name:"Balanced",itemStyle:{color:"rgba(130, 181, 199, 0.9)"}},{name:"Fastest",itemStyle:{color:"rgba(247, 220, 91, 0.9)"}},{name:"Minimum_Resources",itemStyle:{color:"rgba(219, 121, 48, 0.9)"}},{name:"Levelled_Resources",itemStyle:{color:"rgba(170, 187, 93, 0.9)"}}],x:"left",itemWidth:15,itemHeight:15},series:[p("baseline","rgb(204, 204, 204)"),p("Balanced","rgba(130, 181, 199, 0.9)"),p("Fastest","rgba(247, 220, 91, 0.9)"),p("Minimum_Resources","rgba(219, 121, 48, 0.9)"),p("Levelled_Resources","rgba(170, 187, 93, 0.9)")]}});function n(){o==null&&(o=Me(document.getElementById("myEcharts"),"purple-passion")),Ve(aa.transform.clustering),o.on("click",function(a){o.dispatchAction({type:"select",name:a.name});let d=a.data.value[2].result;switch(s.preset=a.seriesName,s.step=d.step,a.seriesName=="baseline"?s.preset="Balanced":s.preset=a.seriesName,s.preset){case"Balanced":c.value=0;break;case"Fastest":c.value=1;break;case"Minimum_Resources":c.value=2;break;case"Levelled_Resources":c.value=3;break}g(d)})}function b(){o.setOption(m.value)}function g(a){t.group=a.group,t.baseDuration=Math.ceil(a.baselineDurationDaysWithCalendar),t.changedDuration=Math.ceil(a.projectDurationDays),t.changgedTasks=Math.ceil(a.changedTasksLen),t.TotalTasks=Math.ceil(a.baselineTasksLen),t.baseCriticalPath=Math.ceil(a.baselineCriticalTasksLen),t.changedCriticalPath=Math.ceil(a.newCriticalTasksLen),t.TotalResources=Math.ceil(a.totalResourceCount),t.maxResourceUnit=Math.ceil(a.maxResourceUnitAgg),t.BasemaxResourceUnit=Math.ceil(l.dataArray.baseline.all[0].result.maxResourceUnitAgg)}async function M(){s.fileName=l.file.name;let a=await ze.getOptimized({...s},l.file.size);l.SummaryData={...t},l.selectedData=null,l.selectedData=a.data,l.active=2,l.selectChange=!0,h.push({name:"optimizedSummary"})}let R=w(null);function ue(){let a=[];for(const d in l.dataArray){let k=Te(l.dataArray[d].data);k.sort((y,C)=>y.value[2].result.loss-C.value[2].result.loss),a.push(k)}return a}function V(a){o.dispatchAction({type:"select",name:R.value[a][0].name}),u=R.value[a][0].name,s.preset=R.value[a][0].value[2].name,s.step=R.value[a][0].value[2].result.step,g(R.value[a][0].value[2].result)}return(a,d)=>{const k=Qe,y=Xe,C=Ye,x=De("v-btn");return I(),z("div",null,[i("h2",null,[$(f(a.$t("baselineSummary.title[0]"))+" ",1),i("div",sa,[i("span",null,f(e(l).setting.Steps)+" "+f(a.$t("baselineSummary.title[1]")),1)]),i("div",la,[i("span",null,f(`${e(l).setting.Ratio[0]*100}% - ${e(l).setting.Ratio[1]*100}% ${a.$t("baselineSummary.title[2]")}`),1)])]),i("div",oa,[i("div",na,[i("div",ia,[i("div",null,f(a.$t("baselineSummary.chartName[0]")),1)]),_(k,{style:{width:"720px",height:"500px"},id:"myEcharts"})]),i("div",ra,[i("div",ua,[i("div",null,[_(A,{title:a.$t("baselineSummary.Tsidebar[0]"),height:150,precent:v(e(t).changedDuration-e(t).baseDuration,e(t).baseDuration),isPositive:!0,body:[e(t).changedDuration+" days",e(t).baseDuration+" days"]},null,8,["title","precent","body"]),_(A,{title:a.$t("baselineSummary.Tsidebar[1]"),height:150,precent:v(e(t).maxResourceUnit-e(t).BasemaxResourceUnit,e(t).BasemaxResourceUnit),isPositive:!1,body:[e(t).maxResourceUnit,e(t).BasemaxResourceUnit]},null,8,["title","precent","body"])]),i("div",null,[_(A,{title:a.$t("baselineSummary.Tsidebar[2]"),height:150,body:[e(t).changgedTasks,e(t).TotalTasks]},null,8,["title","body"]),_(A,{title:a.$t("baselineSummary.Tsidebar[3]"),height:150,body:[e(t).baseCriticalPath,e(t).TotalTasks]},null,8,["title","body"])])]),i("div",da,[i("h1",null,f(a.$t("baselineSummary.Bsidebar[0]")),1),_(C,{modelValue:e(c),"onUpdate:modelValue":d[5]||(d[5]=S=>O(c)?c.value=S:c=S),class:"radiobox"},{default:T(()=>[_(y,{onClick:d[0]||(d[0]=()=>{V(1)}),label:0},{default:T(()=>[$(f(a.$t("types.typeShow[1]"))+" ",1),i("span",null,f(a.$t("types.msg[0]")),1)]),_:1}),_(y,{onClick:d[1]||(d[1]=S=>V(2)),label:1},{default:T(()=>[$(f(a.$t("types.typeShow[2]"))+" ",1),i("span",null,f(a.$t("types.msg[1]")),1)]),_:1}),_(y,{label:2,onClick:d[2]||(d[2]=S=>V(3))},{default:T(()=>[$(f(a.$t("types.typeShow[3]"))+" ",1),i("span",null,f(a.$t("types.msg[2]")),1)]),_:1}),_(y,{label:3,onClick:d[3]||(d[3]=S=>V(4))},{default:T(()=>[$(f(a.$t("types.typeShow[4]"))+" ",1),i("span",null,f(a.$t("types.msg[3]")),1)]),_:1}),_(y,{label:3,onClick:d[4]||(d[4]=S=>V(4))},{default:T(()=>[$(" Constraint Compliance "),ca]),_:1})]),_:1},8,["modelValue"])]),_(x,{style:{outline:"none"},disabled:!e(l).end.data,onClick:M,class:"btn",color:"rgb(64, 170, 151)"},{default:T(()=>[$(f(a.$t("next")),1)]),_:1},8,["disabled"])])])])}}},ha=Re(pa,[["__scopeId","data-v-3381820f"]]);export{ha as default};
