import{o as L,a_ as X,ad as U,ae as K,a9 as Z,a$ as q,af as be,$ as T,K as he,s as M,u as ye,aF as ge,p as V,q as G,v as E,w as z,x as r,X as J,b0 as Y,A as a,b1 as W,z as $,y as j,aU as D,Z as g,F as ee,_ as H,W as ae,I as te,b2 as fe,a5 as ve,b3 as Se,a0 as se,an as _e,R as P,U as Re,Q as O,a6 as xe,J as Ce,ax as le,aW as ke,aQ as De,b4 as Me,b5 as $e,aZ as we,ap as Be,D as R,C as B,O as Te,aX as Ve,aY as Fe}from"./index-5ea04557.js";import{e as Ae,i as Q}from"./index-f7adadce.js";import{C as N}from"./index-36b99f71.js";import{a as Ee}from"./index-8e702e81.js";const oe=L({size:X,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),ze=L({...oe,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),ne={[U]:u=>K(u)||Z(u)||q(u),[be]:u=>K(u)||Z(u)||q(u)},ie=Symbol("radioGroupKey"),re=(u,l)=>{const d=T(),s=he(ie,void 0),t=M(()=>!!s),c=M({get(){return t.value?s.modelValue:u.modelValue},set(b){t.value?s.changeEvent(b):l&&l(U,b),d.value.checked=u.modelValue===u.label}}),f=ye(M(()=>s==null?void 0:s.size)),S=ge(M(()=>s==null?void 0:s.disabled)),i=T(!1),m=M(()=>S.value||t.value&&c.value!==u.label?-1:0);return{radioRef:d,isGroup:t,radioGroup:s,focus:i,size:f,disabled:S,tabIndex:m,modelValue:c}},Ie=["value","name","disabled"],Ne=V({name:"ElRadio"}),Oe=V({...Ne,props:ze,emits:ne,setup(u,{emit:l}){const d=u,s=G("radio"),{radioRef:t,radioGroup:c,focus:f,size:S,disabled:i,modelValue:m}=re(d,l);function b(){ae(()=>l("change",m.value))}return(o,h)=>{var x;return E(),z("label",{class:$([a(s).b(),a(s).is("disabled",a(i)),a(s).is("focus",a(f)),a(s).is("bordered",o.border),a(s).is("checked",a(m)===o.label),a(s).m(a(S))])},[r("span",{class:$([a(s).e("input"),a(s).is("disabled",a(i)),a(s).is("checked",a(m)===o.label)])},[J(r("input",{ref_key:"radioRef",ref:t,"onUpdate:modelValue":h[0]||(h[0]=F=>W(m)?m.value=F:null),class:$(a(s).e("original")),value:o.label,name:o.name||((x=a(c))==null?void 0:x.name),disabled:a(i),type:"radio",onFocus:h[1]||(h[1]=F=>f.value=!0),onBlur:h[2]||(h[2]=F=>f.value=!1),onChange:b},null,42,Ie),[[Y,a(m)]]),r("span",{class:$(a(s).e("inner"))},null,2)],2),r("span",{class:$(a(s).e("label")),onKeydown:h[3]||(h[3]=ee(()=>{},["stop"]))},[j(o.$slots,"default",{},()=>[D(g(o.label),1)])],34)],2)}}});var Le=H(Oe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const Pe=L({...oe,name:{type:String,default:""}}),Ue=["value","name","disabled"],Ge=V({name:"ElRadioButton"}),We=V({...Ge,props:Pe,setup(u){const l=u,d=G("radio"),{radioRef:s,focus:t,size:c,disabled:f,modelValue:S,radioGroup:i}=re(l),m=M(()=>({backgroundColor:(i==null?void 0:i.fill)||"",borderColor:(i==null?void 0:i.fill)||"",boxShadow:i!=null&&i.fill?`-1px 0 0 0 ${i.fill}`:"",color:(i==null?void 0:i.textColor)||""}));return(b,o)=>{var h;return E(),z("label",{class:$([a(d).b("button"),a(d).is("active",a(S)===b.label),a(d).is("disabled",a(f)),a(d).is("focus",a(t)),a(d).bm("button",a(c))])},[J(r("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":o[0]||(o[0]=x=>W(S)?S.value=x:null),class:$(a(d).be("button","original-radio")),value:b.label,type:"radio",name:b.name||((h=a(i))==null?void 0:h.name),disabled:a(f),onFocus:o[1]||(o[1]=x=>t.value=!0),onBlur:o[2]||(o[2]=x=>t.value=!1)},null,42,Ue),[[Y,a(S)]]),r("span",{class:$(a(d).be("button","inner")),style:te(a(S)===b.label?a(m):{}),onKeydown:o[3]||(o[3]=ee(()=>{},["stop"]))},[j(b.$slots,"default",{},()=>[D(g(b.label),1)])],38)],2)}}});var ue=H(We,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const je=L({id:{type:String,default:void 0},size:X,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),He=ne,Ke=["id","aria-label","aria-labelledby"],Ze=V({name:"ElRadioGroup"}),qe=V({...Ze,props:je,emits:He,setup(u,{emit:l}){const d=u,s=G("radio"),t=fe(),c=T(),{formItem:f}=ve(),{inputId:S,isLabeledByFormItem:i}=Se(d,{formItemContext:f}),m=o=>{l(U,o),ae(()=>l("change",o))};se(()=>{const o=c.value.querySelectorAll("[type=radio]"),h=o[0];!Array.from(o).some(x=>x.checked)&&h&&(h.tabIndex=0)});const b=M(()=>d.name||t.value);return _e(ie,P({...Re(d),changeEvent:m,name:b})),O(()=>d.modelValue,()=>{d.validateEvent&&(f==null||f.validate("change").catch(o=>xe()))}),(o,h)=>(E(),z("div",{id:a(S),ref_key:"radioGroupRef",ref:c,class:$(a(s).b("group")),role:"radiogroup","aria-label":a(i)?void 0:o.label||"radio-group","aria-labelledby":a(i)?a(f).labelId:void 0},[j(o.$slots,"default")],10,Ke))}});var de=H(qe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const Qe=Ce(Le,{RadioButton:ue,RadioGroup:de}),Xe=le(de);le(ue);const Je={class:"echarts-box"},Ye={__name:"index",props:{width:{type:String},height:{type:String},options:{type:Object}},setup(u){const l=u;let d=Ae;se(()=>{s()});function s(){let t=d.init(document.getElementById("myEcharts"),"purple-passion");t.setOption({...l.options,dataZoom:[{type:"inside",throttle:50}],tooltip:{trigger:"axis"}}),window.onresize=function(){t.resize()}}return(t,c)=>(E(),z("div",Je,[r("div",{id:"myEcharts",style:te({width:l.firstwidth,height:l.height})},null,4)]))}};const ea=u=>(Ve("data-v-aa985579"),u=u(),Fe(),u),aa={class:"step"},ta={class:"step"},sa={class:"main"},la={class:"left"},oa={class:"lefttop"},na={class:"chartContent"},ia={class:"right"},ra={class:"righttop"},ua={class:"rightbutton"},da=ea(()=>r("span",null,"Satisfies all constraints",-1)),ca={__name:"index",setup(u){const l=De();let d=T("Balanced1"),s=P({preset:"Balanced",fileName:l.file.name,step:3}),t=P({baseDuration:"-",changedDuration:"-",changgedTasks:"-",TotalTasks:"-",baseCriticalPath:"-",changedCriticalPath:"-",TotalResources:"-",group:"",planDurationDays:"-"}),c=T(0);Me((e,n,_)=>{_()}),$e(()=>{F(),ce()});function f(e,n){return Math.round(e/n*1e4)/100+"%"}const S=we();O(d,()=>{i.setOption(h.value),m.setOption(x.value)}),O(l.dataArray,()=>{i.setOption(h.value),m.setOption(x.value)}),O(l.end,async()=>{l.end.data?(C.value=me(),c.value=0,setTimeout(()=>{i.dispatchAction({type:"select",name:C.value[1][0].name}),m.dispatchAction({type:"select",name:C.value[1][0].name}),I(C.value[1][0].value[2].result),s.preset="Balanced",s.step=C.value[1][0].value[2].result.step},0)):(d=T(""),d.value="Balanced1",c.value=0,t.baseDuration="-",t.changedDuration="-",t.changgedTasks="-",t.TotalTasks="-",t.baseCriticalPath="-",t.changedCriticalPath="-",t.TotalResources="-",t.group="",t.maxResourceUnit="-",t.BasemaxResourceUnit="-",t.planDurationDays="-")},{deep:!0});let i=null,m=null;function b(e,n,_){let p,v;return e=="baseline"?(p=16,v=1):(p=8,v=.5),{type:"scatter",selectedMode:"single",selectedOffset:10,symbol:k=>{let y="path://M18.018,15.344c-0.285,0-0.555-0.162-0.684-0.441l-6.595-12.076l-6.594,12.076c-0.128,0.279-0.398,0.441-0.684,0.441c-0.491,0-0.706-0.638-0.249-0.929l6.997-12.808l-6.997-12.809c-0.457-0.291-0.242-0.929,0.249-0.929c0.286,0,0.556,0.162,0.684,0.441l6.595,12.076l6.594-12.076c0.127-0.279,0.398-0.441,0.684-0.441c0.49,0,0.705,0.638,0.249,0.929l-6.998,12.808l6.998,12.809c0.456,0.291,0.241,0.929-0.249,0.929H18.018z";return k[2].result.constraintLoss>0?y:"circle"},select:{scale:2,itemStyle:{color:"#40aa97",borderColor:"#40aa97",shadowColor:"#40aa97",borderWidth:10,shadowBlur:30,opacity:1}},emphasis:{scale:2,focus:"series",blurScope:"coordinateSystem"},data:l.dataArray[e].span,name:e,symbolSize:p,itemStyle:{color:k=>n,borderWidth:1,borderColor:"#0b0f07",opacity:v}}}function o(e,n,_){let p,v;return e=="baseline"?(p=16,v=1):(p=8,v=.5),{type:"scatter",selectedMode:"single",selectedOffset:10,symbol:k=>{let y="path://M18.018,15.344c-0.285,0-0.555-0.162-0.684-0.441l-6.595-12.076l-6.594,12.076c-0.128,0.279-0.398,0.441-0.684,0.441c-0.491,0-0.706-0.638-0.249-0.929l6.997-12.808l-6.997-12.809c-0.457-0.291-0.242-0.929,0.249-0.929c0.286,0,0.556,0.162,0.684,0.441l6.595,12.076l6.594-12.076c0.127-0.279,0.398-0.441,0.684-0.441c0.49,0,0.705,0.638,0.249,0.929l-6.998,12.808l6.998,12.809c0.456,0.291,0.241,0.929-0.249,0.929H18.018z";return k[2].result.constraintLoss>0?y:"circle"},select:{scale:2,itemStyle:{color:"#40aa97",borderColor:"#40aa97",shadowColor:"#40aa97",borderWidth:10,shadowBlur:30,opacity:1}},emphasis:{scale:2,focus:"series",blurScope:"coordinateSystem"},data:l.dataArray[e].data,name:e,symbolSize:p,itemStyle:{color:k=>n,borderWidth:1,borderColor:"#0b0f07",opacity:v}}}var h=M(()=>{const e=Object.values(l.dataArray).flatMap(y=>y.data.map(w=>w.value[0])),n=parseFloat((Math.min(...e)*.95).toFixed(2)),_=parseFloat((Math.max(...e)*1.05).toFixed(2)),p=Object.values(l.dataArray).flatMap(y=>y.data.map(w=>w.value[1])),v=parseFloat((Math.min(...p)*.95).toFixed(2)),k=parseFloat((Math.max(...p)*1.05).toFixed(2));return{toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},grid:{top:100,height:"65%"},xAxis:{name:"Duration (days)",nameLocation:"middle",padding:[10],height:100,min:n,max:_,nameTextStyle:{align:"center",padding:[30,0,0,0],fontWeight:"lighter",fontSize:20,color:"black"}},yAxis:{name:"Maximum Resource (units/day)",max:k,min:v,padding:[10],nameLocation:"end",nameTextStyle:{align:"center",padding:[0,0,0,100],fontWeight:"lighter",fontSize:16,color:"black"}},legend:{itemGap:40,data:[{name:"baseline",itemStyle:{color:"rgb(204, 204, 204)"}},{name:"Balanced",itemStyle:{color:"rgba(130, 181, 199, 0.9)"}},{name:"Fastest",itemStyle:{color:"rgba(247, 220, 91, 0.9)"}},{name:"Minimum_Resources",itemStyle:{color:"rgba(219, 121, 48, 0.9)"}},{name:"Levelled_Resources",itemStyle:{color:"rgba(170, 187, 93, 0.9)"}}],x:"left",itemWidth:15,itemHeight:15},series:[o("baseline","rgb(204, 204, 204)"),o("Balanced","rgba(130, 181, 199, 0.9)"),o("Fastest","rgba(247, 220, 91, 0.9)"),o("Minimum_Resources","rgba(219, 121, 48, 0.9)"),o("Levelled_Resources","rgba(170, 187, 93, 0.9)")]}}),x=M(()=>{const e=Object.values(l.dataArray).flatMap(y=>y.data.map(w=>w.value[0])),n=parseFloat((Math.min(...e)*.95).toFixed(2)),_=parseFloat((Math.max(...e)*1.05).toFixed(2)),p=Object.values(l.dataArray).flatMap(y=>y.data.map(w=>w.value[2].result.spanResourceUnitAgg)),v=parseFloat((Math.min(...p)*.95).toFixed(2)),k=parseFloat((Math.max(...p)*1.05).toFixed(2));return{toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},grid:{top:100,height:"65%"},xAxis:{name:"Duration (days)",nameLocation:"middle",padding:[10],height:100,min:n,max:_,nameTextStyle:{align:"center",padding:[30,0,0,0],fontWeight:"lighter",fontSize:20,color:"black"}},yAxis:{name:"Resource spread VS duration ",max:k,min:v,padding:[10],nameLocation:"end",nameTextStyle:{align:"center",padding:[0,0,0,100],fontWeight:"lighter",fontSize:16,color:"black"}},legend:{itemGap:40,data:[{name:"baseline",itemStyle:{color:"rgb(204, 204, 204)"}},{name:"Balanced",itemStyle:{color:"rgba(130, 181, 199, 0.9)"}},{name:"Fastest",itemStyle:{color:"rgba(247, 220, 91, 0.9)"}},{name:"Minimum_Resources",itemStyle:{color:"rgba(219, 121, 48, 0.9)"}},{name:"Levelled_Resources",itemStyle:{color:"rgba(170, 187, 93, 0.9)"}}],x:"left",itemWidth:15,itemHeight:15},series:[b("baseline","rgb(204, 204, 204)"),b("Balanced","rgba(130, 181, 199, 0.9)"),b("Fastest","rgba(247, 220, 91, 0.9)"),b("Minimum_Resources","rgba(219, 121, 48, 0.9)"),b("Levelled_Resources","rgba(170, 187, 93, 0.9)")]}});function F(){i==null&&(i=Q(document.getElementById("myEcharts"),"purple-passion"),m=Q(document.getElementById("twoEcharts"),"purple-passion")),i.on("click",function(e){i.dispatchAction({type:"select",name:e.name});let n=e.data.value[2].result;switch(s.preset=e.seriesName,s.step=n.step,e.seriesName=="baseline"?s.preset="Balanced":s.preset=e.seriesName,s.preset){case"Balanced":c.value=0;break;case"Fastest":c.value=1;break;case"Minimum_Resources":c.value=2;break;case"Levelled_Resources":c.value=3;break}I(n)}),m.on("click",function(e){i.dispatchAction({type:"select",name:e.name});let n=e.data.value[2].result;switch(s.preset=e.seriesName,s.step=n.step,e.seriesName=="baseline"?s.preset="Balanced":s.preset=e.seriesName,s.preset){case"Balanced":c.value=0;break;case"Fastest":c.value=1;break;case"Minimum_Resources":c.value=2;break;case"Levelled_Resources":c.value=3;break}I(n)})}function ce(){i.setOption(h.value),m.setOption(x.value)}function I(e){t.group=e.group,t.baseDuration=Math.ceil(e.baselineDurationDaysWithCalendar),t.changedDuration=Math.ceil(e.projectDurationDaysWithCalendar),t.planDurationDays=Math.ceil(l.originalplan.originalDurationDays),t.changgedTasks=Math.ceil(e.changedTasksLen),t.TotalTasks=Math.ceil(e.baselineTasksLen),t.baseCriticalPath=Math.ceil(e.baselineCriticalTasksLen),t.changedCriticalPath=Math.ceil(e.newCriticalTasksLen),t.TotalResources=Math.ceil(e.totalResourceCount),t.maxResourceUnit=Math.ceil(e.maxResourceUnitAgg),t.BasemaxResourceUnit=Math.ceil(l.originalplan.maxResourceUnitAgg)}async function pe(){s.fileName=l.file.name,s.considerDefaultResourceType=l.setting.considerDefaultResourceType,s.resourceConstraint=l.setting.resourceConstraint;let e=await Ee.getOptimized({...s},l.file.size);l.SummaryData={...t},l.selectedData=null,l.selectedData=e.data,l.active=2,l.selectChange=!0,S.push({name:"optimizedSummary"})}let C=T(null);function me(){let e=[];for(const n in l.dataArray){let _=Te(l.dataArray[n].data);_.sort((p,v)=>p.value[2].result.loss-v.value[2].result.loss),e.push(_)}return e}function A(e){i.dispatchAction({type:"select",name:C.value[e][0].name}),m.dispatchAction({type:"select",name:C.value[e][0].name}),d=C.value[e][0].name,s.preset=C.value[e][0].value[2].name,s.step=C.value[e][0].value[2].result.step,I(C.value[e][0].value[2].result)}return(e,n)=>{const _=Ye,p=Qe,v=Xe,k=Be("v-btn");return E(),z("div",null,[r("h2",null,[D(g(e.$t("baselineSummary.title[0]"))+" ",1),r("div",aa,[r("span",null,g(a(l).setting.Steps)+" "+g(e.$t("baselineSummary.title[1]")),1)]),r("div",ta,[r("span",null,g(`${a(l).setting.Ratio[0]*100}% - ${a(l).setting.Ratio[1]*100}% ${e.$t("baselineSummary.title[2]")}`),1)])]),r("div",sa,[r("div",la,[r("div",oa,[r("div",null,g(e.$t("baselineSummary.chartName[0]")),1)]),r("div",na,[R(_,{style:{width:"720px",height:"500px"},id:"myEcharts"}),R(_,{style:{width:"720px",height:"500px"},id:"twoEcharts"})])]),r("div",ia,[r("div",ra,[r("div",null,[R(N,{title:e.$t("baselineSummary.Tsidebar[0]"),height:150,precent:f(a(t).changedDuration-a(t).baseDuration,a(t).baseDuration),isPositive:!0,body:[a(t).changedDuration+" days",a(t).baseDuration+" days",a(t).planDurationDays+" days"]},null,8,["title","precent","body"]),R(N,{title:e.$t("baselineSummary.Tsidebar[1]"),height:150,precent:f(a(t).maxResourceUnit-a(t).BasemaxResourceUnit,a(t).BasemaxResourceUnit),body:[a(t).maxResourceUnit,a(t).BasemaxResourceUnit]},null,8,["title","precent","body"])]),r("div",null,[R(N,{title:e.$t("baselineSummary.Tsidebar[2]"),height:150,body:[a(t).changgedTasks,a(t).TotalTasks]},null,8,["title","body"]),R(N,{title:e.$t("baselineSummary.Tsidebar[3]"),height:150,body:[a(t).changedCriticalPath,a(t).changedCriticalPath,a(t).baseCriticalPath]},null,8,["title","body"])])]),r("div",ua,[r("h1",null,g(e.$t("baselineSummary.Bsidebar[0]")),1),R(v,{modelValue:a(c),"onUpdate:modelValue":n[5]||(n[5]=y=>W(c)?c.value=y:c=y),class:"radiobox"},{default:B(()=>[R(p,{onClick:n[0]||(n[0]=()=>{A(1)}),label:0},{default:B(()=>[D(g(e.$t("types.typeShow[1]"))+" ",1),r("span",null,g(e.$t("types.msg[0]")),1)]),_:1}),R(p,{onClick:n[1]||(n[1]=y=>A(2)),label:1},{default:B(()=>[D(g(e.$t("types.typeShow[2]"))+" ",1),r("span",null,g(e.$t("types.msg[1]")),1)]),_:1}),R(p,{label:2,onClick:n[2]||(n[2]=y=>A(3))},{default:B(()=>[D(g(e.$t("types.typeShow[3]"))+" ",1),r("span",null,g(e.$t("types.msg[2]")),1)]),_:1}),R(p,{label:3,onClick:n[3]||(n[3]=y=>A(4))},{default:B(()=>[D(g(e.$t("types.typeShow[4]"))+" ",1),r("span",null,g(e.$t("types.msg[3]")),1)]),_:1}),R(p,{label:3,onClick:n[4]||(n[4]=y=>A(4))},{default:B(()=>[D(" Constraint Compliance "),da]),_:1})]),_:1},8,["modelValue"])]),R(k,{style:{outline:"none"},disabled:!a(l).end.data,onClick:pe,class:"btn",color:"rgb(64, 170, 151)"},{default:B(()=>[D(g(e.$t("next")),1)]),_:1},8,["disabled"])])])])}}},ya=ke(ca,[["__scopeId","data-v-aa985579"]]);export{ya as default};
