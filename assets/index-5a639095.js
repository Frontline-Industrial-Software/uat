import{aN as fe,m as w,aO as qe,aP as pt,aA as De,aQ as ft,ab as mt,aR as ke,av as Ge,N as vt,u as ce,aS as yt,aT as Ne,a8 as ae,aU as ht,aV as gt,aW as bt,aX as wt,P as ge,T as P,ap as Le,j as we,an as Ct,k as le,aY as Ie,ao as pe,v as xe,l as se,aZ as St,aa as Je,ay as xt,az as _t,as as $t,R as kt,a4 as _e,a_ as It,a$ as Dt,b0 as Et,O as Tt,b1 as Ft,aw as oe,a9 as He,ad as zt,at as Qe,b2 as et,x as S,y as V,F as R,U as ie,z as F,A as e,D as q,B as d,G as X,H as L,I as de,J as ne,af as be,Y as Q,o as Mt,X as Rt,E as C,C as Ee,_ as Te,a5 as Ue,K as tt,b3 as $e,b4 as At,Q as Bt,a3 as Ye,b5 as Pt,b6 as Ot,b7 as Vt,aq as Nt,b8 as Lt,ax as We,b9 as Ht,ba as Ut,bb as je,bc as Ke,ac as Yt,bd as Wt,ae as jt,be as Kt,bf as Zt,ak as Xt,ag as qt,al as Gt,aF as Jt,aG as Qt,am as ea,ai as ye,V as Ze,aM as ta,aj as aa}from"./index-8b8fe073.js";import{e as oa,c as sa}from"./index-11e546f7.js";import"./ecStat-35a78427.js";import{m as na}from"./index-bf85318d.js";import{V as la}from"./index.min-5c1b9df9.js";const ia=()=>fe&&/firefox/i.test(window.navigator.userAgent);let he;const ra=t=>{var n;if(!fe)return 0;if(he!==void 0)return he;const s=document.createElement("div");s.className=`${t}-scrollbar__wrap`,s.style.visibility="hidden",s.style.width="100px",s.style.position="absolute",s.style.top="-9999px",document.body.appendChild(s);const a=s.offsetWidth;s.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",s.appendChild(i);const r=i.offsetWidth;return(n=s.parentNode)==null||n.removeChild(s),he=a-r,he},ua=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),da=["class","style"],ca=/^on[A-Z]/,pa=(t={})=>{const{excludeListeners:n=!1,excludeKeys:s}=t,a=w(()=>((s==null?void 0:s.value)||[]).concat(da)),i=qe();return i?w(()=>{var r;return pt(Object.entries((r=i.proxy)==null?void 0:r.$attrs).filter(([c])=>!a.value.includes(c)&&!(n&&ca.test(c))))}):w(()=>({}))},fa=(t,n,s)=>{let a={offsetX:0,offsetY:0};const i=p=>{const y=p.clientX,x=p.clientY,{offsetX:b,offsetY:u}=a,f=t.value.getBoundingClientRect(),D=f.left,_=f.top,h=f.width,H=f.height,W=document.documentElement.clientWidth,O=document.documentElement.clientHeight,j=-D+b,G=-_+u,U=W-D-h+b,Y=O-_-H+u,K=T=>{const k=Math.min(Math.max(b+T.clientX-y,j),U),B=Math.min(Math.max(u+T.clientY-x,G),Y);a={offsetX:k,offsetY:B},t.value.style.transform=`translate(${ke(k)}, ${ke(B)})`},A=()=>{document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",K),document.addEventListener("mouseup",A)},r=()=>{n.value&&t.value&&n.value.addEventListener("mousedown",i)},c=()=>{n.value&&t.value&&n.value.removeEventListener("mousedown",i)};De(()=>{ft(()=>{s.value?r():c()})}),mt(()=>{c()})},ma=(t,n={})=>{Ge(t)||vt("[useLockscreen]","You need to pass a ref param to this function");const s=n.ns||ce("popup"),a=yt(()=>s.bm("parent","hidden"));if(!fe||Ne(document.body,a.value))return;let i=0,r=!1,c="0";const p=()=>{setTimeout(()=>{wt(document==null?void 0:document.body,a.value),r&&document&&(document.body.style.width=c)},200)};ae(t,y=>{if(!y){p();return}r=!Ne(document.body,a.value),r&&(c=document.body.style.width),i=ra(s.namespace.value);const x=document.documentElement.clientHeight<document.body.scrollHeight,b=ht(document.body,"overflowY");i>0&&(x||b==="scroll")&&r&&(document.body.style.width=`calc(100% - ${i}px)`),gt(document.body,a.value)}),bt(()=>p())},at=t=>{if(!t)return{onClick:ge,onMousedown:ge,onMouseup:ge};let n=!1,s=!1;return{onClick:c=>{n&&s&&t(c),n=s=!1},onMousedown:c=>{n=c.target===c.currentTarget},onMouseup:c=>{s=c.target===c.currentTarget}}};function va(t){const n=P();function s(){if(t.value==null)return;const{selectionStart:i,selectionEnd:r,value:c}=t.value;if(i==null||r==null)return;const p=c.slice(0,Math.max(0,i)),y=c.slice(Math.max(0,r));n.value={selectionStart:i,selectionEnd:r,value:c,beforeTxt:p,afterTxt:y}}function a(){if(t.value==null||n.value==null)return;const{value:i}=t.value,{beforeTxt:r,afterTxt:c,selectionStart:p}=n.value;if(r==null||c==null||p==null)return;let y=i.length;if(i.endsWith(c))y=i.length-c.length;else if(i.startsWith(r))y=r.length;else{const x=r[p-1],b=i.indexOf(x,p-1);b!==-1&&(y=b+1)}t.value.setSelectionRange(y,y)}return[s,a]}let J;const ya=`
  height:0 !important;
  visibility:hidden !important;
  ${ia()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,ha=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function ga(t){const n=window.getComputedStyle(t),s=n.getPropertyValue("box-sizing"),a=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),i=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:ha.map(c=>`${c}:${n.getPropertyValue(c)}`).join(";"),paddingSize:a,borderSize:i,boxSizing:s}}function Xe(t,n=1,s){var a;J||(J=document.createElement("textarea"),document.body.appendChild(J));const{paddingSize:i,borderSize:r,boxSizing:c,contextStyle:p}=ga(t);J.setAttribute("style",`${p};${ya}`),J.value=t.value||t.placeholder||"";let y=J.scrollHeight;const x={};c==="border-box"?y=y+r:c==="content-box"&&(y=y-i),J.value="";const b=J.scrollHeight-i;if(Le(n)){let u=b*n;c==="border-box"&&(u=u+i+r),y=Math.max(u,y),x.minHeight=`${u}px`}if(Le(s)){let u=b*s;c==="border-box"&&(u=u+i+r),y=Math.min(u,y)}return x.height=`${y}px`,(a=J.parentNode)==null||a.removeChild(J),J=void 0,x}const ba=we({id:{type:String,default:void 0},size:Ct,disabled:Boolean,modelValue:{type:le([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:le([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ie},prefixIcon:{type:Ie},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:le([Object,Array,String]),default:()=>na({})}}),wa={[pe]:t=>xe(t),input:t=>xe(t),change:t=>xe(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},Ca=["role"],Sa=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],xa=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],_a=se({name:"ElInput",inheritAttrs:!1}),$a=se({..._a,props:ba,emits:wa,setup(t,{expose:n,emit:s}){const a=t,i=St(),r=Je(),c=w(()=>{const o={};return a.containerRole==="combobox"&&(o["aria-haspopup"]=i["aria-haspopup"],o["aria-owns"]=i["aria-owns"],o["aria-expanded"]=i["aria-expanded"]),o}),p=w(()=>[a.type==="textarea"?H.b():h.b(),h.m(D.value),h.is("disabled",_.value),h.is("exceed",Z.value),{[h.b("group")]:r.prepend||r.append,[h.bm("group","append")]:r.append,[h.bm("group","prepend")]:r.prepend,[h.m("prefix")]:r.prefix||a.prefixIcon,[h.m("suffix")]:r.suffix||a.suffixIcon||a.clearable||a.showPassword,[h.bm("suffix","password-clear")]:v.value&&E.value},i.class]),y=w(()=>[h.e("wrapper"),h.is("focus",j.value)]),x=pa({excludeKeys:w(()=>Object.keys(c.value))}),{form:b,formItem:u}=xt(),{inputId:f}=_t(a,{formItemContext:u}),D=$t(),_=kt(),h=ce("input"),H=ce("textarea"),W=_e(),O=_e(),j=P(!1),G=P(!1),U=P(!1),Y=P(!1),K=P(),A=_e(a.inputStyle),T=w(()=>W.value||O.value),k=w(()=>{var o;return(o=b==null?void 0:b.statusIcon)!=null?o:!1}),B=w(()=>(u==null?void 0:u.validateState)||""),l=w(()=>B.value&&It[B.value]),m=w(()=>Y.value?Dt:Et),g=w(()=>[i.style,a.inputStyle]),$=w(()=>[a.inputStyle,A.value,{resize:a.resize}]),z=w(()=>Tt(a.modelValue)?"":String(a.modelValue)),v=w(()=>a.clearable&&!_.value&&!a.readonly&&!!z.value&&(j.value||G.value)),E=w(()=>a.showPassword&&!_.value&&!a.readonly&&!!z.value&&(!!z.value||j.value)),M=w(()=>a.showWordLimit&&!!x.value.maxlength&&(a.type==="text"||a.type==="textarea")&&!_.value&&!a.readonly&&!a.showPassword),N=w(()=>z.value.length),Z=w(()=>!!M.value&&N.value>Number(x.value.maxlength)),te=w(()=>!!r.suffix||!!a.suffixIcon||v.value||a.showPassword||M.value||!!B.value&&k.value),[Ce,nt]=va(W);Ft(O,o=>{if(lt(),!M.value||a.resize!=="both")return;const I=o[0],{width:ee}=I.contentRect;K.value={right:`calc(100% - ${ee+15+6}px)`}});const re=()=>{const{type:o,autosize:I}=a;if(!(!fe||o!=="textarea"||!O.value))if(I){const ee=Ue(I)?I.minRows:void 0,ve=Ue(I)?I.maxRows:void 0,Ve=Xe(O.value,ee,ve);A.value={overflowY:"hidden",...Ve},oe(()=>{O.value.offsetHeight,A.value=Ve})}else A.value={minHeight:Xe(O.value).minHeight}},lt=(o=>{let I=!1;return()=>{var ee;if(I||!a.autosize)return;((ee=O.value)==null?void 0:ee.offsetParent)===null||(o(),I=!0)}})(re),ue=()=>{const o=T.value,I=a.formatter?a.formatter(z.value):z.value;!o||o.value===I||(o.value=I)},Se=async o=>{Ce();let{value:I}=o.target;if(a.formatter&&(I=a.parser?a.parser(I):I),!U.value){if(I===z.value){ue();return}s(pe,I),s("input",I),await oe(),ue(),nt()}},Fe=o=>{s("change",o.target.value)},ze=o=>{s("compositionstart",o),U.value=!0},Me=o=>{var I;s("compositionupdate",o);const ee=(I=o.target)==null?void 0:I.value,ve=ee[ee.length-1]||"";U.value=!ua(ve)},Re=o=>{s("compositionend",o),U.value&&(U.value=!1,Se(o))},it=()=>{Y.value=!Y.value,me()},me=async()=>{var o;await oe(),(o=T.value)==null||o.focus()},rt=()=>{var o;return(o=T.value)==null?void 0:o.blur()},Ae=o=>{j.value=!0,s("focus",o)},Be=o=>{var I;j.value=!1,s("blur",o),a.validateEvent&&((I=u==null?void 0:u.validate)==null||I.call(u,"blur").catch(ee=>He()))},ut=o=>{G.value=!1,s("mouseleave",o)},dt=o=>{G.value=!0,s("mouseenter",o)},Pe=o=>{s("keydown",o)},ct=()=>{var o;(o=T.value)==null||o.select()},Oe=()=>{s(pe,""),s("change",""),s("clear"),s("input","")};return ae(()=>a.modelValue,()=>{var o;oe(()=>re()),a.validateEvent&&((o=u==null?void 0:u.validate)==null||o.call(u,"change").catch(I=>He()))}),ae(z,()=>ue()),ae(()=>a.type,async()=>{await oe(),ue(),re()}),De(()=>{!a.formatter&&a.parser,ue(),oe(re)}),n({input:W,textarea:O,ref:T,textareaStyle:$,autosize:zt(a,"autosize"),focus:me,blur:rt,select:ct,clear:Oe,resizeTextarea:re}),(o,I)=>Qe((S(),V("div",be(e(c),{class:e(p),style:e(g),role:o.containerRole,onMouseenter:dt,onMouseleave:ut}),[R(" input "),o.type!=="textarea"?(S(),V(ie,{key:0},[R(" prepend slot "),o.$slots.prepend?(S(),V("div",{key:0,class:F(e(h).be("group","prepend"))},[q(o.$slots,"prepend")],2)):R("v-if",!0),d("div",{class:F(e(y))},[R(" prefix slot "),o.$slots.prefix||o.prefixIcon?(S(),V("span",{key:0,class:F(e(h).e("prefix"))},[d("span",{class:F(e(h).e("prefix-inner")),onClick:me},[q(o.$slots,"prefix"),o.prefixIcon?(S(),X(e(ne),{key:0,class:F(e(h).e("icon"))},{default:L(()=>[(S(),X(de(o.prefixIcon)))]),_:1},8,["class"])):R("v-if",!0)],2)],2)):R("v-if",!0),d("input",be({id:e(f),ref_key:"input",ref:W,class:e(h).e("inner")},e(x),{type:o.showPassword?Y.value?"text":"password":o.type,disabled:e(_),formatter:o.formatter,parser:o.parser,readonly:o.readonly,autocomplete:o.autocomplete,tabindex:o.tabindex,"aria-label":o.label,placeholder:o.placeholder,style:o.inputStyle,form:a.form,onCompositionstart:ze,onCompositionupdate:Me,onCompositionend:Re,onInput:Se,onFocus:Ae,onBlur:Be,onChange:Fe,onKeydown:Pe}),null,16,Sa),R(" suffix slot "),e(te)?(S(),V("span",{key:1,class:F(e(h).e("suffix"))},[d("span",{class:F(e(h).e("suffix-inner")),onClick:me},[!e(v)||!e(E)||!e(M)?(S(),V(ie,{key:0},[q(o.$slots,"suffix"),o.suffixIcon?(S(),X(e(ne),{key:0,class:F(e(h).e("icon"))},{default:L(()=>[(S(),X(de(o.suffixIcon)))]),_:1},8,["class"])):R("v-if",!0)],64)):R("v-if",!0),e(v)?(S(),X(e(ne),{key:1,class:F([e(h).e("icon"),e(h).e("clear")]),onMousedown:Rt(e(ge),["prevent"]),onClick:Oe},{default:L(()=>[Q(e(Mt))]),_:1},8,["class","onMousedown"])):R("v-if",!0),e(E)?(S(),X(e(ne),{key:2,class:F([e(h).e("icon"),e(h).e("password")]),onClick:it},{default:L(()=>[(S(),X(de(e(m))))]),_:1},8,["class"])):R("v-if",!0),e(M)?(S(),V("span",{key:3,class:F(e(h).e("count"))},[d("span",{class:F(e(h).e("count-inner"))},C(e(N))+" / "+C(e(x).maxlength),3)],2)):R("v-if",!0),e(B)&&e(l)&&e(k)?(S(),X(e(ne),{key:4,class:F([e(h).e("icon"),e(h).e("validateIcon"),e(h).is("loading",e(B)==="validating")])},{default:L(()=>[(S(),X(de(e(l))))]),_:1},8,["class"])):R("v-if",!0)],2)],2)):R("v-if",!0)],2),R(" append slot "),o.$slots.append?(S(),V("div",{key:1,class:F(e(h).be("group","append"))},[q(o.$slots,"append")],2)):R("v-if",!0)],64)):(S(),V(ie,{key:1},[R(" textarea "),d("textarea",be({id:e(f),ref_key:"textarea",ref:O,class:e(H).e("inner")},e(x),{tabindex:o.tabindex,disabled:e(_),readonly:o.readonly,autocomplete:o.autocomplete,style:e($),"aria-label":o.label,placeholder:o.placeholder,form:a.form,onCompositionstart:ze,onCompositionupdate:Me,onCompositionend:Re,onInput:Se,onFocus:Ae,onBlur:Be,onChange:Fe,onKeydown:Pe}),null,16,xa),e(M)?(S(),V("span",{key:0,style:Ee(K.value),class:F(e(h).e("count"))},C(e(N))+" / "+C(e(x).maxlength),7)):R("v-if",!0)],64))],16,Ca)),[[et,o.type!=="hidden"]])}});var ka=Te($a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Ia=tt(ka),Da=we({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:le([String,Array,Object])},zIndex:{type:le([String,Number])}}),Ea={click:t=>t instanceof MouseEvent},Ta="overlay";var Fa=se({name:"ElOverlay",props:Da,emits:Ea,setup(t,{slots:n,emit:s}){const a=ce(Ta),i=y=>{s("click",y)},{onClick:r,onMousedown:c,onMouseup:p}=at(t.customMaskEvent?void 0:i);return()=>t.mask?Q("div",{class:[a.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:r,onMousedown:c,onMouseup:p},[q(n,"default")],$e.STYLE|$e.CLASS|$e.PROPS,["onClick","onMouseup","onMousedown"]):At("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[q(n,"default")])}});const za=Fa,ot=Symbol("dialogInjectionKey"),st=we({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:Ie},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),Ma={close:()=>!0},Ra=["aria-label"],Aa=["id"],Ba=se({name:"ElDialogContent"}),Pa=se({...Ba,props:st,emits:Ma,setup(t){const n=t,{t:s}=Bt(),{Close:a}=Ot,{dialogRef:i,headerRef:r,bodyId:c,ns:p,style:y}=Ye(ot),{focusTrapRef:x}=Ye(Pt),b=Vt(x,i),u=w(()=>n.draggable);return fa(i,r,u),(f,D)=>(S(),V("div",{ref:e(b),class:F([e(p).b(),e(p).is("fullscreen",f.fullscreen),e(p).is("draggable",e(u)),e(p).is("align-center",f.alignCenter),{[e(p).m("center")]:f.center},f.customClass]),style:Ee(e(y)),tabindex:"-1"},[d("header",{ref_key:"headerRef",ref:r,class:F(e(p).e("header"))},[q(f.$slots,"header",{},()=>[d("span",{role:"heading",class:F(e(p).e("title"))},C(f.title),3)]),f.showClose?(S(),V("button",{key:0,"aria-label":e(s)("el.dialog.close"),class:F(e(p).e("headerbtn")),type:"button",onClick:D[0]||(D[0]=_=>f.$emit("close"))},[Q(e(ne),{class:F(e(p).e("close"))},{default:L(()=>[(S(),X(de(f.closeIcon||e(a))))]),_:1},8,["class"])],10,Ra)):R("v-if",!0)],2),d("div",{id:e(c),class:F(e(p).e("body"))},[q(f.$slots,"default")],10,Aa),f.$slots.footer?(S(),V("footer",{key:0,class:F(e(p).e("footer"))},[q(f.$slots,"footer")],2)):R("v-if",!0)],6))}});var Oa=Te(Pa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Va=we({...st,appendToBody:{type:Boolean,default:!1},beforeClose:{type:le(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),Na={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[pe]:t=>Nt(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},La=(t,n)=>{const a=qe().emit,{nextZIndex:i}=Lt();let r="";const c=We(),p=We(),y=P(!1),x=P(!1),b=P(!1),u=P(t.zIndex||i());let f,D;const _=Ht("namespace",Ut),h=w(()=>{const g={},$=`--${_.value}-dialog`;return t.fullscreen||(t.top&&(g[`${$}-margin-top`]=t.top),t.width&&(g[`${$}-width`]=ke(t.width))),g}),H=w(()=>t.alignCenter?{display:"flex"}:{});function W(){a("opened")}function O(){a("closed"),a(pe,!1),t.destroyOnClose&&(b.value=!1)}function j(){a("close")}function G(){D==null||D(),f==null||f(),t.openDelay&&t.openDelay>0?{stop:f}=je(()=>A(),t.openDelay):A()}function U(){f==null||f(),D==null||D(),t.closeDelay&&t.closeDelay>0?{stop:D}=je(()=>T(),t.closeDelay):T()}function Y(){function g($){$||(x.value=!0,y.value=!1)}t.beforeClose?t.beforeClose(g):U()}function K(){t.closeOnClickModal&&Y()}function A(){fe&&(y.value=!0)}function T(){y.value=!1}function k(){a("openAutoFocus")}function B(){a("closeAutoFocus")}function l(g){var $;(($=g.detail)==null?void 0:$.focusReason)==="pointer"&&g.preventDefault()}t.lockScroll&&ma(y);function m(){t.closeOnPressEscape&&Y()}return ae(()=>t.modelValue,g=>{g?(x.value=!1,G(),b.value=!0,u.value=t.zIndex?u.value++:i(),oe(()=>{a("open"),n.value&&(n.value.scrollTop=0)})):y.value&&U()}),ae(()=>t.fullscreen,g=>{n.value&&(g?(r=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=r)}),De(()=>{t.modelValue&&(y.value=!0,b.value=!0,G())}),{afterEnter:W,afterLeave:O,beforeLeave:j,handleClose:Y,onModalClick:K,close:U,doClose:T,onOpenAutoFocus:k,onCloseAutoFocus:B,onCloseRequested:m,onFocusoutPrevented:l,titleId:c,bodyId:p,closed:x,style:h,overlayDialogStyle:H,rendered:b,visible:y,zIndex:u}},Ha=["aria-label","aria-labelledby","aria-describedby"],Ua=se({name:"ElDialog",inheritAttrs:!1}),Ya=se({...Ua,props:Va,emits:Na,setup(t,{expose:n}){const s=t,a=Je();Ke({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},w(()=>!!a.title)),Ke({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},w(()=>!!s.customClass));const i=ce("dialog"),r=P(),c=P(),p=P(),{visible:y,titleId:x,bodyId:b,style:u,overlayDialogStyle:f,rendered:D,zIndex:_,afterEnter:h,afterLeave:H,beforeLeave:W,handleClose:O,onModalClick:j,onOpenAutoFocus:G,onCloseAutoFocus:U,onCloseRequested:Y,onFocusoutPrevented:K}=La(s,r);Yt(ot,{dialogRef:r,headerRef:c,bodyId:b,ns:i,rendered:D,style:u});const A=at(j),T=w(()=>s.draggable&&!s.fullscreen);return n({visible:y,dialogContentRef:p}),(k,B)=>(S(),X(Zt,{to:"body",disabled:!k.appendToBody},[Q(Kt,{name:"dialog-fade",onAfterEnter:e(h),onAfterLeave:e(H),onBeforeLeave:e(W),persisted:""},{default:L(()=>[Qe(Q(e(za),{"custom-mask-event":"",mask:k.modal,"overlay-class":k.modalClass,"z-index":e(_)},{default:L(()=>[d("div",{role:"dialog","aria-modal":"true","aria-label":k.title||void 0,"aria-labelledby":k.title?void 0:e(x),"aria-describedby":e(b),class:F(`${e(i).namespace.value}-overlay-dialog`),style:Ee(e(f)),onClick:B[0]||(B[0]=(...l)=>e(A).onClick&&e(A).onClick(...l)),onMousedown:B[1]||(B[1]=(...l)=>e(A).onMousedown&&e(A).onMousedown(...l)),onMouseup:B[2]||(B[2]=(...l)=>e(A).onMouseup&&e(A).onMouseup(...l))},[Q(e(Wt),{loop:"",trapped:e(y),"focus-start-el":"container",onFocusAfterTrapped:e(G),onFocusAfterReleased:e(U),onFocusoutPrevented:e(K),onReleaseRequested:e(Y)},{default:L(()=>[e(D)?(S(),X(Oa,be({key:0,ref_key:"dialogContentRef",ref:p},k.$attrs,{"custom-class":k.customClass,center:k.center,"align-center":k.alignCenter,"close-icon":k.closeIcon,draggable:e(T),fullscreen:k.fullscreen,"show-close":k.showClose,title:k.title,onClose:e(O)}),jt({header:L(()=>[k.$slots.title?q(k.$slots,"title",{key:1}):q(k.$slots,"header",{key:0,close:e(O),titleId:e(x),titleClass:e(i).e("title")})]),default:L(()=>[q(k.$slots,"default")]),_:2},[k.$slots.footer?{name:"footer",fn:L(()=>[q(k.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):R("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ha)]),_:3},8,["mask","overlay-class","z-index"]),[[et,e(y)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Wa=Te(Ya,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const ja=tt(Wa);const Ka=d("span",{class:"dialog-footer"},null,-1),Za={__name:"dialog",props:["dialogVisible","data"],emits:["closeDialog"],setup(t,{emit:n}){const s=t;let a=P();async function i(){la.preview(a.value,`

`+y.value)}function r(u){if(!u)return"0.00";var u=Math.round(parseFloat(u)*100)/100,f=u.toString().split(".");if(f.length==1)return u=u.toString()+".00",u;if(f.length>1)return f[1].length<2&&(u=u.toString()+"0"),u}w(()=>s.dialogVisible);function c(b,u=0){let f=`
`;const D=_=>"  ".repeat(_);for(const[_,h]of Object.entries(b))typeof h=="object"&&h!==null?(f+=`${D(u)}- **${_}**
`,f+=c(h,u+1)):f+=`${D(u)}- ${_}: ${h}
`;return f}function p(b){return new Date(b).toISOString()}let y=w(()=>{let b=()=>{let f="";for(const D in s.data.resources){const _=s.data.resources[D];f+=`The resource with ID ${_.resourceId} was originally planned to have ${r(_.plannedUnits)} units. The initial planned usage rate was ${r(_.plannedUnitsPerHour)} units per hour, and it currently remains at ${r(_.Units)} units per hour. However, after optimization, the new usage rate is ${r(_.newUnitsPerHour)} units per hour, and the new daily usage is ${r(_.newUnitsPerDay)} units per day.
`}return f};return`This is a task named '${s.data.name}' categorized as '${s.data.type}', and it is ${s.data.critical==!0?"":"not"} a Critical Task.
   Before optimization,
   it is scheduled to start on ${p(s.data.plannedStart).replace("T"," ").replace("Z","").slice(0,16)} (date) and finish on ${p(s.data.plannedFinish).replace("T"," ").replace("Z","").slice(0,16)} (date), with an estimated duration of ${s.data.remainingDuration} hours. 
  After optimization,
   it is scheduled to start on ${p(s.data.newStart).replace("T"," ").replace("Z","").slice(0,16)} (date) and finish on ${p(s.data.newFinish).replace("T"," ").replace("Z","").slice(0,16)} (date), with an estimated duration of ${s.data.newDuration} hours. 
Resources:
${b()}As of now, the task has not commenced and is labeled as '${s.data.status}.' The task's duration ratio is ${r(s.data.durationRatio)}.`+c(s.data)});const x=()=>{n("closeDialog")};return(b,u)=>{const f=ja;return S(),X(f,{onOpen:i,onClose:x,modelValue:s.dialogVisible,"onUpdate:modelValue":u[0]||(u[0]=D=>s.dialogVisible=D),title:"Detailed content",width:"50%",draggable:""},{footer:L(()=>[Ka]),default:L(()=>[d("span",null,C(e(y).id),1),d("div",{ref_key:"editorRef",ref:a},null,512)]),_:1},8,["modelValue"])}}};const Xa={class:"contain"},qa={class:"box"},Ga={class:"sp"},Ja={class:"step"},Qa={class:"step"},eo={class:"maintop"},to={class:"item"},ao={class:"title"},oo={class:"center"},so={class:"changed"},no={class:"base"},lo={class:"bottom"},io={class:"item"},ro={class:"title"},uo={class:"center"},co={class:"changed"},po={class:"base"},fo={class:"bottom"},mo={class:"item"},vo={class:"title"},yo={class:"center"},ho={class:"changed"},go={class:"base"},bo={class:"bottom"},wo={class:"mainEchar1"},Co={class:"Echar1top"},So=ta('<div class="choosebox" data-v-44388b4c><div class="choose" data-v-44388b4c><div style="background-color:#b0e054;" class="item" data-v-44388b4c></div><div data-v-44388b4c>Optimized</div></div><div class="choose" data-v-44388b4c><div style="background-color:#5474c4;" class="item" data-v-44388b4c></div><div data-v-44388b4c>Baseline</div></div><div class="choose" data-v-44388b4c><div style="background-color:red;" class="item" data-v-44388b4c></div><div data-v-44388b4c>Critical Path</div></div><div class="choose" data-v-44388b4c><div style="background-color:pink;" class="item" data-v-44388b4c></div><div data-v-44388b4c>Critical Path(baseline)</div></div></div><div id="main" data-v-44388b4c></div>',2),xo={ref:"main",style:{width:"1150px",height:"610px"},id:"myEcharts"},_o={class:"mainEchar2"},$o={class:"Echar2top"},ko={class:"types"},Io={ref:"main01",style:{width:"1150px",height:"610px"},id:"myEcharts01"},Do={class:"button"},Eo={__name:"index",setup(t){const n=qt(),s=Gt();let a=P(!1),i=P("");const r=()=>{a.value=!1};Jt((l,m,g)=>{l.name=="InputData",g()}),Qt(()=>{n.selectChange&&(T.value="",h(),K(),n.selectChange=!1)});function c(l,m){return Math.round(l/m*1e4)/100+"%"}function p(l){return new Date(l).toISOString()}function y(l){const m=new Date(l);return`${m.getUTCFullYear()}/${m.getUTCMonth()+1}/${m.getUTCDate()} ${("0"+m.getUTCHours()).slice(-2)}:${("0"+m.getUTCMinutes()).slice(-2)}:${("0"+m.getUTCSeconds()).slice(-2)}`}const x=l=>l===void 0||l.length===0?[]:l.xy.map(m=>{const[g,$]=Object.entries(m)[0];return[p(parseInt(g)),$]});let b=oa,u=P(2),f,D=w(()=>n.selectedData?n.selectedData.baselineTasks.filter(m=>m.critical):void 0);function _(l){return`<span >${l}</span>`}function h(){let l=[],m=n.selectedData.baselineTasks.map((v,E)=>{let M=n.selectedData.tasks.find(N=>N.id===v.id);return l.push(M),E=n.selectedData.baselineTasks.length-E,{name:v.name,value:[E,p(v.newStart),p(v.newFinish),v],itemStyle:{color:v.critical?"pink":void 0}}});l=l.map((v,E)=>(E=l.length-E+.2,{id:v.id,name:v.name,value:[E,p(v.newStart),p(v.newFinish),v],itemStyle:{color:v.critical?"red":void 0}}));let g=b.init(document.getElementById("myEcharts"),"purple-passion");g.on("click",function(v){i.value=v.data.value[3],a.value=!0});var $;let z=(v,E)=>{let M=E.coord([E.value(1),E.value(0)]),N=E.coord([E.value(2),E.value(0)]),Z=E.size([0,1])[1]*.5,te=sa({x:M[0],y:M[1]-Z/2,width:Math.max(N[0]-M[0],1),height:Z},v.coordSys);return te&&{type:"rect",shape:te,style:E.style()}};$={toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},dataZoom:[{type:"slider",filterMode:"weakFilter",xAxisIndex:[0],labelFormatter:function(v){return y(v)}},{type:"slider",filterMode:"weakFilter",yAxisIndex:[0]},{type:"inside",filterMode:"weakFilter",xAxisIndex:[0]},{type:"inside",filterMode:"weakFilter",yAxisIndex:[0]}],legend:{data:["baseline","new"]},xAxis:{name:"date",type:"time",axisLabel:{formatter:function(v,E){return y(v)}}},yAxis:{name:"tasks"},series:[{name:"baseline",type:"custom",data:m,large:!0,renderItem:z,encode:{x:[1,2],y:0}},{name:"new",type:"custom",data:l,large:!0,renderItem:z,encode:{x:[1,2],y:0}}],tooltip:{formatter:v=>{let E="Resources: <br/>";if(v.value[3].resources)for(const N in v.value[3].resources){let Z=v.value[3].resources,te=n.selectedData.newResources.find(Ce=>Ce.id==N);E+=` &nbsp&nbspResource &nbsp  ${te==null?void 0:te.name} &nbsp id: ${N}  <br/>&nbsp&nbsp&nbsp&nbspunits/hour:${W(Z[N].plannedUnitsPerHour)}=> ${W(Z[N].newUnitsPerHour)}<br/>`}function M(N){let Z;switch(N){case"New":v.value[3].critical?Z="red":Z="#b0e054";break;case"Old":v.value[3].critical?Z="pink":Z="#5474c4"}return`<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:${Z};"></span>`}return`${v.name}<br/>
        <div style='margin-top:20px'>
         ${M("New")} New: ${v.value[1].replace("T"," ").replace("Z","").slice(0,16)} -> ${v.value[2].replace("T"," ").replace("Z","").slice(0,16)}
         (${v.value[3].newDuration})
        <br/>
         ${M("Old")} Old: ${_(p(v.value[3].plannedStart).replace("T"," ").replace("Z","").slice(0,16))} -> ${_(p(v.value[3].plannedFinish).replace("T"," ").replace("Z","").slice(0,16))}
       (${_(v.value[3].plannedDuration)})
         <br/>
         ${E}
        </div>`}}},$&&g.setOption($),f=b.init(document.getElementById("myEcharts01"),"purple-passion")}let H=P("");function W(m){if(!m)return"0.00";var m=Math.round(parseFloat(m)*100)/100,g=m.toString().split(".");if(g.length==1)return m=m.toString()+".00",m;if(g.length>1)return g[1].length<2&&(m=m.toString()+"0"),m}function O(l,m){return l.reduce(function(g,$){let z=$[m];return g[z]||(g[z]=[]),g[z].push($),g},{})}let j=w(()=>{let l=n.selectedData.baselineResources.map(g=>({id:g.id,name:g.name,type:g.type})),m=O(l,"type");if(H.value){const g=new RegExp(H.value,"i");let $={};for(let z in m)$[z]=m[z].filter(v=>g.test(v.name));return $}else return m}),G=w(()=>{var m;const l=n.selectedData.baselineResources;return T.value?l.filter($=>$.id&&$.id===T.value)[0].distribution:l.length==0?[]:(T.value=l[0].id,(m=l[0])==null?void 0:m.distribution)}),U=w(()=>{var m;const l=n.selectedData.newResources;return T.value?l.filter($=>$.id&&$.id===T.value)[0].distribution:l.length==0?[]:(m=l[0])==null?void 0:m.distribution}),Y=w(()=>({toolbox:{feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},dataZoom:[{type:"slider",filterMode:"none"},{type:"slider",filterMode:"none"},{type:"inside",filterMode:"none"},{type:"inside",filterMode:"none"}],tooltip:{trigger:"axis",axisPointer:{type:"cross"}},animation:!1,legend:{data:["baseline","new"]},xAxis:{name:"date",type:"time",axisLabel:{formatter:"{yyyy}-{MM}-{dd}"}},yAxis:{name:"units / day"},series:[{name:"baseline",type:"bar",data:x(G.value),large:!0},{name:"new",type:"bar",data:x(U.value),large:!0}]}));function K(){f.setOption(Y.value)}ae(u,()=>{K()});async function A(){s.push({name:"OptimizedReport"}),n.active=3}let T=P("");function k(){s.push({name:"BaselineSummary"}),n.active=1}function B(l){T.value=l}return ae(T,()=>{K()}),(l,m)=>{const g=Ia,$=ea("v-btn"),z=aa;return S(),V(ie,null,[d("div",Xa,[d("div",qa,[d("h2",null,[ye(C(l.$t("optimizedSummary.title[0]"))+" ",1),d("span",Ga,C(e(n).SummaryData.group),1),d("div",Ja,[d("span",null,C(e(n).setting.Steps)+" "+C(l.$t("optimizedSummary.title[1]")),1)]),d("div",Qa,[d("span",null,C(`${e(n).setting.Ratio[0]*100}% - ${e(n).setting.Ratio[1]*100}% ${l.$t("optimizedSummary.title[2]")}`),1)])]),d("div",eo,[d("div",to,[d("div",ao,C(l.$t("optimizedSummary.header[0]")),1),d("div",oo,[d("span",so,C(e(n).SummaryData.changedDuration)+"/",1),d("span",no,C(e(n).SummaryData.baseDuration),1)]),d("div",lo,C(c(e(n).SummaryData.changedDuration,e(n).SummaryData.baseDuration)),1)]),d("div",io,[d("div",ro,C(l.$t("optimizedSummary.header[1]")),1),d("div",uo,[d("span",co,C(e(n).SummaryData.changgedTasks)+"/",1),d("span",po,C(e(n).SummaryData.TotalTasks),1)]),d("div",fo,C(c(e(n).SummaryData.changgedTasks,e(n).SummaryData.TotalTasks)),1)]),d("div",mo,[d("div",vo,C(l.$t("optimizedSummary.header[2]")),1),d("div",yo,[d("span",ho,C(e(D).length)+"/",1),d("span",go,C(e(n).selectedData.baselineTasks.length),1)]),d("div",bo,C(c(e(D).length,e(n).selectedData.baselineTasks.length)),1)])]),d("div",wo,[d("div",Co,[d("div",null,C(l.$t("optimizedSummary.chartName[0]")),1)]),d("span",null,C(l.$t("optimizedSummary.chartName[1]")),1),So,d("div",xo,null,512)]),d("div",_o,[d("div",$o,[d("div",null,C(l.$t("optimizedSummary.chartName[2]")),1)]),d("span",null,C(l.$t("optimizedSummary.chartName[3]")),1),Q(g,{modelValue:e(H),"onUpdate:modelValue":m[0]||(m[0]=v=>Ge(H)?H.value=v:H=v),placeholder:"Search Resources"},null,8,["modelValue"]),(S(!0),V(ie,null,Ze(e(j),(v,E)=>(S(),V("div",null,[d("div",null,C(E),1),d("div",ko,[(S(!0),V(ie,null,Ze(v,(M,N)=>(S(),V("div",{key:N,class:"type"},[Q($,{variant:"text",value:N,class:F({activeType:e(T)==M.id}),onClick:()=>{B(M.id)}},{default:L(()=>[ye(C(M.name)+" "+C(M.type),1)]),_:2},1032,["value","class","onClick"])]))),128))])]))),256)),d("div",Io,null,512)]),d("div",Do,[Q(z,{onClick:k,class:"btnback"},{default:L(()=>[ye(C(l.$t("optimizedSummary.btn[0]")),1)]),_:1}),Q(z,{onClick:A,class:"btngo"},{default:L(()=>[ye(C(l.$t("optimizedSummary.btn[1]")),1)]),_:1})])])]),Q(Za,{onCloseDialog:r,data:e(i),dialogVisible:e(a)},null,8,["data","dialogVisible"])],64)}}},Bo=Xt(Eo,[["__scopeId","data-v-44388b4c"]]);export{Bo as default};
