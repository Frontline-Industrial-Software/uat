import{r as Ct,j as Dt,C as Mt,D as Ut,E as It,F as pt,P as wt,H as gt,a_ as Wt,aJ as Vt,aL as qt,aM as Gt,bo as Yt,bp as Jt,w as Rt,aO as Kt,J as Nt,O as Ht,a3 as St,K as Ft,N as Bt,aK as zt,G as Pt,bC as Xt,aZ as Zt}from"./index-e129653e.js";import{a as Qt,E as te}from"./el-select-f4d5db95.js";import"./el-radio-group-0322bcbf.js";/* empty css                                                              */import{C as Lt}from"./index-c1a885b1.js";import{_ as ee}from"./next-80857cac.js";import{e as ne,c as ie}from"./index-f7adadce.js";import{V as re}from"./index.min-ed744ae1.js";import"./validator-43b2645b.js";const ae=pt("span",{class:"dialog-footer"},null,-1),oe={__name:"dialog",props:["dialogVisible","data"],emits:["closeDialog"],setup(Ot,{emit:ft}){const D=Ot;let E=Ct();async function h(){re.preview(E.value,`

`+c.value)}function _(e){if(!e)return"0.00";var e=Math.round(parseFloat(e)*100)/100,t=e.toString().split(".");if(t.length==1)return e=e.toString()+".00",e;if(t.length>1)return t[1].length<2&&(e=e.toString()+"0"),e}Dt(()=>D.dialogVisible);function u(r,e=0){let t=`
`;const n=o=>"  ".repeat(o);for(const[o,a]of Object.entries(r))typeof a=="object"&&a!==null?(t+=`${n(e)}- **${o}**
`,t+=u(a,e+1)):t+=`${n(e)}- ${o}: ${a}
`;return t}function s(r){return new Date(r).toISOString()}let c=Dt(()=>{let r=()=>{let t="";for(const n in D.data.resources){const o=D.data.resources[n];t+=`The resource with ID ${o.resourceId} was originally planned to have ${_(o.plannedUnits)} units. The initial planned usage rate was ${_(o.plannedUnitsPerHour)} units per hour, and it currently remains at ${_(o.Units)} units per hour. However, after optimization, the new usage rate is ${_(o.newUnitsPerHour)} units per hour, and the new daily usage is ${_(o.newUnitsPerDay)} units per day.
`}return t};return`This is a task named '${D.data.name}' categorized as '${D.data.type}', and it is ${D.data.critical==!0?"":"not"} a Critical Task.
   Before optimization,
   it is scheduled to start on ${s(D.data.plannedStart).replace("T"," ").replace("Z","").slice(0,16)} (date) and finish on ${s(D.data.plannedFinish).replace("T"," ").replace("Z","").slice(0,16)} (date), with an estimated duration of ${D.data.remainingDuration} hours. 
  After optimization,
   it is scheduled to start on ${s(D.data.newStart).replace("T"," ").replace("Z","").slice(0,16)} (date) and finish on ${s(D.data.newFinish).replace("T"," ").replace("Z","").slice(0,16)} (date), with an estimated duration of ${D.data.newDuration} hours. 
Resources:
${r()}As of now, the task has not commenced and is labeled as '${D.data.status}.' The task's duration ratio is ${_(D.data.durationRatio)}.`+u(D.data)});const i=()=>{ft("closeDialog")};return(r,e)=>{const t=Wt;return Mt(),Ut(t,{onOpen:h,onClose:i,modelValue:D.dialogVisible,"onUpdate:modelValue":e[0]||(e[0]=n=>D.dialogVisible=n),title:"Detailed content",width:"50%",draggable:""},{footer:It(()=>[ae]),default:It(()=>[pt("span",null,wt(gt(c).id),1),pt("div",{ref_key:"editorRef",ref:E},null,512)]),_:1},8,["modelValue"])}}};var se={exports:{}};/*
@license

dhtmlxGantt v.8.0.6 Standard

This version of dhtmlxGantt is distributed under GPL 2.0 license and can be legally used in GPL projects.

To use dhtmlxGantt in non-GPL projects (and get Pro version of the product), please obtain Individual, Commercial, Enterprise or Ultimate license on our site https://dhtmlx.com/docs/products/dhtmlxGantt/#licensing or contact us at info@dhtmlx.com

(c) XB Software

*/(function(Ot,ft){(function(D,E){Ot.exports=E()})(window,function(){return function(D){var E={};function h(_){if(E[_])return E[_].exports;var u=E[_]={i:_,l:!1,exports:{}};return D[_].call(u.exports,u,u.exports,h),u.l=!0,u.exports}return h.m=D,h.c=E,h.d=function(_,u,s){h.o(_,u)||Object.defineProperty(_,u,{enumerable:!0,get:s})},h.r=function(_){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},h.t=function(_,u){if(1&u&&(_=h(_)),8&u||4&u&&typeof _=="object"&&_&&_.__esModule)return _;var s=Object.create(null);if(h.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:_}),2&u&&typeof _!="string")for(var c in _)h.d(s,c,function(i){return _[i]}.bind(null,c));return s},h.n=function(_){var u=_&&_.__esModule?function(){return _.default}:function(){return _};return h.d(u,"a",u),u},h.o=function(_,u){return Object.prototype.hasOwnProperty.call(_,u)},h.p="/codebase/",h(h.s=299)}([function(D,E,h){function _(i){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}var u,s=h(2),c={}.constructor.toString();D.exports={copy:function i(r){var e,t;if(r&&_(r)=="object")switch(!0){case s.isDate(r):t=new Date(r);break;case s.isArray(r):for(t=new Array(r.length),e=0;e<r.length;e++)t[e]=i(r[e]);break;default:for(e in t=function(n){return n.constructor.toString()!==c}(r)?Object.create(r):{},r)Object.prototype.hasOwnProperty.apply(r,[e])&&(t[e]=i(r[e]))}return t||r},defined:function(i){return i!==void 0},mixin:function(i,r,e){for(var t in r)(i[t]===void 0||e)&&(i[t]=r[t]);return i},uid:function(){return u||(u=new Date().valueOf()),++u},bind:function(i,r){return i.bind?i.bind(r):function(){return i.apply(r,arguments)}},event:function(i,r,e,t){i.addEventListener?i.addEventListener(r,e,t!==void 0&&t):i.attachEvent&&i.attachEvent("on"+r,e)},eventRemove:function(i,r,e,t){i.removeEventListener?i.removeEventListener(r,e,t!==void 0&&t):i.detachEvent&&i.detachEvent("on"+r,e)}}},function(D,E){function h(a){var l=0,d=0,f=0,g=0;if(a.getBoundingClientRect){var p=a.getBoundingClientRect(),v=document.body,y=document.documentElement||document.body.parentNode||document.body,m=window.pageYOffset||y.scrollTop||v.scrollTop,b=window.pageXOffset||y.scrollLeft||v.scrollLeft,k=y.clientTop||v.clientTop||0,$=y.clientLeft||v.clientLeft||0;l=p.top+m-k,d=p.left+b-$,f=document.body.offsetWidth-p.right,g=document.body.offsetHeight-p.bottom}else{for(;a;)l+=parseInt(a.offsetTop,10),d+=parseInt(a.offsetLeft,10),a=a.offsetParent;f=document.body.offsetWidth-a.offsetWidth-d,g=document.body.offsetHeight-a.offsetHeight-l}return{y:Math.round(l),x:Math.round(d),width:a.offsetWidth,height:a.offsetHeight,right:Math.round(f),bottom:Math.round(g)}}function _(a){var l=!1,d=!1;if(window.getComputedStyle){var f=window.getComputedStyle(a,null);l=f.display,d=f.visibility}else a.currentStyle&&(l=a.currentStyle.display,d=a.currentStyle.visibility);return l!="none"&&d!="hidden"}function u(a){return!isNaN(a.getAttribute("tabindex"))&&1*a.getAttribute("tabindex")>=0}function s(a){return!{a:!0,area:!0}[a.nodeName.loLowerCase()]||!!a.getAttribute("href")}function c(a){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[a.nodeName.toLowerCase()]||!a.hasAttribute("disabled")}function i(a){if(!a)return"";var l=a.className||"";return l.baseVal&&(l=l.baseVal),l.indexOf||(l=""),t(l)}var r;function e(a){var l;return a.tagName?l=a:(l=(a=a||window.event).target||a.srcElement).shadowRoot&&a.composedPath&&(l=a.composedPath()[0]),l}function t(a){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(a)}function n(){return document.head.createShadowRoot||document.head.attachShadow}function o(a){if(!a||!n())return document.body;for(;a.parentNode&&(a=a.parentNode);)if(a instanceof ShadowRoot)return a.host;return document.body}D.exports={getNodePosition:h,getFocusableNodes:function(a){for(var l=a.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),d=Array.prototype.slice.call(l,0),f=0;f<d.length;f++)d[f].$position=f;for(d.sort(function(p,v){return p.tabIndex===0&&v.tabIndex!==0?1:p.tabIndex!==0&&v.tabIndex===0?-1:p.tabIndex===v.tabIndex?p.$position-v.$position:p.tabIndex<v.tabIndex?-1:1}),f=0;f<d.length;f++){var g=d[f];(u(g)||c(g)||s(g))&&_(g)||(d.splice(f,1),f--)}return d},getScrollSize:function(){var a=document.createElement("div");a.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(a);var l=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),l},getClassName:i,addClassName:function(a,l){l&&a.className.indexOf(l)===-1&&(a.className+=" "+l)},removeClassName:function(a,l){l=l.split(" ");for(var d=0;d<l.length;d++){var f=new RegExp("\\s?\\b"+l[d]+"\\b(?![-_.])","");a.className=a.className.replace(f,"")}},insertNode:function(a,l){r||(r=document.createElement("div")),r.innerHTML=l;var d=r.firstChild;return a.appendChild(d),d},removeNode:function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},getChildNodes:function(a,l){for(var d=a.childNodes,f=d.length,g=[],p=0;p<f;p++){var v=d[p];v.className&&v.className.indexOf(l)!==-1&&g.push(v)}return g},toNode:function(a){return typeof a=="string"?document.getElementById(a)||document.querySelector(a)||document.body:a||document.body},locateClassName:function(a,l,d){var f=e(a),g="";for(d===void 0&&(d=!0);f;){if(g=i(f)){var p=g.indexOf(l);if(p>=0){if(!d)return f;var v=p===0||!t(g.charAt(p-1)),y=p+l.length>=g.length||!t(g.charAt(p+l.length));if(v&&y)return f}}f=f.parentNode}return null},locateAttribute:function(a,l){if(l){for(var d=e(a);d;){if(d.getAttribute&&d.getAttribute(l))return d;d=d.parentNode}return null}},getTargetNode:e,getRelativeEventPosition:function(a,l){var d=document.documentElement,f=h(l);return{x:a.clientX+d.scrollLeft-d.clientLeft-f.x+l.scrollLeft,y:a.clientY+d.scrollTop-d.clientTop-f.y+l.scrollTop}},isChildOf:function(a,l){if(!a||!l)return!1;for(;a&&a!=l;)a=a.parentNode;return a===l},hasClass:function(a,l){return"classList"in a?a.classList.contains(l):new RegExp("\\b"+l+"\\b").test(a.className)},closest:function(a,l){if(a.closest)return a.closest(l);if(a.matches||a.msMatchesSelector||a.webkitMatchesSelector){var d=a;if(!document.documentElement.contains(d))return null;do{if((d.matches||d.msMatchesSelector||d.webkitMatchesSelector).call(d,l))return d;d=d.parentElement||d.parentNode}while(d!==null&&d.nodeType===1);return null}return console.error("Your browser is not supported"),null},getRootNode:o,hasShadowParent:function(a){return!!o(a)},isShadowDomSupported:n,getActiveElement:function(){var a=document.activeElement;return a.shadowRoot&&(a=a.shadowRoot.activeElement),a===document.body&&document.getSelection&&(a=document.getSelection().focusNode||document.body),a}}},function(D,E){function h(i){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}var _={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};function u(i){return!(!i||h(i)!=="object")&&!!(i.getFullYear&&i.getMonth&&i.getDate)}function s(i,r){var e=[];if(i.filter)return i.filter(r);for(var t=0;t<i.length;t++)r(i[t],t)&&(e[e.length]=i[t]);return e}function c(i){return i===0}D.exports={getSecondsInUnit:function(i){return _[i]||_.hour},forEach:function(i,r){if(i.forEach)i.forEach(r);else for(var e=i.slice(),t=0;t<e.length;t++)r(e[t],t)},arrayMap:function(i,r){if(i.map)return i.map(r);for(var e=i.slice(),t=[],n=0;n<e.length;n++)t.push(r(e[n],n));return t},arrayIncludes:function(i,r){if(i.includes)return i.includes(r);for(var e=0;e<i.length;e++)if(i[e]===r)return!0;return!1},arrayFind:function(i,r){if(i.find)return i.find(r);for(var e=0;e<i.length;e++)if(r(i[e],e))return i[e]},arrayFilter:s,arrayDifference:function(i,r){return s(i,function(e,t){return!r(e,t)})},arraySome:function(i,r){if(i.length===0)return!1;for(var e=0;e<i.length;e++)if(r(i[e],e,i))return!0;return!1},hashToArray:function(i){var r=[];for(var e in i)i.hasOwnProperty(e)&&r.push(i[e]);return r},sortArrayOfHash:function(i,r,e){var t=function(n,o){return n<o};i.sort(function(n,o){return n[r]===o[r]?0:e?t(n[r],o[r]):t(o[r],n[r])})},throttle:function(i,r){var e=!1;return function(){e||(i.apply(null,arguments),e=!0,setTimeout(function(){e=!1},r))}},isArray:function(i){return Array.isArray?Array.isArray(i):i&&i.length!==void 0&&i.pop&&i.push},isDate:u,isValidDate:function(i){return u(i)&&!isNaN(i.getTime())},isStringObject:function(i){return i&&h(i)==="object"&&Function.prototype.toString.call(i.constructor)==="function String() { [native code] }"},isNumberObject:function(i){return i&&h(i)==="object"&&Function.prototype.toString.call(i.constructor)==="function Number() { [native code] }"},isBooleanObject:function(i){return i&&h(i)==="object"&&Function.prototype.toString.call(i.constructor)==="function Boolean() { [native code] }"},delay:function(i,r){var e,t=function n(){n.$cancelTimeout(),n.$pending=!0;var o=Array.prototype.slice.call(arguments);e=setTimeout(function(){i.apply(this,o),n.$pending=!1},r)};return t.$pending=!1,t.$cancelTimeout=function(){clearTimeout(e),t.$pending=!1},t.$execute=function(){var n=Array.prototype.slice.call(arguments);i.apply(this,n),t.$cancelTimeout()},t},objectKeys:function(i){if(Object.keys)return Object.keys(i);var r,e=[];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.push(r);return e},isEventable:function(i){return i.attachEvent&&i.detachEvent},replaceValidZeroId:function(i,r){return c(i)&&!c(r)&&(i="0"),i},checkZeroId:c,findBinary:function(i,r){for(var e,t,n,o=0,a=i.length-1;o<=a;)if(t=+i[e=Math.floor((o+a)/2)],n=+i[e-1],t<r)o=e+1;else{if(!(t>r)){for(;+i[e]==+i[e+1];)e++;return e}if(!isNaN(n)&&n<r)return e-1;a=e-1}return i.length-1}}},function(D,E){D.exports=function(h,_){for(var u in _)_.hasOwnProperty(u)&&(h[u]=_[u]);function s(){this.constructor=h}h.prototype=_===null?Object.create(_):(s.prototype=_.prototype,new s)}},function(D,E){function h(u){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}var _;_=function(){return this}();try{_=_||Function("return this")()||(0,eval)("this")}catch{(typeof window>"u"?"undefined":h(window))==="object"&&(_=window)}D.exports=_},function(D,E){var h=function(){this._silent_mode=!1,this.listeners={}};h.prototype={_silentStart:function(){this._silent_mode=!0},_silentEnd:function(){this._silent_mode=!1}};var _=function(u){var s={},c=0,i=function(){var r=!0;for(var e in s){var t=s[e].apply(u,arguments);r=r&&t}return r};return i.addEvent=function(r,e){if(typeof r=="function"){var t;if(e&&e.id?t=e.id:(t=c,c++),e&&e.once){var n=r;r=function(){n(),i.removeEvent(t)}}return s[t]=r,t}return!1},i.removeEvent=function(r){delete s[r]},i.clear=function(){s={}},i};D.exports=function(u){var s=new h;u.attachEvent=function(c,i,r){c="ev_"+c.toLowerCase(),s.listeners[c]||(s.listeners[c]=_(this)),r&&r.thisObject&&(i=i.bind(r.thisObject));var e=c+":"+s.listeners[c].addEvent(i,r);return r&&r.id&&(e=r.id),e},u.attachAll=function(c){this.attachEvent("listen_all",c)},u.callEvent=function(c,i){if(s._silent_mode)return!0;var r="ev_"+c.toLowerCase(),e=s.listeners;return e.ev_listen_all&&e.ev_listen_all.apply(this,[c].concat(i)),!e[r]||e[r].apply(this,i)},u.checkEvent=function(c){return!!s.listeners["ev_"+c.toLowerCase()]},u.detachEvent=function(c){if(c){var i=s.listeners;for(var r in i)i[r].removeEvent(c);var e=c.split(":");if(i=s.listeners,e.length===2){var t=e[0],n=e[1];i[t]&&i[t].removeEvent(n)}}},u.detachAllEvents=function(){for(var c in s.listeners)s.listeners[c].clear()}}},function(D,E){D.exports=function(h,_,u,s,c){var i=_.getItemIndexByTopPosition(c.y)||0,r=_.getItemIndexByTopPosition(c.y_end)||s.count();return{start:Math.max(0,i-1),end:Math.min(s.count(),r+1)}}},function(D,E){function h(){console.log("Method is not implemented.")}function _(){}_.prototype.render=h,_.prototype.set_value=h,_.prototype.get_value=h,_.prototype.focus=h,D.exports=function(u){return _}},function(D,E){typeof Object.create=="function"?D.exports=function(h,_){h.super_=_,h.prototype=Object.create(_.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}})}:D.exports=function(h,_){h.super_=_;var u=function(){};u.prototype=_.prototype,h.prototype=new u,h.prototype.constructor=h}},function(D,E){var h,_,u=D.exports={};function s(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function i(f){if(h===setTimeout)return setTimeout(f,0);if((h===s||!h)&&setTimeout)return h=setTimeout,setTimeout(f,0);try{return h(f,0)}catch{try{return h.call(null,f,0)}catch{return h.call(this,f,0)}}}(function(){try{h=typeof setTimeout=="function"?setTimeout:s}catch{h=s}try{_=typeof clearTimeout=="function"?clearTimeout:c}catch{_=c}})();var r,e=[],t=!1,n=-1;function o(){t&&r&&(t=!1,r.length?e=r.concat(e):n=-1,e.length&&a())}function a(){if(!t){var f=i(o);t=!0;for(var g=e.length;g;){for(r=e,e=[];++n<g;)r&&r[n].run();n=-1,g=e.length}r=null,t=!1,function(p){if(_===clearTimeout)return clearTimeout(p);if((_===c||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(p);try{_(p)}catch{try{return _.call(null,p)}catch{return _.call(this,p)}}}(f)}}function l(f,g){this.fun=f,this.array=g}function d(){}u.nextTick=function(f){var g=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)g[p-1]=arguments[p];e.push(new l(f,g)),e.length!==1||t||i(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=d,u.addListener=d,u.once=d,u.off=d,u.removeListener=d,u.removeAllListeners=d,u.emit=d,u.prependListener=d,u.prependOnceListener=d,u.listeners=function(f){return[]},u.binding=function(f){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(f){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(D,E){D.exports=function(h){var _=function(){};return _.prototype={show:function(u,s,c,i){},hide:function(){},set_value:function(u,s,c,i){this.get_input(i).value=u},get_value:function(u,s,c){return this.get_input(c).value||""},is_changed:function(u,s,c,i){var r=this.get_value(s,c,i);return r&&u&&r.valueOf&&u.valueOf?r.valueOf()!=u.valueOf():r!=u},is_valid:function(u,s,c,i){return!0},save:function(u,s,c){},get_input:function(u){return u.querySelector("input")},focus:function(u){var s=this.get_input(u);s&&(s.focus&&s.focus(),s.select&&s.select())}},_}},function(D,E){var h=typeof window<"u",_={isIE:h&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:h&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:h&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:h&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:h&&navigator.userAgent.indexOf("Opera")>=0,isChrome:h&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:h&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:h&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:h&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:h&&navigator.userAgent.indexOf("Edge")!=-1,isNode:!h||typeof navigator>"u"};D.exports=_},function(D,E,h){var _=h(23),u=Object.keys||function(l){var d=[];for(var f in l)d.push(f);return d};D.exports=n;var s=h(17);s.inherits=h(8);var c=h(62),i=h(58);s.inherits(n,c);for(var r=u(i.prototype),e=0;e<r.length;e++){var t=r[e];n.prototype[t]||(n.prototype[t]=i.prototype[t])}function n(l){if(!(this instanceof n))return new n(l);c.call(this,l),i.call(this,l),l&&l.readable===!1&&(this.readable=!1),l&&l.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,l&&l.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",o)}function o(){this.allowHalfOpen||this._writableState.ended||_.nextTick(a,this)}function a(l){l.end()}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),n.prototype._destroy=function(l,d){this.push(null),this.end(),_.nextTick(d,l)}},function(D,E,h){(function(_){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var u=h(291),s=h(290),c=h(67);function i(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(S,C){if(i()<C)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(S=new Uint8Array(C)).__proto__=e.prototype:(S===null&&(S=new e(C)),S.length=C),S}function e(S,C,M){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(S,C,M);if(typeof S=="number"){if(typeof C=="string")throw new Error("If encoding is specified then the first argument must be a string");return o(this,S)}return t(this,S,C,M)}function t(S,C,M,H){if(typeof C=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&C instanceof ArrayBuffer?function(F,W,Q,V){if(W.byteLength,Q<0||W.byteLength<Q)throw new RangeError("'offset' is out of bounds");if(W.byteLength<Q+(V||0))throw new RangeError("'length' is out of bounds");return W=Q===void 0&&V===void 0?new Uint8Array(W):V===void 0?new Uint8Array(W,Q):new Uint8Array(W,Q,V),e.TYPED_ARRAY_SUPPORT?(F=W).__proto__=e.prototype:F=a(F,W),F}(S,C,M,H):typeof C=="string"?function(F,W,Q){if(typeof Q=="string"&&Q!==""||(Q="utf8"),!e.isEncoding(Q))throw new TypeError('"encoding" must be a valid string encoding');var V=0|d(W,Q),et=(F=r(F,V)).write(W,Q);return et!==V&&(F=F.slice(0,et)),F}(S,C,M):function(F,W){if(e.isBuffer(W)){var Q=0|l(W.length);return(F=r(F,Q)).length===0||W.copy(F,0,0,Q),F}if(W){if(typeof ArrayBuffer<"u"&&W.buffer instanceof ArrayBuffer||"length"in W)return typeof W.length!="number"||function(V){return V!=V}(W.length)?r(F,0):a(F,W);if(W.type==="Buffer"&&c(W.data))return a(F,W.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(S,C)}function n(S){if(typeof S!="number")throw new TypeError('"size" argument must be a number');if(S<0)throw new RangeError('"size" argument must not be negative')}function o(S,C){if(n(C),S=r(S,C<0?0:0|l(C)),!e.TYPED_ARRAY_SUPPORT)for(var M=0;M<C;++M)S[M]=0;return S}function a(S,C){var M=C.length<0?0:0|l(C.length);S=r(S,M);for(var H=0;H<M;H+=1)S[H]=255&C[H];return S}function l(S){if(S>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|S}function d(S,C){if(e.isBuffer(S))return S.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(S)||S instanceof ArrayBuffer))return S.byteLength;typeof S!="string"&&(S=""+S);var M=S.length;if(M===0)return 0;for(var H=!1;;)switch(C){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":case void 0:return q(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return U(S).length;default:if(H)return q(S).length;C=(""+C).toLowerCase(),H=!0}}function f(S,C,M){var H=S[C];S[C]=S[M],S[M]=H}function g(S,C,M,H,F){if(S.length===0)return-1;if(typeof M=="string"?(H=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,isNaN(M)&&(M=F?0:S.length-1),M<0&&(M=S.length+M),M>=S.length){if(F)return-1;M=S.length-1}else if(M<0){if(!F)return-1;M=0}if(typeof C=="string"&&(C=e.from(C,H)),e.isBuffer(C))return C.length===0?-1:p(S,C,M,H,F);if(typeof C=="number")return C&=255,e.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(S,C,M):Uint8Array.prototype.lastIndexOf.call(S,C,M):p(S,[C],M,H,F);throw new TypeError("val must be string, number or Buffer")}function p(S,C,M,H,F){var W,Q=1,V=S.length,et=C.length;if(H!==void 0&&((H=String(H).toLowerCase())==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(S.length<2||C.length<2)return-1;Q=2,V/=2,et/=2,M/=2}function at(st,ct){return Q===1?st[ct]:st.readUInt16BE(ct*Q)}if(F){var nt=-1;for(W=M;W<V;W++)if(at(S,W)===at(C,nt===-1?0:W-nt)){if(nt===-1&&(nt=W),W-nt+1===et)return nt*Q}else nt!==-1&&(W-=W-nt),nt=-1}else for(M+et>V&&(M=V-et),W=M;W>=0;W--){for(var X=!0,ot=0;ot<et;ot++)if(at(S,W+ot)!==at(C,ot)){X=!1;break}if(X)return W}return-1}function v(S,C,M,H){M=Number(M)||0;var F=S.length-M;H?(H=Number(H))>F&&(H=F):H=F;var W=C.length;if(W%2!=0)throw new TypeError("Invalid hex string");H>W/2&&(H=W/2);for(var Q=0;Q<H;++Q){var V=parseInt(C.substr(2*Q,2),16);if(isNaN(V))return Q;S[M+Q]=V}return Q}function y(S,C,M,H){return L(q(C,S.length-M),S,M,H)}function m(S,C,M,H){return L(function(F){for(var W=[],Q=0;Q<F.length;++Q)W.push(255&F.charCodeAt(Q));return W}(C),S,M,H)}function b(S,C,M,H){return m(S,C,M,H)}function k(S,C,M,H){return L(U(C),S,M,H)}function $(S,C,M,H){return L(function(F,W){for(var Q,V,et,at=[],nt=0;nt<F.length&&!((W-=2)<0);++nt)Q=F.charCodeAt(nt),V=Q>>8,et=Q%256,at.push(et),at.push(V);return at}(C,S.length-M),S,M,H)}function x(S,C,M){return C===0&&M===S.length?u.fromByteArray(S):u.fromByteArray(S.slice(C,M))}function w(S,C,M){M=Math.min(S.length,M);for(var H=[],F=C;F<M;){var W,Q,V,et,at=S[F],nt=null,X=at>239?4:at>223?3:at>191?2:1;if(F+X<=M)switch(X){case 1:at<128&&(nt=at);break;case 2:(192&(W=S[F+1]))==128&&(et=(31&at)<<6|63&W)>127&&(nt=et);break;case 3:W=S[F+1],Q=S[F+2],(192&W)==128&&(192&Q)==128&&(et=(15&at)<<12|(63&W)<<6|63&Q)>2047&&(et<55296||et>57343)&&(nt=et);break;case 4:W=S[F+1],Q=S[F+2],V=S[F+3],(192&W)==128&&(192&Q)==128&&(192&V)==128&&(et=(15&at)<<18|(63&W)<<12|(63&Q)<<6|63&V)>65535&&et<1114112&&(nt=et)}nt===null?(nt=65533,X=1):nt>65535&&(nt-=65536,H.push(nt>>>10&1023|55296),nt=56320|1023&nt),H.push(nt),F+=X}return function(ot){var st=ot.length;if(st<=T)return String.fromCharCode.apply(String,ot);for(var ct="",ht=0;ht<st;)ct+=String.fromCharCode.apply(String,ot.slice(ht,ht+=T));return ct}(H)}E.Buffer=e,E.SlowBuffer=function(S){return+S!=S&&(S=0),e.alloc(+S)},E.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=_.TYPED_ARRAY_SUPPORT!==void 0?_.TYPED_ARRAY_SUPPORT:function(){try{var S=new Uint8Array(1);return S.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},S.foo()===42&&typeof S.subarray=="function"&&S.subarray(1,1).byteLength===0}catch{return!1}}(),E.kMaxLength=i(),e.poolSize=8192,e._augment=function(S){return S.__proto__=e.prototype,S},e.from=function(S,C,M){return t(null,S,C,M)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(S,C,M){return function(H,F,W,Q){return n(F),F<=0?r(H,F):W!==void 0?typeof Q=="string"?r(H,F).fill(W,Q):r(H,F).fill(W):r(H,F)}(null,S,C,M)},e.allocUnsafe=function(S){return o(null,S)},e.allocUnsafeSlow=function(S){return o(null,S)},e.isBuffer=function(S){return!(S==null||!S._isBuffer)},e.compare=function(S,C){if(!e.isBuffer(S)||!e.isBuffer(C))throw new TypeError("Arguments must be Buffers");if(S===C)return 0;for(var M=S.length,H=C.length,F=0,W=Math.min(M,H);F<W;++F)if(S[F]!==C[F]){M=S[F],H=C[F];break}return M<H?-1:H<M?1:0},e.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(S,C){if(!c(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return e.alloc(0);var M;if(C===void 0)for(C=0,M=0;M<S.length;++M)C+=S[M].length;var H=e.allocUnsafe(C),F=0;for(M=0;M<S.length;++M){var W=S[M];if(!e.isBuffer(W))throw new TypeError('"list" argument must be an Array of Buffers');W.copy(H,F),F+=W.length}return H},e.byteLength=d,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var S=this.length;if(S%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var C=0;C<S;C+=2)f(this,C,C+1);return this},e.prototype.swap32=function(){var S=this.length;if(S%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var C=0;C<S;C+=4)f(this,C,C+3),f(this,C+1,C+2);return this},e.prototype.swap64=function(){var S=this.length;if(S%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var C=0;C<S;C+=8)f(this,C,C+7),f(this,C+1,C+6),f(this,C+2,C+5),f(this,C+3,C+4);return this},e.prototype.toString=function(){var S=0|this.length;return S===0?"":arguments.length===0?w(this,0,S):function(C,M,H){var F=!1;if((M===void 0||M<0)&&(M=0),M>this.length||((H===void 0||H>this.length)&&(H=this.length),H<=0)||(H>>>=0)<=(M>>>=0))return"";for(C||(C="utf8");;)switch(C){case"hex":return N(this,M,H);case"utf8":case"utf-8":return w(this,M,H);case"ascii":return A(this,M,H);case"latin1":case"binary":return I(this,M,H);case"base64":return x(this,M,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,M,H);default:if(F)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),F=!0}}.apply(this,arguments)},e.prototype.equals=function(S){if(!e.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S||e.compare(this,S)===0},e.prototype.inspect=function(){var S="",C=E.INSPECT_MAX_BYTES;return this.length>0&&(S=this.toString("hex",0,C).match(/.{2}/g).join(" "),this.length>C&&(S+=" ... ")),"<Buffer "+S+">"},e.prototype.compare=function(S,C,M,H,F){if(!e.isBuffer(S))throw new TypeError("Argument must be a Buffer");if(C===void 0&&(C=0),M===void 0&&(M=S?S.length:0),H===void 0&&(H=0),F===void 0&&(F=this.length),C<0||M>S.length||H<0||F>this.length)throw new RangeError("out of range index");if(H>=F&&C>=M)return 0;if(H>=F)return-1;if(C>=M)return 1;if(C>>>=0,M>>>=0,H>>>=0,F>>>=0,this===S)return 0;for(var W=F-H,Q=M-C,V=Math.min(W,Q),et=this.slice(H,F),at=S.slice(C,M),nt=0;nt<V;++nt)if(et[nt]!==at[nt]){W=et[nt],Q=at[nt];break}return W<Q?-1:Q<W?1:0},e.prototype.includes=function(S,C,M){return this.indexOf(S,C,M)!==-1},e.prototype.indexOf=function(S,C,M){return g(this,S,C,M,!0)},e.prototype.lastIndexOf=function(S,C,M){return g(this,S,C,M,!1)},e.prototype.write=function(S,C,M,H){if(C===void 0)H="utf8",M=this.length,C=0;else if(M===void 0&&typeof C=="string")H=C,M=this.length,C=0;else{if(!isFinite(C))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");C|=0,isFinite(M)?(M|=0,H===void 0&&(H="utf8")):(H=M,M=void 0)}var F=this.length-C;if((M===void 0||M>F)&&(M=F),S.length>0&&(M<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");for(var W=!1;;)switch(H){case"hex":return v(this,S,C,M);case"utf8":case"utf-8":return y(this,S,C,M);case"ascii":return m(this,S,C,M);case"latin1":case"binary":return b(this,S,C,M);case"base64":return k(this,S,C,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,S,C,M);default:if(W)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),W=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function A(S,C,M){var H="";M=Math.min(S.length,M);for(var F=C;F<M;++F)H+=String.fromCharCode(127&S[F]);return H}function I(S,C,M){var H="";M=Math.min(S.length,M);for(var F=C;F<M;++F)H+=String.fromCharCode(S[F]);return H}function N(S,C,M){var H=S.length;(!C||C<0)&&(C=0),(!M||M<0||M>H)&&(M=H);for(var F="",W=C;W<M;++W)F+=Y(S[W]);return F}function j(S,C,M){for(var H=S.slice(C,M),F="",W=0;W<H.length;W+=2)F+=String.fromCharCode(H[W]+256*H[W+1]);return F}function B(S,C,M){if(S%1!=0||S<0)throw new RangeError("offset is not uint");if(S+C>M)throw new RangeError("Trying to access beyond buffer length")}function z(S,C,M,H,F,W){if(!e.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>F||C<W)throw new RangeError('"value" argument is out of bounds');if(M+H>S.length)throw new RangeError("Index out of range")}function K(S,C,M,H){C<0&&(C=65535+C+1);for(var F=0,W=Math.min(S.length-M,2);F<W;++F)S[M+F]=(C&255<<8*(H?F:1-F))>>>8*(H?F:1-F)}function J(S,C,M,H){C<0&&(C=4294967295+C+1);for(var F=0,W=Math.min(S.length-M,4);F<W;++F)S[M+F]=C>>>8*(H?F:3-F)&255}function R(S,C,M,H,F,W){if(M+H>S.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function P(S,C,M,H,F){return F||R(S,0,M,4),s.write(S,C,M,H,23,4),M+4}function G(S,C,M,H,F){return F||R(S,0,M,8),s.write(S,C,M,H,52,8),M+8}e.prototype.slice=function(S,C){var M,H=this.length;if(S=~~S,C=C===void 0?H:~~C,S<0?(S+=H)<0&&(S=0):S>H&&(S=H),C<0?(C+=H)<0&&(C=0):C>H&&(C=H),C<S&&(C=S),e.TYPED_ARRAY_SUPPORT)(M=this.subarray(S,C)).__proto__=e.prototype;else{var F=C-S;M=new e(F,void 0);for(var W=0;W<F;++W)M[W]=this[W+S]}return M},e.prototype.readUIntLE=function(S,C,M){S|=0,C|=0,M||B(S,C,this.length);for(var H=this[S],F=1,W=0;++W<C&&(F*=256);)H+=this[S+W]*F;return H},e.prototype.readUIntBE=function(S,C,M){S|=0,C|=0,M||B(S,C,this.length);for(var H=this[S+--C],F=1;C>0&&(F*=256);)H+=this[S+--C]*F;return H},e.prototype.readUInt8=function(S,C){return C||B(S,1,this.length),this[S]},e.prototype.readUInt16LE=function(S,C){return C||B(S,2,this.length),this[S]|this[S+1]<<8},e.prototype.readUInt16BE=function(S,C){return C||B(S,2,this.length),this[S]<<8|this[S+1]},e.prototype.readUInt32LE=function(S,C){return C||B(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+16777216*this[S+3]},e.prototype.readUInt32BE=function(S,C){return C||B(S,4,this.length),16777216*this[S]+(this[S+1]<<16|this[S+2]<<8|this[S+3])},e.prototype.readIntLE=function(S,C,M){S|=0,C|=0,M||B(S,C,this.length);for(var H=this[S],F=1,W=0;++W<C&&(F*=256);)H+=this[S+W]*F;return H>=(F*=128)&&(H-=Math.pow(2,8*C)),H},e.prototype.readIntBE=function(S,C,M){S|=0,C|=0,M||B(S,C,this.length);for(var H=C,F=1,W=this[S+--H];H>0&&(F*=256);)W+=this[S+--H]*F;return W>=(F*=128)&&(W-=Math.pow(2,8*C)),W},e.prototype.readInt8=function(S,C){return C||B(S,1,this.length),128&this[S]?-1*(255-this[S]+1):this[S]},e.prototype.readInt16LE=function(S,C){C||B(S,2,this.length);var M=this[S]|this[S+1]<<8;return 32768&M?4294901760|M:M},e.prototype.readInt16BE=function(S,C){C||B(S,2,this.length);var M=this[S+1]|this[S]<<8;return 32768&M?4294901760|M:M},e.prototype.readInt32LE=function(S,C){return C||B(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},e.prototype.readInt32BE=function(S,C){return C||B(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},e.prototype.readFloatLE=function(S,C){return C||B(S,4,this.length),s.read(this,S,!0,23,4)},e.prototype.readFloatBE=function(S,C){return C||B(S,4,this.length),s.read(this,S,!1,23,4)},e.prototype.readDoubleLE=function(S,C){return C||B(S,8,this.length),s.read(this,S,!0,52,8)},e.prototype.readDoubleBE=function(S,C){return C||B(S,8,this.length),s.read(this,S,!1,52,8)},e.prototype.writeUIntLE=function(S,C,M,H){S=+S,C|=0,M|=0,H||z(this,S,C,M,Math.pow(2,8*M)-1,0);var F=1,W=0;for(this[C]=255&S;++W<M&&(F*=256);)this[C+W]=S/F&255;return C+M},e.prototype.writeUIntBE=function(S,C,M,H){S=+S,C|=0,M|=0,H||z(this,S,C,M,Math.pow(2,8*M)-1,0);var F=M-1,W=1;for(this[C+F]=255&S;--F>=0&&(W*=256);)this[C+F]=S/W&255;return C+M},e.prototype.writeUInt8=function(S,C,M){return S=+S,C|=0,M||z(this,S,C,1,255,0),e.TYPED_ARRAY_SUPPORT||(S=Math.floor(S)),this[C]=255&S,C+1},e.prototype.writeUInt16LE=function(S,C,M){return S=+S,C|=0,M||z(this,S,C,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[C]=255&S,this[C+1]=S>>>8):K(this,S,C,!0),C+2},e.prototype.writeUInt16BE=function(S,C,M){return S=+S,C|=0,M||z(this,S,C,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[C]=S>>>8,this[C+1]=255&S):K(this,S,C,!1),C+2},e.prototype.writeUInt32LE=function(S,C,M){return S=+S,C|=0,M||z(this,S,C,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[C+3]=S>>>24,this[C+2]=S>>>16,this[C+1]=S>>>8,this[C]=255&S):J(this,S,C,!0),C+4},e.prototype.writeUInt32BE=function(S,C,M){return S=+S,C|=0,M||z(this,S,C,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[C]=S>>>24,this[C+1]=S>>>16,this[C+2]=S>>>8,this[C+3]=255&S):J(this,S,C,!1),C+4},e.prototype.writeIntLE=function(S,C,M,H){if(S=+S,C|=0,!H){var F=Math.pow(2,8*M-1);z(this,S,C,M,F-1,-F)}var W=0,Q=1,V=0;for(this[C]=255&S;++W<M&&(Q*=256);)S<0&&V===0&&this[C+W-1]!==0&&(V=1),this[C+W]=(S/Q>>0)-V&255;return C+M},e.prototype.writeIntBE=function(S,C,M,H){if(S=+S,C|=0,!H){var F=Math.pow(2,8*M-1);z(this,S,C,M,F-1,-F)}var W=M-1,Q=1,V=0;for(this[C+W]=255&S;--W>=0&&(Q*=256);)S<0&&V===0&&this[C+W+1]!==0&&(V=1),this[C+W]=(S/Q>>0)-V&255;return C+M},e.prototype.writeInt8=function(S,C,M){return S=+S,C|=0,M||z(this,S,C,1,127,-128),e.TYPED_ARRAY_SUPPORT||(S=Math.floor(S)),S<0&&(S=255+S+1),this[C]=255&S,C+1},e.prototype.writeInt16LE=function(S,C,M){return S=+S,C|=0,M||z(this,S,C,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[C]=255&S,this[C+1]=S>>>8):K(this,S,C,!0),C+2},e.prototype.writeInt16BE=function(S,C,M){return S=+S,C|=0,M||z(this,S,C,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[C]=S>>>8,this[C+1]=255&S):K(this,S,C,!1),C+2},e.prototype.writeInt32LE=function(S,C,M){return S=+S,C|=0,M||z(this,S,C,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[C]=255&S,this[C+1]=S>>>8,this[C+2]=S>>>16,this[C+3]=S>>>24):J(this,S,C,!0),C+4},e.prototype.writeInt32BE=function(S,C,M){return S=+S,C|=0,M||z(this,S,C,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),e.TYPED_ARRAY_SUPPORT?(this[C]=S>>>24,this[C+1]=S>>>16,this[C+2]=S>>>8,this[C+3]=255&S):J(this,S,C,!1),C+4},e.prototype.writeFloatLE=function(S,C,M){return P(this,S,C,!0,M)},e.prototype.writeFloatBE=function(S,C,M){return P(this,S,C,!1,M)},e.prototype.writeDoubleLE=function(S,C,M){return G(this,S,C,!0,M)},e.prototype.writeDoubleBE=function(S,C,M){return G(this,S,C,!1,M)},e.prototype.copy=function(S,C,M,H){if(M||(M=0),H||H===0||(H=this.length),C>=S.length&&(C=S.length),C||(C=0),H>0&&H<M&&(H=M),H===M||S.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("sourceStart out of bounds");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),S.length-C<H-M&&(H=S.length-C+M);var F,W=H-M;if(this===S&&M<C&&C<H)for(F=W-1;F>=0;--F)S[F+C]=this[F+M];else if(W<1e3||!e.TYPED_ARRAY_SUPPORT)for(F=0;F<W;++F)S[F+C]=this[F+M];else Uint8Array.prototype.set.call(S,this.subarray(M,M+W),C);return W},e.prototype.fill=function(S,C,M,H){if(typeof S=="string"){if(typeof C=="string"?(H=C,C=0,M=this.length):typeof M=="string"&&(H=M,M=this.length),S.length===1){var F=S.charCodeAt(0);F<256&&(S=F)}if(H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!e.isEncoding(H))throw new TypeError("Unknown encoding: "+H)}else typeof S=="number"&&(S&=255);if(C<0||this.length<C||this.length<M)throw new RangeError("Out of range index");if(M<=C)return this;var W;if(C>>>=0,M=M===void 0?this.length:M>>>0,S||(S=0),typeof S=="number")for(W=C;W<M;++W)this[W]=S;else{var Q=e.isBuffer(S)?S:q(new e(S,H).toString()),V=Q.length;for(W=0;W<M-C;++W)this[W+C]=Q[W%V]}return this};var O=/[^+\/0-9A-Za-z-_]/g;function Y(S){return S<16?"0"+S.toString(16):S.toString(16)}function q(S,C){var M;C=C||1/0;for(var H=S.length,F=null,W=[],Q=0;Q<H;++Q){if((M=S.charCodeAt(Q))>55295&&M<57344){if(!F){if(M>56319){(C-=3)>-1&&W.push(239,191,189);continue}if(Q+1===H){(C-=3)>-1&&W.push(239,191,189);continue}F=M;continue}if(M<56320){(C-=3)>-1&&W.push(239,191,189),F=M;continue}M=65536+(F-55296<<10|M-56320)}else F&&(C-=3)>-1&&W.push(239,191,189);if(F=null,M<128){if((C-=1)<0)break;W.push(M)}else if(M<2048){if((C-=2)<0)break;W.push(M>>6|192,63&M|128)}else if(M<65536){if((C-=3)<0)break;W.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((C-=4)<0)break;W.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return W}function U(S){return u.toByteArray(function(C){if((C=function(M){return M.trim?M.trim():M.replace(/^\s+|\s+$/g,"")}(C).replace(O,"")).length<2)return"";for(;C.length%4!=0;)C+="=";return C}(S))}function L(S,C,M,H){for(var F=0;F<H&&!(F+M>=C.length||F>=S.length);++F)C[F+M]=S[F];return F}}).call(this,h(4))},function(D,E,h){var _=h(0),u=h(5),s=h(1),c=function(){function i(r,e,t,n){r&&(this.$container=s.toNode(r),this.$parent=r),this.$config=_.mixin(e,{headerHeight:33}),this.$gantt=n,this.$domEvents=n._createDomEventScope(),this.$id=e.id||"c"+_.uid(),this.$name="cell",this.$factory=t,u(this)}return i.prototype.destructor=function(){this.$parent=this.$container=this.$view=null,this.$gantt.$services.getService("mouseEvents").detach("click","gantt_header_arrow",this._headerClickHandler),this.$domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents()},i.prototype.cell=function(r){return null},i.prototype.scrollTo=function(r,e){var t=this.$view;this.$config.html&&(t=this.$view.firstChild),1*r==r&&(t.scrollLeft=r),1*e==e&&(t.scrollTop=e)},i.prototype.clear=function(){this.getNode().innerHTML="",this.getNode().className="gantt_layout_content",this.getNode().style.padding="0"},i.prototype.resize=function(r){if(this.$parent)return this.$parent.resize(r);r===!1&&(this.$preResize=!0);var e=this.$container,t=e.offsetWidth,n=e.offsetHeight,o=this.getSize();e===document.body&&(t=document.body.offsetWidth,n=document.body.offsetHeight),t<o.minWidth&&(t=o.minWidth),t>o.maxWidth&&(t=o.maxWidth),n<o.minHeight&&(n=o.minHeight),n>o.maxHeight&&(n=o.maxHeight),this.setSize(t,n),this.$preResize,this.$preResize=!1},i.prototype.hide=function(){this._hide(!0),this.resize()},i.prototype.show=function(r){this._hide(!1),r&&this.$parent&&this.$parent.show(),this.resize()},i.prototype._hide=function(r){if(r===!0&&this.$view.parentNode)this.$view.parentNode.removeChild(this.$view);else if(r===!1&&!this.$view.parentNode){var e=this.$parent.cellIndex(this.$id);this.$parent.moveView(this,e)}this.$config.hidden=r},i.prototype.$toHTML=function(r,e){r===void 0&&(r=""),e=[e||"",this.$config.css||""].join(" ");var t=this.$config,n="";return t.raw?r=typeof t.raw=="string"?t.raw:"":(r||(r="<div class='gantt_layout_content' "+(e?" class='"+e+"' ":"")+" >"+(t.html||"")+"</div>"),t.header&&(n="<div class='gantt_layout_header'>"+(t.canCollapse?"<div class='gantt_layout_header_arrow'></div>":"")+"<div class='gantt_layout_header_content'>"+t.header+"</div></div>")),"<div class='gantt_layout_cell "+e+"' data-cell-id='"+this.$id+"'>"+n+r+"</div>"},i.prototype.$fill=function(r,e){this.$view=r,this.$parent=e,this.init()},i.prototype.getNode=function(){return this.$view.querySelector("gantt_layout_cell")||this.$view},i.prototype.init=function(){var r=this;this._headerClickHandler=function(e){s.locateAttribute(e,"data-cell-id")==r.$id&&r.toggle()},this.$gantt.$services.getService("mouseEvents").delegate("click","gantt_header_arrow",this._headerClickHandler),this.callEvent("onReady",[])},i.prototype.toggle=function(){this.$config.collapsed=!this.$config.collapsed,this.resize()},i.prototype.getSize=function(){var r={height:this.$config.height||0,width:this.$config.width||0,gravity:this.$config.gravity||1,minHeight:this.$config.minHeight||0,minWidth:this.$config.minWidth||0,maxHeight:this.$config.maxHeight||1e11,maxWidth:this.$config.maxWidth||1e11};if(this.$config.collapsed){var e=this.$config.mode==="x";r[e?"width":"height"]=r[e?"maxWidth":"maxHeight"]=this.$config.headerHeight}return r},i.prototype.getContentSize=function(){var r=this.$lastSize.contentX;r!==1*r&&(r=this.$lastSize.width);var e=this.$lastSize.contentY;return e!==1*e&&(e=this.$lastSize.height),{width:r,height:e}},i.prototype._getBorderSizes=function(){var r={top:0,right:0,bottom:0,left:0,horizontal:0,vertical:0};return this._currentBorders&&(this._currentBorders[this._borders.left]&&(r.left=1,r.horizontal++),this._currentBorders[this._borders.right]&&(r.right=1,r.horizontal++),this._currentBorders[this._borders.top]&&(r.top=1,r.vertical++),this._currentBorders[this._borders.bottom]&&(r.bottom=1,r.vertical++)),r},i.prototype.setSize=function(r,e){this.$view.style.width=r+"px",this.$view.style.height=e+"px";var t=this._getBorderSizes(),n=e-t.vertical,o=r-t.horizontal;this.$lastSize={x:r,y:e,contentX:o,contentY:n},this.$config.header?this._sizeHeader():this._sizeContent()},i.prototype._borders={left:"gantt_layout_cell_border_left",right:"gantt_layout_cell_border_right",top:"gantt_layout_cell_border_top",bottom:"gantt_layout_cell_border_bottom"},i.prototype._setBorders=function(r,e){e||(e=this);var t=e.$view;for(var n in this._borders)s.removeClassName(t,this._borders[n]);typeof r=="string"&&(r=[r]);var o={};for(n=0;n<r.length;n++)s.addClassName(t,r[n]),o[r[n]]=!0;e._currentBorders=o},i.prototype._sizeContent=function(){var r=this.$view.childNodes[0];r&&r.className=="gantt_layout_content"&&(r.style.height=this.$lastSize.contentY+"px")},i.prototype._sizeHeader=function(){var r=this.$lastSize;r.contentY-=this.$config.headerHeight;var e=this.$view.childNodes[0],t=this.$view.childNodes[1],n=this.$config.mode==="x";if(this.$config.collapsed)if(t.style.display="none",n){e.className="gantt_layout_header collapsed_x",e.style.width=r.y+"px";var o=Math.floor(r.y/2-r.x/2);e.style.transform="rotate(90deg) translate("+o+"px, "+o+"px)",t.style.display="none"}else e.className="gantt_layout_header collapsed_y";else e.className=n?"gantt_layout_header":"gantt_layout_header vertical",e.style.width="auto",e.style.transform="",t.style.display="",t.style.height=r.contentY+"px";e.style.height=this.$config.headerHeight+"px"},i}();D.exports=c},function(D,E,h){var _=h(11);D.exports=function(u){return _.isNode||!u.$root}},function(D,E){D.exports=function(h,_,u,s){return(s=_?_.config:s)&&s.placeholder_task&&u.exists(h)?u.getItem(h).type===s.types.placeholder:!1}},function(D,E,h){(function(_){function u(c){"@babel/helpers - typeof";return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(c)}function s(c){return Object.prototype.toString.call(c)}E.isArray=function(c){return Array.isArray?Array.isArray(c):s(c)==="[object Array]"},E.isBoolean=function(c){return typeof c=="boolean"},E.isNull=function(c){return c===null},E.isNullOrUndefined=function(c){return c==null},E.isNumber=function(c){return typeof c=="number"},E.isString=function(c){return typeof c=="string"},E.isSymbol=function(c){return u(c)==="symbol"},E.isUndefined=function(c){return c===void 0},E.isRegExp=function(c){return s(c)==="[object RegExp]"},E.isObject=function(c){return u(c)==="object"&&c!==null},E.isDate=function(c){return s(c)==="[object Date]"},E.isError=function(c){return s(c)==="[object Error]"||c instanceof Error},E.isFunction=function(c){return typeof c=="function"},E.isPrimitive=function(c){return c===null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||u(c)==="symbol"||c===void 0},E.isBuffer=_.isBuffer}).call(this,h(13).Buffer)},function(D,E,h){var _=h(3),u=h(36);D.exports=function(s){var c=h(7)(s);function i(){return c.apply(this,arguments)||this}return _(i,c),i.prototype.render=function(r){var e="<div class='gantt_cal_ltext' style='height:"+((r.height||"23")+"px")+";'>";return e+=u.getHtmlSelect(r.options,[{key:"style",value:"width:100%;"},{key:"title",value:r.name}]),e+="</div>"},i.prototype.set_value=function(r,e,t,n){var o=r.firstChild;!o._dhx_onchange&&n.onchange&&(o.onchange=n.onchange,o._dhx_onchange=!0),e===void 0&&(e=(o.options[0]||{}).value),o.value=e||""},i.prototype.get_value=function(r){return r.firstChild.value},i.prototype.focus=function(r){var e=r.firstChild;s._focus(e,!0)},i}},function(D,E){D.exports=function(h,_,u,s,c){if(!h.start_date||!h.end_date)return null;var i=u.getItemTop(h.id),r=u.getItemHeight(h.id);if(i>_.y_end||i+r<_.y)return!1;var e=u.posFromDate(h.start_date),t=u.posFromDate(h.end_date),n=Math.min(e,t)-200,o=Math.max(e,t)+200;return!(n>_.x_end||o<_.x)}},function(D,E){D.exports=function(h){return h.config.smart_rendering&&h._smart_render}},function(D,E,h){(function(_){var u;u=typeof window<"u"?window:_,D.exports=u}).call(this,h(4))},function(D,E,h){var _=h(13),u=_.Buffer;function s(i,r){for(var e in i)r[e]=i[e]}function c(i,r,e){return u(i,r,e)}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?D.exports=_:(s(_,E),E.Buffer=c),s(u,c),c.from=function(i,r,e){if(typeof i=="number")throw new TypeError("Argument must not be a number");return u(i,r,e)},c.alloc=function(i,r,e){if(typeof i!="number")throw new TypeError("Argument must be a number");var t=u(i);return r!==void 0?typeof e=="string"?t.fill(r,e):t.fill(r):t.fill(0),t},c.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return u(i)},c.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(i)}},function(D,E,h){(function(_){!_.version||_.version.indexOf("v0.")===0||_.version.indexOf("v1.")===0&&_.version.indexOf("v1.8.")!==0?D.exports={nextTick:function(u,s,c,i){if(typeof u!="function")throw new TypeError('"callback" argument must be a function');var r,e,t=arguments.length;switch(t){case 0:case 1:return _.nextTick(u);case 2:return _.nextTick(function(){u.call(null,s)});case 3:return _.nextTick(function(){u.call(null,s,c)});case 4:return _.nextTick(function(){u.call(null,s,c,i)});default:for(r=new Array(t-1),e=0;e<r.length;)r[e++]=arguments[e];return _.nextTick(function(){u.apply(null,r)})}}}:D.exports=_}).call(this,h(9))},function(D,E,h){var _=h(0);D.exports={createDropTargetObject:function(u){var s={targetParent:null,targetIndex:0,targetId:null,child:!1,nextSibling:!1,prevSibling:!1};return u&&_.mixin(s,u,!0),s},nextSiblingTarget:function(u,s,c){var i=this.createDropTargetObject();return i.targetId=s,i.nextSibling=!0,i.targetParent=c.getParent(i.targetId),i.targetIndex=c.getBranchIndex(i.targetId),(c.getParent(u)!=i.targetParent||i.targetIndex<c.getBranchIndex(u))&&(i.targetIndex+=1),i},prevSiblingTarget:function(u,s,c){var i=this.createDropTargetObject();return i.targetId=s,i.prevSibling=!0,i.targetParent=c.getParent(i.targetId),i.targetIndex=c.getBranchIndex(i.targetId),c.getParent(u)==i.targetParent&&i.targetIndex>c.getBranchIndex(u)&&(i.targetIndex-=1),i},firstChildTarget:function(u,s,c){var i=this.createDropTargetObject();return i.targetId=s,i.targetParent=i.targetId,i.targetIndex=0,i.child=!0,i},lastChildTarget:function(u,s,c){var i=c.getChildren(s),r=this.createDropTargetObject();return r.targetId=i[i.length-1],r.targetParent=s,r.targetIndex=i.length,r.nextSibling=!0,r}}},function(D,E,h){var _=h(20);D.exports=function(u,s,c,i){var r=s.width[u];if(r<=0)return!1;if(!i.config.smart_rendering||_(i))return!0;var e=s.left[u]-r,t=s.left[u]+r;return e<=c.x_end&&t>=c.x}},function(D,E){D.exports=function(h,_){var u=0,s=h.left.length-1;if(_)for(var c=0;c<h.left.length;c++){var i=h.left[c];if(i<_.x&&(u=c),i>_.x_end){s=c;break}}return{start:u,end:s}}},function(D,E){D.exports=function(h,_,u){return{top:_.getItemTop(h.id),height:_.getItemHeight(h.id),left:0,right:1/0}}},function(D,E){D.exports=function(h){function _(i,r,e){if(!h._isAllowedUnscheduledTask(i)&&h._isTaskInTimelineLimits(i)){var t=r.getItemPosition(i),n=e,o=r.$getTemplates(),a=h.getTaskType(i.type),l=r.getBarHeight(i.id,a==n.types.milestone),d=0;a==n.types.milestone&&(d=(l-t.height)/2);var f=Math.floor((r.getItemHeight(i.id)-l)/2);a==n.types.milestone&&(t.left-=Math.round(l/2),t.width=l);var g=document.createElement("div"),p=Math.round(t.width);r.$config.item_attribute&&(g.setAttribute(r.$config.item_attribute,i.id),g.setAttribute(r.$config.bind+"_id",i.id)),n.show_progress&&a!=n.types.milestone&&function($,x,w,T,A){var I=1*$.progress||0;w=Math.max(w-2,0);var N=document.createElement("div"),j=Math.round(w*I);j=Math.min(w,j),$.progressColor&&(N.style.backgroundColor=$.progressColor,N.style.opacity=1),N.style.width=j+"px",N.className="gantt_task_progress",N.innerHTML=A.progress_text($.start_date,$.end_date,$),T.rtl&&(N.style.position="absolute",N.style.right="0px");var B=document.createElement("div");if(B.className="gantt_task_progress_wrapper",B.appendChild(N),x.appendChild(B),h.config.drag_progress&&!h.isReadonly($)){var z=document.createElement("div"),K=j;T.rtl&&(K=w-j),z.style.left=K+"px",z.className="gantt_task_progress_drag",N.appendChild(z),x.appendChild(z)}}(i,g,p,n,o);var v=function($,x,w){var T=document.createElement("div");return h.getTaskType($.type)!=h.config.types.milestone?T.innerHTML=w.task_text($.start_date,$.end_date,$):h.getTaskType($.type)==h.config.types.milestone&&x&&(T.style.height=T.style.width=x+"px"),T.className="gantt_task_content",T}(i,p,o);i.textColor&&(v.style.color=i.textColor),g.appendChild(v);var y=function($,x,w,T){var A=T.$getConfig(),I=[$];x&&I.push(x);var N=h.getState(),j=h.getTask(w);if(h.getTaskType(j.type)==A.types.milestone?I.push("gantt_milestone"):h.getTaskType(j.type)==A.types.project&&I.push("gantt_project"),I.push("gantt_bar_"+h.getTaskType(j.type)),h.isSummaryTask(j)&&I.push("gantt_dependent_task"),h.isSplitTask(j)&&(A.open_split_tasks&&!j.$open||!A.open_split_tasks)&&I.push("gantt_split_parent"),A.select_task&&h.isSelectedTask(w)&&I.push("gantt_selected"),w==N.drag_id&&(I.push("gantt_drag_"+N.drag_mode),N.touch_drag&&I.push("gantt_touch_"+N.drag_mode)),N.link_source_id==w&&I.push("gantt_link_source"),N.link_target_id==w&&I.push("gantt_link_target"),A.highlight_critical_path&&h.isCriticalTask&&h.isCriticalTask(j)&&I.push("gantt_critical_task"),N.link_landing_area&&N.link_target_id&&N.link_source_id&&N.link_target_id!=N.link_source_id&&(N.link_target_id==w||N.link_source_id==w)){var B=N.link_source_id,z=N.link_from_start,K=N.link_to_start,J=h.isLinkAllowed(B,w,z,K),R="";R=J?K?"link_start_allow":"link_finish_allow":K?"link_start_deny":"link_finish_deny",I.push(R)}return I.join(" ")}("gantt_task_line",o.task_class(i.start_date,i.end_date,i),i.id,r);(i.color||i.progressColor||i.textColor)&&(y+=" gantt_task_inline_color"),t.width<20&&(y+=" gantt_thin_task"),g.className=y;var m=["left:"+t.left+"px","top:"+(f+t.top)+"px","height:"+(a==n.types.milestone?t.height:l)+"px","line-height:"+Math.max(l<30?l-2:l,0)+"px","width:"+p+"px"];i.color&&m.push("background-color:"+i.color),i.textColor&&m.push("color:"+i.textColor),g.style.cssText=m.join(";");var b=function($,x,w,T){var A="gantt_left "+s(!x.rtl,$),I=null;return T&&(I={type:"marginRight",value:T}),u($,w.leftside_text,A,I)}(i,n,o,d);b&&g.appendChild(b),(b=function($,x,w,T){var A="gantt_right "+s(!!x.rtl,$),I=null;return T&&(I={type:"marginLeft",value:T}),u($,w.rightside_text,A,I)}(i,n,o,d))&&g.appendChild(b),h._waiAria.setTaskBarAttr(i,g);var k=h.getState();return h.isReadonly(i)||(n.drag_resize&&!h.isSummaryTask(i)&&a!=n.types.milestone&&c(g,"gantt_task_drag",i,function($){var x=document.createElement("div");return x.className=$,x},n),n.drag_links&&n.show_links&&c(g,"gantt_link_control",i,function($){var x=document.createElement("div");x.className=$,x.style.cssText=["height:"+l+"px","line-height:"+l+"px"].join(";");var w=document.createElement("div");w.className="gantt_link_point";var T=!1;return k.link_source_id&&n.touch&&(T=!0),w.style.display=T?"block":"",x.appendChild(w),x},n,d)),g}}function u(i,r,e,t){if(!r)return null;var n=r(i.start_date,i.end_date,i);if(!n)return null;var o=document.createElement("div");return o.className="gantt_side_content "+e,o.innerHTML=n,t&&(o.style[t.type]=Math.abs(t.value)+"px"),o}function s(i,r){var e=function(d){return d?{$source:[h.config.links.start_to_start],$target:[h.config.links.start_to_start,h.config.links.finish_to_start]}:{$source:[h.config.links.finish_to_start,h.config.links.finish_to_finish],$target:[h.config.links.finish_to_finish]}}(i);for(var t in e)for(var n=r[t],o=0;o<n.length;o++)for(var a=h.getLink(n[o]),l=0;l<e[t].length;l++)if(a.type==e[t][l])return"gantt_link_crossing";return""}function c(i,r,e,t,n,o){var a,l=h.getState();+e.start_date>=+l.min_date&&((a=t([r,n.rtl?"task_right":"task_left","task_start_date"].join(" "))).setAttribute("data-bind-property","start_date"),o&&(a.style.marginLeft=o+"px"),i.appendChild(a)),+e.end_date<=+l.max_date&&((a=t([r,n.rtl?"task_left":"task_right","task_end_date"].join(" "))).setAttribute("data-bind-property","end_date"),o&&(a.style.marginRight=o+"px"),i.appendChild(a))}return function(i,r,e){var t=(e=r.$getConfig()).type_renderers[h.getTaskType(i.type)],n=_;return t?t.call(h,i,function(o){return n.call(h,o,r,e)},r):n.call(h,i,r,e)}}},function(D,E,h){var _=h(33),u=h(5),s=h(0),c=h(2),i=h(43),r=h(128),e=function(t,n,o,a){this.$config=s.mixin({},n||{}),this.$scaleHelper=new _(a),this.$gantt=a,this._posFromDateCache={},this._timelineDragScroll=null,s.mixin(this,i(this)),u(this)};e.prototype={init:function(t){t.innerHTML+="<div class='gantt_task' style='width:inherit;height:inherit;'></div>",this.$task=t.childNodes[0],this.$task.innerHTML="<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>",this.$task_scale=this.$task.childNodes[0],this.$task_data=this.$task.childNodes[1],this.$task_data.innerHTML="<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>",this.$task_bg=this.$task_data.childNodes[0],this.$task_links=this.$task_data.childNodes[1],this.$task_bars=this.$task_data.childNodes[2],this._tasks={col_width:0,width:[],full_width:0,trace_x:[],rendered:{}};var n=this.$getConfig(),o=n[this.$config.bind+"_attribute"],a=n[this.$config.bindLinks+"_attribute"];!o&&this.$config.bind&&(o="data-"+this.$config.bind+"-id"),!a&&this.$config.bindLinks&&(a="data-"+this.$config.bindLinks+"-id"),this.$config.item_attribute=o||null,this.$config.link_attribute=a||null;var l=this._createLayerConfig();this.$config.layers||(this.$config.layers=l.tasks),this.$config.linkLayers||(this.$config.linkLayers=l.links),this._attachLayers(this.$gantt),this.callEvent("onReady",[]),this.$gantt.ext.dragTimeline&&(this._timelineDragScroll=this.$gantt.ext.dragTimeline.create(),this._timelineDragScroll.attach(this))},setSize:function(t,n){var o=this.$getConfig();if(1*t===t&&(this.$config.width=t),1*n===n){this.$config.height=n;var a=Math.max(this.$config.height-o.scale_height);this.$task_data.style.height=a+"px"}this.refresh(),this.$task_bg.style.backgroundImage="",o.smart_rendering&&this.$config.rowStore?this.$task_bg.style.height=this.getTotalHeight()+"px":this.$task_bg.style.height="";for(var l=this._tasks,d=this.$task_data.childNodes,f=0,g=d.length;f<g;f++){var p=d[f];p.hasAttribute("data-layer")&&p.style&&(p.style.width=l.full_width+"px")}},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$task.offsetWidth},getSize:function(){var t=this.$getConfig(),n=this.$config.rowStore?this.getTotalHeight():0,o=this.isVisible()?this._tasks.full_width:0;return{x:this.isVisible()?this.$config.width:0,y:this.isVisible()?this.$config.height:0,contentX:this.isVisible()?o:0,contentY:this.isVisible()?t.scale_height+n:0,scrollHeight:this.isVisible()?n:0,scrollWidth:this.isVisible()?o:0}},scrollTo:function(t,n){if(this.isVisible()){var o=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*n===n&&(this.$config.scrollTop=n,this.$task_data.scrollTop=this.$config.scrollTop,o=!0),1*t===t&&(this.$task.scrollLeft=t,this.$config.scrollLeft=this.$task.scrollLeft,this._refreshScales(),o=!0),o&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},_refreshScales:function(){if(this.isVisible()&&this.$getConfig().smart_scales){var t=this.getViewPort(),n=this._scales;this.$task_scale.innerHTML=this._getScaleChunkHtml(n,t.x,t.x_end)}},getViewPort:function(){var t=this.$config.scrollLeft||0,n=this.$config.scrollTop||0,o=this.$config.height||0,a=this.$config.width||0;return{y:n,y_end:n+o,x:t,x_end:t+a,height:o,width:a}},_createLayerConfig:function(){var t=this,n=function(){return t.isVisible()};return{tasks:[{expose:!0,renderer:this.$gantt.$ui.layers.taskBar(),container:this.$task_bars,filter:[n,function(o,a){return!a.hide_bar}]},{renderer:this.$gantt.$ui.layers.taskSplitBar(),filter:[n],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskRollupBar(),filter:[n],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[n]}],links:[{expose:!0,renderer:this.$gantt.$ui.layers.link(),container:this.$task_links,filter:[n]}]}},_attachLayers:function(t){this._taskLayers=[],this._linkLayers=[];var n=this,o=this.$gantt.$services.getService("layers");if(this.$config.bind){this._bindStore();var a=o.getDataRender(this.$config.bind);a||(a=o.createDataRender({name:this.$config.bind,defaultContainer:function(){return n.$task_data}})),a.container=function(){return n.$task_data};for(var l=this.$config.layers,d=0;l&&d<l.length;d++){typeof(v=l[d])=="string"&&(v=this.$gantt.$ui.layers[v]()),(typeof v=="function"||v&&v.render&&v.update)&&(v={renderer:v}),v.view=this;var f=a.addLayer(v);this._taskLayers.push(f),v.expose&&(this._taskRenderer=a.getLayer(f))}this._initStaticBackgroundRender()}if(this.$config.bindLinks){n.$config.linkStore=n.$gantt.getDatastore(n.$config.bindLinks);var g=o.getDataRender(this.$config.bindLinks);g||(g=o.createDataRender({name:this.$config.bindLinks,defaultContainer:function(){return n.$task_data}}));var p=this.$config.linkLayers;for(d=0;p&&d<p.length;d++){var v;typeof v=="string"&&(v=this.$gantt.$ui.layers[v]()),(v=p[d]).view=this;var y=g.addLayer(v);this._taskLayers.push(y),p[d].expose&&(this._linkRenderer=g.getLayer(y))}}},_initStaticBackgroundRender:function(){var t=this,n=r.create(),o=t.$config.rowStore;o&&(this._staticBgHandler=o.attachEvent("onStoreUpdated",function(a,l,d){if(a===null&&t.isVisible()){var f=t.$getConfig();if(f.static_background||f.timeline_placeholder){var g=t.$gantt.getDatastore(t.$config.bind),p=t.$task_bg_static;if(p||((p=document.createElement("div")).className="gantt_task_bg",t.$task_bg_static=p,t.$task_bg.nextSibling?t.$task_data.insertBefore(p,t.$task_bg.nextSibling):t.$task_data.appendChild(p)),g){var v=t.getTotalHeight();f.timeline_placeholder&&(v=f.timeline_placeholder.height||t.$task_data.offsetHeight||99999),n.render(p,f,t.getScale(),v,t.getItemHeight(l?l.id:null))}}else f.static_background&&t.$task_bg_static&&t.$task_bg_static.parentNode&&t.$task_bg_static.parentNode.removeChild(t.$task_bg_static)}}),this.attachEvent("onDestroy",function(){n.destroy()}),this._initStaticBackgroundRender=function(){})},_clearLayers:function(t){var n=this.$gantt.$services.getService("layers"),o=n.getDataRender(this.$config.bind),a=n.getDataRender(this.$config.bindLinks);if(this._taskLayers)for(var l=0;l<this._taskLayers.length;l++)o.removeLayer(this._taskLayers[l]);if(this._linkLayers)for(l=0;l<this._linkLayers.length;l++)a.removeLayer(this._linkLayers[l]);this._linkLayers=[],this._taskLayers=[]},_render_tasks_scales:function(){var t=this.$getConfig(),n="",o=0,a=0,l=this.$gantt.getState();if(this.isVisible()){var d=this.$scaleHelper,f=this._getScales();a=t.scale_height;var g=this.$config.width;t.autosize!="x"&&t.autosize!="xy"||(g=Math.max(t.autosize_min_width,0));var p=d.prepareConfigs(f,t.min_column_width,g,a-1,l.min_date,l.max_date,t.rtl),v=this._tasks=p[p.length-1];this._scales=p,this._posFromDateCache={},n=this._getScaleChunkHtml(p,0,this.$config.width),o=v.full_width+"px",a+="px"}this.$task_scale.style.height=a,this.$task_data.style.width=this.$task_scale.style.width=o,this.$task_scale.innerHTML=n},_getScaleChunkHtml:function(t,n,o){for(var a=[],l=this.$gantt.templates.scale_row_class,d=0;d<t.length;d++){var f="gantt_scale_line",g=l(t[d]);g&&(f+=" "+g),a.push('<div class="'+f+'" style="height:'+t[d].height+"px;position:relative;line-height:"+t[d].height+'px">'+this._prepareScaleHtml(t[d],n,o)+"</div>")}return a.join("")},_prepareScaleHtml:function(t,n,o){var a=this.$getConfig(),l=this.$gantt.templates,d=[],f=null,g=null,p=t.format||t.template||t.date;typeof p=="string"&&(p=this.$gantt.date.date_to_str(p));var v=0,y=t.count;!a.smart_scales||isNaN(n)||isNaN(o)||(v=c.findBinary(t.left,n),y=c.findBinary(t.left,o)+1),g=t.css||function(){},!t.css&&a.inherit_scale_class&&(g=l.scale_cell_class);for(var m=v;m<y&&t.trace_x[m];m++){f=new Date(t.trace_x[m]);var b=p.call(this,f),k=t.width[m],$=t.height,x=t.left[m],w="",T="",A="";if(k){w="width:"+k+"px;height:"+$+"px;"+(a.smart_scales?"position:absolute;left:"+x+"px":""),A="gantt_scale_cell"+(m==t.count-1?" gantt_last_cell":""),(T=g.call(this,f))&&(A+=" "+T);var I="<div class='"+A+"'"+this.$gantt._waiAria.getTimelineCellAttr(b)+" style='"+w+"'>"+b+"</div>";d.push(I)}}return d.join("")},dateFromPos:function(t){var n=this._tasks;if(t<0||t>n.full_width||!n.full_width)return null;var o=c.findBinary(this._tasks.left,t),a=this._tasks.left[o],l=n.width[o]||n.col_width,d=0;l&&(d=(t-a)/l,n.rtl&&(d=1-d));var f=0;return d&&(f=this._getColumnDuration(n,n.trace_x[o])),new Date(n.trace_x[o].valueOf()+Math.round(d*f))},posFromDate:function(t){if(!this.isVisible()||!t)return 0;var n=String(t.valueOf());if(this._posFromDateCache[n]!==void 0)return this._posFromDateCache[n];var o=this.columnIndexByDate(t);this.$gantt.assert(o>=0,"Invalid day index");var a=Math.floor(o),l=o%1,d=this._tasks.left[Math.min(a,this._tasks.width.length-1)];a==this._tasks.width.length&&(d+=this._tasks.width[this._tasks.width.length-1]),l&&(a<this._tasks.width.length?d+=this._tasks.width[a]*(l%1):d+=1);var f=Math.round(d);return this._posFromDateCache[n]=f,Math.round(f)},_getNextVisibleColumn:function(t,n,o){for(var a=+n[t],l=t;o[a];)a=+n[++l];return l},_getPrevVisibleColumn:function(t,n,o){for(var a=+n[t],l=t;o[a];)a=+n[--l];return l},_getClosestVisibleColumn:function(t,n,o){var a=this._getNextVisibleColumn(t,n,o);return n[a]||(a=this._getPrevVisibleColumn(t,n,o)),a},columnIndexByDate:function(t){var n=new Date(t).valueOf(),o=this._tasks.trace_x_ascending,a=this._tasks.ignore_x,l=this.$gantt.getState();if(n<=l.min_date)return this._tasks.rtl?o.length:0;if(n>=l.max_date)return this._tasks.rtl?0:o.length;var d=c.findBinary(o,n),f=this._getClosestVisibleColumn(d,o,a),g=o[f],p=this._tasks.trace_index_transition;if(!g)return p?p[0]:0;var v=(t-o[f])/this._getColumnDuration(this._tasks,o[f]);return p?p[f]+(1-v):f+v},getItemPosition:function(t,n,o){var a,l,d;return this._tasks.rtl?(l=this.posFromDate(n||t.start_date),a=this.posFromDate(o||t.end_date)):(a=this.posFromDate(n||t.start_date),l=this.posFromDate(o||t.end_date)),d=Math.max(l-a,0),{left:a,top:this.getItemTop(t.id),height:this.getBarHeight(t.id),width:d,rowHeight:this.getItemHeight(t.id)}},getBarHeight:function(t,n){var o=this.$getConfig(),a=this.$config.rowStore.getItem(t),l=a.task_height||a.bar_height||o.bar_height||o.task_height,d=this.getItemHeight(t);return l=="full"&&(l=d-(o.task_height_offset||5)),l=Math.min(l,d),n&&(l=Math.round(l/Math.sqrt(2))),Math.max(l,0)},getScale:function(){return this._tasks},_getScales:function(){var t=this.$getConfig(),n=this.$scaleHelper,o=[n.primaryScale(t)].concat(n.getSubScales(t));return n.sortScales(o),o},_getColumnDuration:function(t,n){return this.$gantt.date.add(n,t.step,t.unit)-n},_bindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=t,t&&!t._timelineCacheAttached){var n=this;t._timelineCacheAttached=t.attachEvent("onBeforeFilter",function(){n._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);t&&t._timelineCacheAttached&&(t.detachEvent(t._timelineCacheAttached),t._timelineCacheAttached=!1)}},refresh:function(){this._bindStore(),this.$config.bindLinks&&(this.$config.linkStore=this.$gantt.getDatastore(this.$config.bindLinks)),this._resetTopPositionHeight(),this._resetHeight(),this._initStaticBackgroundRender(),this._render_tasks_scales()},destructor:function(){var t=this.$gantt;this._clearLayers(t),this._unbindStore(),this.$task=null,this.$task_scale=null,this.$task_data=null,this.$task_bg=null,this.$task_links=null,this.$task_bars=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.$config.linkStore&&(this.$config.linkStore=null),this._timelineDragScroll&&(this._timelineDragScroll.destructor(),this._timelineDragScroll=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},D.exports=e},function(D,E){D.exports=function(h,_,u){return{top:_.getItemTop(h.id),height:_.getItemHeight(h.id),left:0,right:1/0}}},function(D,E){D.exports=function(h){var _=[];return{delegate:function(u,s,c,i){_.push([u,s,c,i]),h.$services.getService("mouseEvents").delegate(u,s,c,i)},destructor:function(){for(var u=h.$services.getService("mouseEvents"),s=0;s<_.length;s++){var c=_[s];u.detach(c[0],c[1],c[2],c[3])}_=[]}}}},function(D,E,h){var _=h(1),u=h(0),s=h(5),c=h(209),i=h(43),r=h(207),e=h(206).default,t=function(n,o,a,l){this.$config=u.mixin({},o||{}),this.$gantt=l,this.$parent=n,s(this),this.$state={},u.mixin(this,i(this))};t.prototype={init:function(n){var o=this.$gantt,a=o._waiAria.gridAttrString(),l=o._waiAria.gridDataAttrString(),d=this.$getConfig(),f=d.reorder_grid_columns||!1;this.$config.reorder_grid_columns!==void 0&&(f=this.$config.reorder_grid_columns),n.innerHTML="<div class='gantt_grid' style='height:inherit;width:inherit;' "+a+"></div>",this.$grid=n.childNodes[0],this.$grid.innerHTML="<div class='gantt_grid_scale' "+o._waiAria.gridScaleRowAttrString()+"></div><div class='gantt_grid_data' "+l+"></div>",this.$grid_scale=this.$grid.childNodes[0],this.$grid_data=this.$grid.childNodes[1];var g=d[this.$config.bind+"_attribute"];if(!g&&this.$config.bind&&(g="data-"+this.$config.bind+"-id"),this.$config.item_attribute=g||null,!this.$config.layers){var p=this._createLayerConfig();this.$config.layers=p}var v=c(o,this);v.init(),this._renderHeaderResizers=v.doOnRender,this._mouseDelegates=h(31)(o),r(o,this).init(),this._addLayers(this.$gantt),this._initEvents(),f&&(this._columnDND=new e(o,this),this._columnDND.init()),this.callEvent("onReady",[])},_validateColumnWidth:function(n,o){var a=n[o];if(a&&a!="*"){var l=this.$gantt,d=1*a;isNaN(d)?l.assert(!1,"Wrong "+o+" value of column "+n.name):n[o]=d}},setSize:function(n,o){this.$config.width=this.$state.width=n,this.$config.height=this.$state.height=o;for(var a,l=this.getGridColumns(),d=0,f=(b=this.$getConfig()).grid_elastic_columns,g=0,p=l.length;g<p;g++)this._validateColumnWidth(l[g],"min_width"),this._validateColumnWidth(l[g],"max_width"),this._validateColumnWidth(l[g],"width"),d+=1*l[g].width;if(!isNaN(d)&&this.$config.scrollable||(d=a=this._setColumnsWidth(n+1)),this.$config.scrollable&&f&&!isNaN(d)){var v="width";f=="min_width"&&(v="min_width");var y=0;l.forEach(function($){y+=$[v]||b.min_grid_column_width});var m=Math.max(y,n);d=this._setColumnsWidth(m),a=n}this.$config.scrollable?(this.$grid_scale.style.width=d+"px",this.$grid_data.style.width=d+"px"):(this.$grid_scale.style.width="inherit",this.$grid_data.style.width="inherit"),this.$config.width-=1;var b=this.$getConfig();a!==n&&(a!==void 0?(b.grid_width=a,this.$config.width=a-1):isNaN(d)||(this._setColumnsWidth(d),b.grid_width=d,this.$config.width=d-1));var k=Math.max(this.$state.height-b.scale_height,0);this.$grid_data.style.height=k+"px",this.refresh()},getSize:function(){var n=this.$getConfig(),o=this.$config.rowStore?this.getTotalHeight():0,a=this._getGridWidth();return{x:this.$state.width,y:this.$state.height,contentX:this.isVisible()?a:0,contentY:this.isVisible()?n.scale_height+o:0,scrollHeight:this.isVisible()?o:0,scrollWidth:this.isVisible()?a:0}},_bindStore:function(){if(this.$config.bind){var n=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=n,n&&!n._gridCacheAttached){var o=this;n._gridCacheAttached=n.attachEvent("onBeforeFilter",function(){o._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var n=this.$gantt.getDatastore(this.$config.bind);n&&n._gridCacheAttached&&(n.detachEvent(n._gridCacheAttached),n._gridCacheAttached=!1)}},refresh:function(){this._bindStore(),this._resetTopPositionHeight(),this._resetHeight(),this._initSmartRenderingPlaceholder(),this._calculateGridWidth(),this._renderGridHeader()},getViewPort:function(){var n=this.$config.scrollLeft||0,o=this.$config.scrollTop||0,a=this.$config.height||0,l=this.$config.width||0;return{y:o,y_end:o+a,x:n,x_end:n+l,height:a,width:l}},scrollTo:function(n,o){if(this.isVisible()){var a=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*n==n&&(this.$config.scrollLeft=this.$state.scrollLeft=this.$grid.scrollLeft=n,a=!0),1*o==o&&(this.$config.scrollTop=this.$state.scrollTop=this.$grid_data.scrollTop=o,a=!0),a&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},getColumnIndex:function(n,o){for(var a=this.$getConfig().columns,l=0,d=0;d<a.length;d++)if(o&&a[d].hide&&l++,a[d].name==n)return d-l;return null},getColumn:function(n){var o=this.getColumnIndex(n);return o===null?null:this.$getConfig().columns[o]},getGridColumns:function(){return this.$getConfig().columns.slice()},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$grid.offsetWidth},_createLayerConfig:function(){var n=this.$gantt,o=this;return[{renderer:n.$ui.layers.gridLine(),container:this.$grid_data,filter:[function(){return o.isVisible()}]},{renderer:n.$ui.layers.gridTaskRowResizer(),container:this.$grid_data,append:!0,filter:[function(){return n.config.resize_rows}]}]},_addLayers:function(n){if(this.$config.bind){this._taskLayers=[];var o=this,a=this.$gantt.$services.getService("layers"),l=a.getDataRender(this.$config.bind);l||(l=a.createDataRender({name:this.$config.bind,defaultContainer:function(){return o.$grid_data}}));for(var d=this.$config.layers,f=0;d&&f<d.length;f++){var g=d[f];g.view=this;var p=l.addLayer(g);this._taskLayers.push(p)}this._bindStore(),this._initSmartRenderingPlaceholder()}},_refreshPlaceholderOnStoreUpdate:function(n){var o=this.$getConfig(),a=this.$config.rowStore;if(a&&n===null&&this.isVisible()&&o.smart_rendering){var l;if(this.$config.scrollY){var d=this.$gantt.$ui.getView(this.$config.scrollY);d&&(l=d.getScrollState().scrollSize)}if(l||(l=a?this.getTotalHeight():0),l){this.$rowsPlaceholder&&this.$rowsPlaceholder.parentNode&&this.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);var f=this.$rowsPlaceholder=document.createElement("div");f.style.visibility="hidden",f.style.height=l+"px",f.style.width="1px",this.$grid_data.appendChild(f)}}},_initSmartRenderingPlaceholder:function(){var n=this.$config.rowStore;n&&(this._initSmartRenderingPlaceholder=function(){},this._staticBgHandler=n.attachEvent("onStoreUpdated",u.bind(this._refreshPlaceholderOnStoreUpdate,this)))},_initEvents:function(){var n=this.$gantt;this._mouseDelegates.delegate("click","gantt_close",n.bind(function(o,a,l){var d=this.$config.rowStore;if(!d)return!0;var f=_.locateAttribute(o,this.$config.item_attribute);return f&&d.close(f.getAttribute(this.$config.item_attribute)),!1},this),this.$grid),this._mouseDelegates.delegate("click","gantt_open",n.bind(function(o,a,l){var d=this.$config.rowStore;if(!d)return!0;var f=_.locateAttribute(o,this.$config.item_attribute);return f&&d.open(f.getAttribute(this.$config.item_attribute)),!1},this),this.$grid)},_clearLayers:function(n){var o=this.$gantt.$services.getService("layers").getDataRender(this.$config.bind);if(this._taskLayers)for(var a=0;a<this._taskLayers.length;a++)o.removeLayer(this._taskLayers[a]);this._taskLayers=[]},_getColumnWidth:function(n,o,a){var l=n.min_width||o.min_grid_column_width,d=Math.max(a,l||10);return n.max_width&&(d=Math.min(d,n.max_width)),d},_checkGridColumnMinWidthLimits:function(n,o){for(var a=0,l=n.length;a<l;a++){var d=1*n[a].width;!n[a].min_width&&d<o.min_grid_column_width&&(n[a].min_width=d)}},_getGridWidthLimits:function(){for(var n=this.$getConfig(),o=this.getGridColumns(),a=0,l=0,d=0;d<o.length;d++)a+=o[d].min_width?o[d].min_width:n.min_grid_column_width,l!==void 0&&(l=o[d].max_width?l+o[d].max_width:void 0);return this._checkGridColumnMinWidthLimits(o,n),[a,l]},_setColumnsWidth:function(n,o){var a=this.$getConfig(),l=this.getGridColumns(),d=0,f=n;o=window.isNaN(o)?-1:o;for(var g=0,p=l.length;g<p;g++)d+=1*l[g].width;if(window.isNaN(d))for(this._calculateGridWidth(),d=0,g=0,p=l.length;g<p;g++)d+=1*l[g].width;var v=f-d,y=0;for(g=0;g<o+1;g++)y+=l[g].width;for(d-=y,g=o+1;g<l.length;g++){var m=l[g],b=Math.round(v*(m.width/d));v<0?m.min_width&&m.width+b<m.min_width?b=m.min_width-m.width:!m.min_width&&a.min_grid_column_width&&m.width+b<a.min_grid_column_width&&(b=a.min_grid_column_width-m.width):m.max_width&&m.width+b>m.max_width&&(b=m.max_width-m.width),d-=m.width,m.width+=b,v-=b}for(var k=v>0?1:-1;v>0&&k===1||v<0&&k===-1;){var $=v;for(g=o+1;g<l.length;g++){var x;if((x=l[g].width+k)==this._getColumnWidth(l[g],a,x)&&(v-=k,l[g].width=x),!v)break}if($==v)break}return v&&o>-1&&(x=l[o].width+v)==this._getColumnWidth(l[o],a,x)&&(l[o].width=x),this._getColsTotalWidth()},_getColsTotalWidth:function(){for(var n=this.getGridColumns(),o=0,a=0;a<n.length;a++){var l=parseFloat(n[a].width);if(window.isNaN(l))return!1;o+=l}return o},_calculateGridWidth:function(){for(var n=this.$getConfig(),o=this.getGridColumns(),a=0,l=[],d=[],f=0;f<o.length;f++){var g=parseFloat(o[f].width);window.isNaN(g)&&(g=n.min_grid_column_width||10,l.push(f)),d[f]=g,a+=g}var p=this._getGridWidth()+1;if(n.autofit||l.length){var v=p-a;if(n.autofit&&!n.grid_elastic_columns)for(f=0;f<d.length;f++){var y=Math.round(v/(d.length-f));d[f]+=y,(m=this._getColumnWidth(o[f],n,d[f]))!=d[f]&&(y=m-d[f],d[f]=m),v-=y}else if(l.length)for(f=0;f<l.length;f++){y=Math.round(v/(l.length-f));var m,b=l[f];d[b]+=y,(m=this._getColumnWidth(o[b],n,d[b]))!=d[b]&&(y=m-d[b],d[b]=m),v-=y}for(f=0;f<d.length;f++)o[f].width=d[f]}else{var k=p!=a;this.$config.width=a-1,n.grid_width=a,k&&this.$parent._setContentSize(this.$config.width,null)}},_renderGridHeader:function(){var n=this.$gantt,o=this.$getConfig(),a=this.$gantt.locale,l=this.$gantt.templates,d=this.getGridColumns();o.rtl&&(d=d.reverse());for(var f=[],g=0,p=a.labels,v=o.scale_height-1,y=0;y<d.length;y++){var m=y==d.length-1,b=d[y];b.name||(b.name=n.uid()+"");var k=1*b.width,$=this._getGridWidth();m&&$>g+k&&(b.width=k=$-g),g+=k;var x=n._sort&&b.name==n._sort.name?"<div class='gantt_sort gantt_"+n._sort.direction+"'></div>":"",w=["gantt_grid_head_cell","gantt_grid_head_"+b.name,m?"gantt_last_cell":"",l.grid_header_class(b.name,b)].join(" "),T="width:"+(k-(m?1:0))+"px;",A=b.label||p["column_"+b.name]||p[b.name];A=A||"";var I="<div class='"+w+"' style='"+T+"' "+n._waiAria.gridScaleCellAttrString(b,A)+" data-column-id='"+b.name+"' column_id='"+b.name+"' data-column-name='"+b.name+"' data-column-index='"+y+"'>"+A+x+"</div>";f.push(I)}this.$grid_scale.style.height=o.scale_height+"px",this.$grid_scale.style.lineHeight=v+"px",this.$grid_scale.innerHTML=f.join(""),this._renderHeaderResizers&&this._renderHeaderResizers()},_getGridWidth:function(){return this.$config.width},destructor:function(){this._clearLayers(this.$gantt),this._mouseDelegates&&(this._mouseDelegates.destructor(),this._mouseDelegates=null),this._unbindStore(),this.$grid=null,this.$grid_scale=null,this.$grid_data=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},D.exports=t},function(D,E,h){var _=h(0);D.exports=function(u){var s=u.date,c=u.$services;return{getSum:function(i,r,e){e===void 0&&(e=i.length-1),r===void 0&&(r=0);for(var t=0,n=r;n<=e;n++)t+=i[n];return t},setSumWidth:function(i,r,e,t){var n=r.width;t===void 0&&(t=n.length-1),e===void 0&&(e=0);var o=t-e+1;if(!(e>n.length-1||o<=0||t>n.length-1)){var a=i-this.getSum(n,e,t);this.adjustSize(a,n,e,t),this.adjustSize(-a,n,t+1),r.full_width=this.getSum(n)}},splitSize:function(i,r){for(var e=[],t=0;t<r;t++)e[t]=0;return this.adjustSize(i,e),e},adjustSize:function(i,r,e,t){e||(e=0),t===void 0&&(t=r.length-1);for(var n=t-e+1,o=this.getSum(r,e,t),a=e;a<=t;a++){var l=Math.floor(i*(o?r[a]/o:1/n));o-=r[a],i-=l,n--,r[a]+=l}r[r.length-1]+=i},sortScales:function(i){function r(t,n){var o=new Date(1970,0,1);return s.add(o,n,t)-o}i.sort(function(t,n){return r(t.unit,t.step)<r(n.unit,n.step)?1:r(t.unit,t.step)>r(n.unit,n.step)?-1:0});for(var e=0;e<i.length;e++)i[e].index=e},_isLegacyMode:function(i){var r=i||u.config;return r.scale_unit||r.date_scale||r.subscales},_prepareScaleObject:function(i){var r=i.format;return r||(r=i.template||i.date||"%d %M"),typeof r=="string"&&(r=u.date.date_to_str(r)),{unit:i.unit||"day",step:i.step||1,format:r,css:i.css}},primaryScale:function(i){var r,e=c.getService("templateLoader"),t=this._isLegacyMode(i),n=i||u.config;if(t)e.initTemplate("date_scale",void 0,void 0,n,u.config.templates),r={unit:u.config.scale_unit,step:u.config.step,template:u.templates.date_scale,date:u.config.date_scale,css:u.templates.scale_cell_class};else{var o=n.scales[0];r={unit:o.unit,step:o.step,template:o.template,format:o.format,date:o.date,css:o.css||u.templates.scale_cell_class}}return this._prepareScaleObject(r)},getSubScales:function(i){var r=this._isLegacyMode(i),e=i||u.config;return(r?e.subscales||[]:e.scales.slice(1)).map(function(t){return this._prepareScaleObject(t)}.bind(this))},prepareConfigs:function(i,r,e,t,n,o,a){for(var l=this.splitSize(t,i.length),d=e,f=[],g=i.length-1;g>=0;g--){var p=g==i.length-1,v=this.initScaleConfig(i[g],n,o);p&&this.processIgnores(v),this.initColSizes(v,r,d,l[g]),this.limitVisibleRange(v),p&&(d=v.full_width),f.unshift(v)}for(g=0;g<f.length-1;g++)this.alineScaleColumns(f[f.length-1],f[g]);for(g=0;g<f.length;g++)a&&this.reverseScale(f[g]),this.setPosSettings(f[g]);return f},reverseScale:function(i){i.width=i.width.reverse(),i.trace_x=i.trace_x.reverse();var r=i.trace_indexes;i.trace_indexes={},i.trace_index_transition={},i.rtl=!0;for(var e=0;e<i.trace_x.length;e++)i.trace_indexes[i.trace_x[e].valueOf()]=e,i.trace_index_transition[r[i.trace_x[e].valueOf()]]=e;return i},setPosSettings:function(i){for(var r=0,e=i.trace_x.length;r<e;r++)i.left.push((i.width[r-1]||0)+(i.left[r-1]||0))},_ignore_time_config:function(i,r){if(u.config.skip_off_time){for(var e=!0,t=i,n=0;n<r.step;n++)n&&(t=s.add(i,n,r.unit)),e=e&&!this.isWorkTime(t,r.unit);return e}return!1},processIgnores:function(i){i.ignore_x={},i.display_count=i.count},initColSizes:function(i,r,e,t){var n=e;i.height=t;var o=i.display_count===void 0?i.count:i.display_count;o||(o=1),i.col_width=Math.floor(n/o),r&&i.col_width<r&&(i.col_width=r,n=i.col_width*o),i.width=[];for(var a=i.ignore_x||{},l=0;l<i.trace_x.length;l++)if(a[i.trace_x[l].valueOf()]||i.display_count==i.count)i.width[l]=0;else{var d=1;i.unit=="month"&&(d=Math.round((s.add(i.trace_x[l],i.step,i.unit)-i.trace_x[l])/864e5)),i.width[l]=d}this.adjustSize(n-this.getSum(i.width),i.width),i.full_width=this.getSum(i.width)},initScaleConfig:function(i,r,e){var t=_.mixin({count:0,col_width:0,full_width:0,height:0,width:[],left:[],trace_x:[],trace_indexes:{},min_date:new Date(r),max_date:new Date(e)},i);return this.eachColumn(i.unit,i.step,r,e,function(n){t.count++,t.trace_x.push(new Date(n)),t.trace_indexes[n.valueOf()]=t.trace_x.length-1}),t.trace_x_ascending=t.trace_x.slice(),t},iterateScales:function(i,r,e,t,n){for(var o=r.trace_x,a=i.trace_x,l=e||0,d=t||a.length-1,f=0,g=1;g<o.length;g++){var p=i.trace_indexes[+o[g]];p!==void 0&&p<=d&&(n&&n.apply(this,[f,g,l,p]),l=p,f=g)}},alineScaleColumns:function(i,r,e,t){this.iterateScales(i,r,e,t,function(n,o,a,l){var d=this.getSum(i.width,a,l-1);this.getSum(r.width,n,o-1)!=d&&this.setSumWidth(d,r,n,o-1)})},eachColumn:function(i,r,e,t,n){var o=new Date(e),a=new Date(t);s[i+"_start"]&&(o=s[i+"_start"](o));var l=new Date(o);for(+l>=+a&&(a=s.add(l,r,i));+l<+a;){n.call(this,new Date(l));var d=l.getTimezoneOffset();l=s.add(l,r,i),l=u._correct_dst_change(l,d,r,i),s[i+"_start"]&&(l=s[i+"_start"](l))}},limitVisibleRange:function(i){var r=i.trace_x,e=i.width.length-1,t=0;if(+r[0]<+i.min_date&&e!=0){var n=Math.floor(i.width[0]*((r[1]-i.min_date)/(r[1]-r[0])));t+=i.width[0]-n,i.width[0]=n,r[0]=new Date(i.min_date)}var o=r.length-1,a=r[o],l=s.add(a,i.step,i.unit);if(+l>+i.max_date&&o>0&&(n=i.width[o]-Math.floor(i.width[o]*((l-i.max_date)/(l-a))),t+=i.width[o]-n,i.width[o]=n),t){for(var d=this.getSum(i.width),f=0,g=0;g<i.width.length;g++){var p=Math.floor(t*(i.width[g]/d));i.width[g]+=p,f+=p}this.adjustSize(t-f,i.width)}}}}},,function(D,E,h){},function(D,E,h){var _=h(2),u={getHtmlSelect:function(i,r,e){var t="",n=this;return i=i||[],_.forEach(i,function(o){var a=[{key:"value",value:o.key}];e==o.key&&(a[a.length]={key:"selected",value:"selected"}),o.attributes&&(a=a.concat(o.attributes)),t+=n.getHtmlOption({innerHTML:o.label},a)}),s("select",{innerHTML:t},r)},getHtmlOption:function(i,r){return s("option",i,r)},getHtmlButton:function(i,r){return s("button",i,r)},getHtmlDiv:function(i,r){return s("div",i,r)},getHtmlLabel:function(i,r){return s("label",i,r)},getHtmlInput:function(i){return"<input"+c(i||[])+">"}};function s(i,r,e){return r=r||[],"<"+i+c(e||[])+">"+(r.innerHTML||"")+"</"+i+">"}function c(i){var r="";return _.forEach(i,function(e){r+=" "+e.key+"='"+e.value+"'"}),r}D.exports=u},function(D,E,h){var _=h(2);D.exports=function(u){var s={};return u.$data.tasksStore.attachEvent("onStoreUpdated",function(){s={}}),function(c,i,r,e){var t=c.id+"_"+i+"_"+r.unit+"_"+r.step;return s[t]?s[t]:s[t]=function(n,o,a,l){var d,f=!1,g={};u.config.process_resource_assignments&&o===u.config.resource_property?(d=n.$role=="task"?u.getResourceAssignments(n.$resource_id,n.$task_id):u.getResourceAssignments(n.id),f=!0):d=n.$role=="task"?[]:u.getTaskBy(o,n.id);for(var p,v,y,m,b,g=function(I,N,j){for(var B=N.unit,z=N.step,K={},J={},R=0;R<I.length;R++){var P=I[R],G=P;j&&(G=u.getTask(P.task_id));var O=P.start_date||G.start_date,Y=P.end_date||G.end_date;j&&(P.start_date&&(O=new Date(Math.max(P.start_date.valueOf(),G.start_date.valueOf()))),P.end_date&&(Y=new Date(Math.min(P.end_date.valueOf(),G.end_date.valueOf()))));var q=_.findBinary(N.trace_x,O.valueOf()),U=new Date(N.trace_x[q]||u.date[B+"_start"](new Date(O))),L=u.config.work_time?u.getTaskCalendar(G):u;for(J[L.id]={};U<Y;){var S=J[L.id],C=U,M=C.valueOf();if(U=u.date.add(U,z,B),S[M]!==!1){var H=L.isWorkTime({date:C,task:G,unit:B});H?(K[M]||(K[M]={tasks:[],assignments:[]}),K[M].tasks.push(G),j&&K[M].assignments.push(P)):S[M]=!1}}}return K}(d,a,f),k=a.unit,$=a.step,x=[],w=l.$getConfig(),T=0;T<a.trace_x.length;T++)p=new Date(a.trace_x[T]),v=u.date.add(p,$,k),b=g[p.valueOf()]||{},y=b.tasks||[],m=b.assignments||[],y.length||w.resource_render_empty_cells?x.push({start_date:p,end_date:v,tasks:y,assignments:m}):x.push(null);return x}(c,i,r,e)}}},function(D,E,h){var _=h(3),u=h(1),s=function(c){function i(r,e,t){var n=c.apply(this,arguments)||this;return r&&(n.$root=!0),n._parseConfig(e),n.$name="layout",n}return _(i,c),i.prototype.destructor=function(){this.$container&&this.$view&&u.removeNode(this.$view);for(var r=0;r<this.$cells.length;r++)this.$cells[r].destructor();this.$cells=[],c.prototype.destructor.call(this)},i.prototype._resizeScrollbars=function(r,e){var t,n=!1,o=[],a=[],l=[];function d(y){y.$parent.show(),n=!0,o.push(y)}function f(y){y.$parent.hide(),n=!0,a.push(y)}for(var g=0;g<e.length;g++)r[(t=e[g]).$config.scroll]?f(t):t.shouldHide()?l.push(t):t.shouldShow()?d(t):t.isVisible()?o.push(t):a.push(t);var p={};for(g=0;g<o.length;g++)o[g].$config.group&&(p[o[g].$config.group]=!0);for(l.forEach(function(y){y.$config.group&&p[y.$config.group]||f(y)}),g=0;g<a.length;g++)if((t=a[g]).$config.group&&p[t.$config.group]){d(t);for(var v=0;v<o.length;v++)if(o[v]==t){this.$gantt.$scrollbarRepaint=!0;break}}return n},i.prototype._syncCellSizes=function(r,e){if(r){var t={};return this._eachChild(function(n){n.$config.group&&n.$name!="scrollbar"&&n.$name!="resizer"&&(t[n.$config.group]||(t[n.$config.group]=[]),t[n.$config.group].push(n))}),t[r]&&this._syncGroupSize(t[r],e),t[r]}},i.prototype._syncGroupSize=function(r,e){if(r.length)for(var t=r[0].$parent._xLayout?"width":"height",n=r[0].$parent.getNextSibling(r[0].$id)?1:-1,o=e.value,a=e.isGravity,l=0;l<r.length;l++){var d=r[l].getSize(),f=n>0?r[l].$parent.getNextSibling(r[l].$id):r[l].$parent.getPrevSibling(r[l].$id);f.$name=="resizer"&&(f=n>0?f.$parent.getNextSibling(f.$id):f.$parent.getPrevSibling(f.$id));var g=f.getSize();if(a)r[l].$config.gravity=o;else if(f[t]){var p=d.gravity+g.gravity,v=d[t]+g[t],y=p/v;r[l].$config.gravity=y*o,f.$config[t]=v-o,f.$config.gravity=p-y*o}else r[l].$config[t]=o;var m=this.$gantt.$ui.getView("grid");!m||r[l].$content!==m||m.$config.scrollable||a||(this.$gantt.config.grid_width=o)}},i.prototype.resize=function(r){var e=!1;if(this.$root&&!this._resizeInProgress&&(this.callEvent("onBeforeResize",[]),e=!0,this._resizeInProgress=!0),c.prototype.resize.call(this,!0),c.prototype.resize.call(this,!1),e){var t=[];t=(t=(t=t.concat(this.getCellsByType("viewCell"))).concat(this.getCellsByType("viewLayout"))).concat(this.getCellsByType("hostCell"));for(var n=this.getCellsByType("scroller"),o=0;o<t.length;o++)t[o].$config.hidden||t[o].setContentSize();var a=this._getAutosizeMode(this.$config.autosize),l=this._resizeScrollbars(a,n);if(this.$config.autosize&&(this.autosize(this.$config.autosize),t.forEach(function(d){var f=d.$parent,g=f.getContentSize(a);a.x&&(f.$config.$originalWidthStored||(f.$config.$originalWidthStored=!0,f.$config.$originalWidth=f.$config.width),f.$config.width=g.width),a.y&&(f.$config.$originalHeightStored||(f.$config.$originalHeightStored=!0,f.$config.$originalHeight=f.$config.height),f.$config.height=g.height)}),l=!0),l)for(this.resize(),o=0;o<t.length;o++)t[o].$config.hidden||t[o].setContentSize();this.callEvent("onResize",[])}e&&(this._resizeInProgress=!1)},i.prototype._eachChild=function(r,e){if(r(e=e||this),e.$cells)for(var t=0;t<e.$cells.length;t++)this._eachChild(r,e.$cells[t])},i.prototype.isChild=function(r){var e=!1;return this._eachChild(function(t){t!==r&&t.$content!==r||(e=!0)}),e},i.prototype.getCellsByType=function(r){var e=[];if(r===this.$name&&e.push(this),this.$content&&this.$content.$name==r&&e.push(this.$content),this.$cells)for(var t=0;t<this.$cells.length;t++){var n=i.prototype.getCellsByType.call(this.$cells[t],r);n.length&&e.push.apply(e,n)}return e},i.prototype.getNextSibling=function(r){var e=this.cellIndex(r);return e>=0&&this.$cells[e+1]?this.$cells[e+1]:null},i.prototype.getPrevSibling=function(r){var e=this.cellIndex(r);return e>=0&&this.$cells[e-1]?this.$cells[e-1]:null},i.prototype.cell=function(r){for(var e=0;e<this.$cells.length;e++){var t=this.$cells[e];if(t.$id===r)return t;var n=t.cell(r);if(n)return n}},i.prototype.cellIndex=function(r){for(var e=0;e<this.$cells.length;e++)if(this.$cells[e].$id===r)return e;return-1},i.prototype.moveView=function(r,e){if(this.$cells[e]!==r)return window.alert("Not implemented");e+=this.$config.header?1:0;var t=this.$view;e>=t.childNodes.length?t.appendChild(r.$view):t.insertBefore(r.$view,t.childNodes[e])},i.prototype._parseConfig=function(r){this.$cells=[],this._xLayout=!r.rows;for(var e=r.rows||r.cols||r.views,t=0;t<e.length;t++){var n=e[t];n.mode=this._xLayout?"x":"y";var o=this.$factory.initUI(n,this);o?(o.$parent=this,this.$cells.push(o)):(e.splice(t,1),t--)}},i.prototype.getCells=function(){return this.$cells},i.prototype.render=function(){var r=u.insertNode(this.$container,this.$toHTML());this.$fill(r,null),this.callEvent("onReady",[]),this.resize(),this.render=this.resize},i.prototype.$fill=function(r,e){this.$view=r,this.$parent=e;for(var t=u.getChildNodes(r,"gantt_layout_cell"),n=t.length-1;n>=0;n--){var o=this.$cells[n];o.$fill(t[n],this),o.$config.hidden&&o.$view.parentNode.removeChild(o.$view)}},i.prototype.$toHTML=function(){for(var r=this._xLayout?"x":"y",e=[],t=0;t<this.$cells.length;t++)e.push(this.$cells[t].$toHTML());return c.prototype.$toHTML.call(this,e.join(""),(this.$root?"gantt_layout_root ":"")+"gantt_layout gantt_layout_"+r)},i.prototype.getContentSize=function(r){for(var e,t,n,o=0,a=0,l=0;l<this.$cells.length;l++)(t=this.$cells[l]).$config.hidden||(e=t.getContentSize(r),t.$config.view==="scrollbar"&&r[t.$config.scroll]&&(e.height=0,e.width=0),t.$config.resizer&&(this._xLayout?e.height=0:e.width=0),n=t._getBorderSizes(),this._xLayout?(o+=e.width+n.horizontal,a=Math.max(a,e.height+n.vertical)):(o=Math.max(o,e.width+n.horizontal),a+=e.height+n.vertical));return{width:o+=(n=this._getBorderSizes()).horizontal,height:a+=n.vertical}},i.prototype._cleanElSize=function(r){return 1*(r||"").toString().replace("px","")||0},i.prototype._getBoxStyles=function(r){var e=null,t=["width","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],n={boxSizing:(e=window.getComputedStyle?window.getComputedStyle(r,null):{width:r.clientWidth,height:r.clientHeight}).boxSizing=="border-box"};e.MozBoxSizing&&(n.boxSizing=e.MozBoxSizing=="border-box");for(var o=0;o<t.length;o++)n[t[o]]=e[t[o]]?this._cleanElSize(e[t[o]]):0;var a={horPaddings:n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth,vertPaddings:n.paddingTop+n.paddingBottom+n.borderTopWidth+n.borderBottomWidth,borderBox:n.boxSizing,innerWidth:n.width,innerHeight:n.height,outerWidth:n.width,outerHeight:n.height};return a.borderBox?(a.innerWidth-=a.horPaddings,a.innerHeight-=a.vertPaddings):(a.outerWidth+=a.horPaddings,a.outerHeight+=a.vertPaddings),a},i.prototype._getAutosizeMode=function(r){var e={x:!1,y:!1};return r==="xy"?e.x=e.y=!0:r==="y"||r===!0?e.y=!0:r==="x"&&(e.x=!0),e},i.prototype.autosize=function(r){var e=this._getAutosizeMode(r),t=this._getBoxStyles(this.$container),n=this.getContentSize(r),o=this.$container;e.x&&(t.borderBox&&(n.width+=t.horPaddings),o.style.width=n.width+"px"),e.y&&(t.borderBox&&(n.height+=t.vertPaddings),o.style.height=n.height+"px")},i.prototype.getSize=function(){this._sizes=[];for(var r=0,e=0,t=1e11,n=0,o=1e11,a=0,l=0;l<this.$cells.length;l++){var d=this._sizes[l]=this.$cells[l].getSize();this.$cells[l].$config.hidden||(this._xLayout?(!d.width&&d.minWidth?r+=d.minWidth:r+=d.width,t+=d.maxWidth,e+=d.minWidth,n=Math.max(n,d.height),o=Math.min(o,d.maxHeight),a=Math.max(a,d.minHeight)):(!d.height&&d.minHeight?n+=d.minHeight:n+=d.height,o+=d.maxHeight,a+=d.minHeight,r=Math.max(r,d.width),t=Math.min(t,d.maxWidth),e=Math.max(e,d.minWidth)))}var f=c.prototype.getSize.call(this);return f.maxWidth>=1e5&&(f.maxWidth=t),f.maxHeight>=1e5&&(f.maxHeight=o),f.minWidth=f.minWidth!=f.minWidth?0:f.minWidth,f.minHeight=f.minHeight!=f.minHeight?0:f.minHeight,this._xLayout?(f.minWidth+=this.$config.margin*this.$cells.length||0,f.minWidth+=2*this.$config.padding||0,f.minHeight+=2*this.$config.padding||0):(f.minHeight+=this.$config.margin*this.$cells.length||0,f.minHeight+=2*this.$config.padding||0),f},i.prototype._calcFreeSpace=function(r,e,t){var n=t?e.minWidth:e.minHeight,o=e.maxWidth,a=r;return a?(a>o&&(a=o),a<n&&(a=n),this._free-=a):((a=Math.floor(this._free/this._gravity*e.gravity))>o&&(a=o,this._free-=a,this._gravity-=e.gravity),a<n&&(a=n,this._free-=a,this._gravity-=e.gravity)),a},i.prototype._calcSize=function(r,e,t){var n=r,o=t?e.minWidth:e.minHeight,a=t?e.maxWidth:e.maxHeight;return n||(n=Math.floor(this._free/this._gravity*e.gravity)),n>a&&(n=a),n<o&&(n=o),n},i.prototype._configureBorders=function(){this.$root&&this._setBorders([this._borders.left,this._borders.top,this._borders.right,this._borders.bottom],this);for(var r=this._xLayout?this._borders.right:this._borders.bottom,e=this.$cells,t=e.length-1,n=t;n>=0;n--)if(!e[n].$config.hidden){t=n;break}for(n=0;n<e.length;n++)if(!e[n].$config.hidden){var o=n>=t,a="";!o&&e[n+1]&&e[n+1].$config.view=="scrollbar"&&(this._xLayout?o=!0:a="gantt_layout_cell_border_transparent"),this._setBorders(o?[]:[r,a],e[n])}},i.prototype._updateCellVisibility=function(){for(var r=this._visibleCells||{},e=!this._visibleCells,t={},n=null,o=[],a=0;a<this._sizes.length;a++)(n=this.$cells[a]).$config.hide_empty&&o.push(n),!e&&n.$config.hidden&&r[n.$id]?n._hide(!0):n.$config.hidden||r[n.$id]||n._hide(!1),n.$config.hidden||(t[n.$id]=!0);for(this._visibleCells=t,a=0;a<o.length;a++){var l=!0;(n=o[a]).$cells.forEach(function(d){d.$config.hidden||d.$config.resizer||(l=!1)}),n.$config.hidden=l}},i.prototype.setSize=function(r,e){this._configureBorders(),c.prototype.setSize.call(this,r,e),e=this.$lastSize.contentY,r=this.$lastSize.contentX;var t,n,o=this.$config.padding||0;this.$view.style.padding=o+"px",this._gravity=0,this._free=this._xLayout?r:e,this._free-=2*o,this._updateCellVisibility();for(var a=0;a<this._sizes.length;a++)if(!(t=this.$cells[a]).$config.hidden){var l=this.$config.margin||0;t.$name!="resizer"||l||(l=-1);var d=t.$view,f=this._xLayout?"marginRight":"marginBottom";a!==this.$cells.length-1&&(d.style[f]=l+"px",this._free-=l),n=this._sizes[a],this._xLayout?n.width||(this._gravity+=n.gravity):n.height||(this._gravity+=n.gravity)}for(a=0;a<this._sizes.length;a++)if(!(t=this.$cells[a]).$config.hidden){var g=(n=this._sizes[a]).width,p=n.height;this._xLayout?this._calcFreeSpace(g,n,!0):this._calcFreeSpace(p,n,!1)}for(a=0;a<this.$cells.length;a++)if(!(t=this.$cells[a]).$config.hidden){n=this._sizes[a];var v=void 0,y=void 0;this._xLayout?(v=this._calcSize(n.width,n,!0),y=e-2*o):(v=r-2*o,y=this._calcSize(n.height,n,!1)),t.setSize(v,y)}},i}(h(14));D.exports=s},function(D,E){D.exports=function(h,_,u,s,c){var i=u.$gantt.getTask(h.source),r=u.$gantt.getTask(h.target),e=u.getItemTop(i.id),t=u.getItemHeight(i.id),n=u.getItemTop(r.id),o=u.getItemHeight(r.id);if(_.y>e+t&&_.y>n+o||_.y_end<n&&_.y_end<e)return!1;var a=u.posFromDate(i.start_date),l=u.posFromDate(i.end_date),d=u.posFromDate(r.start_date),f=u.posFromDate(r.end_date);if(a>l){var g=l;l=a,a=g}return d>f&&(g=f,f=d,d=g),a+=-100,l+=100,d+=-100,f+=100,!(_.x>l&&_.x>f)&&!(_.x_end<a&&_.x_end<d)}},function(D,E,h){var _=h(134);D.exports=function(){var u=[],s=!1;function c(){u=[],s=!1}var i=!1;return function(r,e,t,n,o){(function(g){i||(i=!0,g.attachEvent("onPreFilter",c),g.attachEvent("onStoreUpdated",c),g.attachEvent("onClearAll",c),g.attachEvent("onBeforeStoreUpdate",c))})(n),s||function(g,p,v){var y=p.$getConfig();g.getVisibleItems().forEach(function(m){var b=_(m,p,y,v);b&&u.push({id:m.id,rec:b})}),u.sort(function(m,b){return m.rec.right<b.rec.right?-1:1}),s=!0}(n,e,r);for(var a=[],l=0;l<u.length;l++){var d=u[l],f=d.rec;f.right<o.x||f.left<o.x_end&&f.right>o.x&&f.top<o.y_end&&f.bottom>o.y&&a.push(d.id)}return{ids:a}}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(196),u=h(195),s=h(194);E.LargerUnitsCache=s.LargerUnitsCache,E.createCacheObject=function(){return typeof Map<"u"?new _.WorkUnitsMapCache:new u.WorkUnitsObjectCache}},function(D,E,h){var _=h(0),u=h(2);function s(e,t,n,o,a){return this.date=e,this.unit=t,this.task=n,this.id=o,this.calendar=a,this}function c(e,t,n,o,a,l){return this.date=e,this.dir=t,this.unit=n,this.task=o,this.id=a,this.calendar=l,this}function i(e,t,n,o,a,l,d){return this.start_date=e,this.duration=t,this.unit=n,this.step=o,this.task=a,this.id=l,this.calendar=d,this}function r(e,t,n,o){return this.start_date=e,this.end_date=t,this.task=n,this.calendar=o,this.unit=null,this.step=null,this}D.exports=function(e){return{getWorkHoursArguments:function(){var t=arguments[0];if(t=u.isDate(t)?{date:t}:_.mixin({},t),!u.isValidDate(t.date))throw e.assert(!1,"Invalid date argument for getWorkHours method"),new Error("Invalid date argument for getWorkHours method");return t},setWorkTimeArguments:function(){return arguments[0]},unsetWorkTimeArguments:function(){return arguments[0]},isWorkTimeArguments:function(){var t,n=arguments[0];if(n instanceof s)return n;if((t=n.date?new s(n.date,n.unit,n.task,null,n.calendar):new s(arguments[0],arguments[1],arguments[2],null,arguments[3])).unit=t.unit||e.config.duration_unit,!u.isValidDate(t.date))throw e.assert(!1,"Invalid date argument for isWorkTime method"),new Error("Invalid date argument for isWorkTime method");return t},getClosestWorkTimeArguments:function(t){var n,o=arguments[0];if(o instanceof c)return o;if(n=u.isDate(o)?new c(o):new c(o.date,o.dir,o.unit,o.task,null,o.calendar),o.id&&(n.task=o),n.dir=o.dir||"any",n.unit=o.unit||e.config.duration_unit,!u.isValidDate(n.date))throw e.assert(!1,"Invalid date argument for getClosestWorkTime method"),new Error("Invalid date argument for getClosestWorkTime method");return n},_getStartEndConfig:function(t){var n,o=r;if(t instanceof o)return t;if(u.isDate(t)?n=new o(arguments[0],arguments[1],arguments[2],arguments[3]):(n=new o(t.start_date,t.end_date,t.task),t.id!==null&&t.id!==void 0&&(n.task=t)),n.unit=n.unit||e.config.duration_unit,n.step=n.step||e.config.duration_step,n.start_date=n.start_date||n.start||n.date,!u.isValidDate(n.start_date))throw e.assert(!1,"Invalid start_date argument for getDuration method"),new Error("Invalid start_date argument for getDuration method");if(!u.isValidDate(n.end_date))throw e.assert(!1,"Invalid end_date argument for getDuration method"),new Error("Invalid end_date argument for getDuration method");return n},getDurationArguments:function(t,n,o,a){return this._getStartEndConfig.apply(this,arguments)},hasDurationArguments:function(t,n,o,a){return this._getStartEndConfig.apply(this,arguments)},calculateEndDateArguments:function(t,n,o,a){var l,d=arguments[0];if(d instanceof i)return d;if(l=u.isDate(d)?new i(arguments[0],arguments[1],arguments[2],void 0,arguments[3],void 0,arguments[4]):new i(d.start_date,d.duration,d.unit,d.step,d.task,null,d.calendar),d.id!==null&&d.id!==void 0&&(l.task=d,l.unit=null,l.step=null),l.unit=l.unit||e.config.duration_unit,l.step=l.step||e.config.duration_step,!u.isValidDate(l.start_date))throw e.assert(!1,"Invalid start_date argument for calculateEndDate method"),new Error("Invalid start_date argument for calculateEndDate method");return l}}}},function(D,E,h){var _=h(208);D.exports=function(u){var s={},c={},i=null,r=-1,e=null,t=_(u);return{_resetTopPositionHeight:function(){s={},c={},t.resetCache()},_resetHeight:function(){var n=this.$config.rowStore,o=this.getCacheStateTotalHeight(n);e?this.shouldClearHeightCache(e,o)&&(e=o,i=null):e=o,r=-1,t.resetCache()},getRowTop:function(n){if(t.canUseSimpleCalculation())return t.getRowTop(n);var o=this.$config.rowStore;if(!o)return 0;if(c[n]!==void 0)return c[n];for(var a=o.getIndexRange(),l=0,d=0,f=0;f<a.length;f++)c[f]=l,l+=this.getItemHeight(a[f].id),f<n&&(d=l);return d},getItemTop:function(n){if(this.$config.rowStore){if(s[n]!==void 0)return s[n];var o=this.$config.rowStore;if(!o)return 0;var a=o.getIndexById(n);if(a===-1&&o.getParent&&o.exists(n)){var l=o.getParent(n);if(o.exists(l)){var d=o.getItem(l);if(this.$gantt.isSplitTask(d))return this.getItemTop(l)}}return s[n]=this.getRowTop(a),s[n]}return 0},getItemHeight:function(n){if(t.canUseSimpleCalculation())return t.getItemHeight(n);if(!i&&this.$config.rowStore&&this._fillHeightCache(this.$config.rowStore),i[n]!==void 0)return i[n];var o=this.$getConfig().row_height;if(this.$config.rowStore){var a=this.$config.rowStore;if(!a)return o;var l=a.getItem(n);return i[n]=l&&l.row_height||o}return o},_fillHeightCache:function(n){if(n){i={};var o=this.$getConfig().row_height;n.eachItem(function(a){return i[a.id]=a&&a.row_height||o})}},getCacheStateTotalHeight:function(n){var o=this.$getConfig().row_height,a={},l=[],d=0;return n&&n.eachItem(function(f){l.push(f),a[f.id]=f.row_height,d+=f.row_height||o}),{globalHeight:o,items:l,count:l.length,sumHeight:d}},shouldClearHeightCache:function(n,o){if(n.count!=o.count||n.globalHeight!=o.globalHeight||n.sumHeight!=o.sumHeight)return!0;for(var a in n.items){var l=o.items[a];if(l!==void 0&&l!=n.items[a])return!0}return!1},getTotalHeight:function(){if(t.canUseSimpleCalculation())return t.getTotalHeight();if(r!=-1)return r;if(this.$config.rowStore){var n=this.$config.rowStore;this._fillHeightCache(n);var o=this.getItemHeight.bind(this),a=0;return n.getVisibleItems().forEach(function(l){a+=o(l.id)}),r=a,a}return 0},getItemIndexByTopPosition:function(n){if(this.$config.rowStore){if(t.canUseSimpleCalculation())return t.getItemIndexByTopPosition(n);for(var o=this.$config.rowStore,a=0;a<o.countVisible();a++){var l=this.getRowTop(a),d=this.getRowTop(a+1);if(!d){var f=o.getIdByIndex(a);d=l+this.getItemHeight(f)}if(n>=l&&n<d)return a}return o.countVisible()+2}return 0}}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(){var s=this;this.canParse=function(c){return!isNaN(s.parse(c))},this.format=function(c){return String(c)},this.parse=function(c){return parseInt(c,10)}}return u.create=function(s){return new u},u}();E.default=_},function(D,E){function h(u,s,c){for(var i=0;i<s.length;i++)u.isLinkExists(s[i])&&(c[s[i]]=u.getLink(s[i]))}function _(u,s,c){h(u,s.$source,c),h(u,s.$target,c)}D.exports={getSubtreeLinks:function(u,s){var c={};return u.isTaskExists(s)&&_(u,u.getTask(s),c),u.eachTask(function(i){_(u,i,c)},s),c},getSubtreeTasks:function(u,s){var c={};return u.eachTask(function(i){c[i.id]=i},s),c}}},function(D,E,h){var _=h(33),u=h(33);function s(c){var i=function(f){var g=new u(f).primaryScale(),p=g.unit,v=g.step;if(f.config.scale_offset_minimal){var y=new _(f),m=[y.primaryScale()].concat(y.getSubScales());y.sortScales(m),p=m[m.length-1].unit,v=m[m.length-1].step||1}return{unit:p,step:v}}(c),r=i.unit,e=i.step,t=function(f,g){var p={start_date:null,end_date:null};if(g.config.start_date&&g.config.end_date){p.start_date=g.date[f+"_start"](new Date(g.config.start_date));var v=new Date(g.config.end_date),y=g.date[f+"_start"](new Date(v));v=+v!=+y?g.date.add(y,1,f):y,p.end_date=v}return p}(r,c);if(!t.start_date||!t.end_date){for(var n=!0,o=c.getTaskByTime(),a=0;a<o.length;a++)if(o[a].type!==c.config.types.project){n=!1;break}if(o.length&&n){var l=o[0].start_date,d=c.date.add(l,1,c.config.duration_unit);t={start_date:new Date(l),end_date:new Date(d)}}else t=c.getSubtaskDates();t.start_date&&t.end_date||(t={start_date:new Date,end_date:new Date}),t.start_date=c.date[r+"_start"](t.start_date),t.start_date=c.calculateEndDate({start_date:c.date[r+"_start"](t.start_date),duration:-1,unit:r,step:e}),t.end_date=c.date[r+"_start"](t.end_date),t.end_date=c.calculateEndDate({start_date:t.end_date,duration:2,unit:r,step:e})}c._min_date=t.start_date,c._max_date=t.end_date}D.exports=function(c){s(c),function(i){if(i.config.fit_tasks){var r=+i._min_date,e=+i._max_date;if(+i._min_date!=r||+i._max_date!=e)return i.render(),i.callEvent("onScaleAdjusted",[]),!0}}(c)}},function(D,E,h){var _=h(48),u=h(0),s=h(2),c=h(49),i=h(16),r=h(2).replaceValidZeroId;c.default&&(c=c.default);var e=function(t){c.apply(this,[t]),this._branches={},this.pull={},this.$initItem=function(f){var g=f;t.initItem&&(g=t.initItem(g));var p=this.getItem(f.id);return p&&p.parent!=g.parent&&this.move(g.id,g.$index||-1,g.parent||this._ganttConfig.root_id),g},this.$parentProperty=t.parentProperty||"parent",typeof t.rootId!="function"?this.$getRootId=function(f){return function(){return f}}(t.rootId||0):this.$getRootId=t.rootId,this.$openInitially=t.openInitially,this.visibleOrder=_.$create(),this.fullOrder=_.$create(),this._searchVisibleOrder={},this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,this._skip_refresh=!1,this._ganttConfig=null,t.getConfig&&(this._ganttConfig=t.getConfig());var n={},o={},a={},l={},d=!1;return this._attachDataChange(function(){return this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,!0}),this.attachEvent("onPreFilter",function(){this._indexRangeCache={},this._eachItemMainRangeCache=null,n={},o={},a={},l={},d=!1,this.eachItem(function(f){var g=this.getParent(f.id);f.$open&&a[g]!==!1?a[f.id]=!0:a[f.id]=!1,this._isSplitItem(f)&&(d=!0,n[f.id]=!0,o[f.id]=!0),d&&o[g]&&(o[f.id]=!0),a[g]||a[g]===void 0?l[f.id]=!0:l[f.id]=!1})}),this.attachEvent("onFilterItem",function(f,g){var p=!1;this._ganttConfig&&(p=this._ganttConfig.open_split_tasks);var v=l[g.id];return d&&(v&&o[g.id]&&!n[g.id]&&(v=!!p),o[g.id]&&!n[g.id]&&(g.$split_subtask=!0)),g.$expanded_branch=!!l[g.id],!!v}),this.attachEvent("onFilter",function(){n={},o={},a={},l={}}),this};e.prototype=u.mixin({_buildTree:function(t){for(var n=null,o=this.$getRootId(),a=0,l=t.length;a<l;a++)n=t[a],this.setParent(n,r(this.getParent(n),o)||o);for(a=0,l=t.length;a<l;a++)n=t[a],this._add_branch(n),n.$level=this.calculateItemLevel(n),n.$local_index=this.getBranchIndex(n.id),u.defined(n.$open)||(n.$open=u.defined(n.open)?n.open:this.$openInitially());this._updateOrder()},_isSplitItem:function(t){return t.render=="split"&&this.hasChild(t.id)},parse:function(t){this._skip_refresh||this.callEvent("onBeforeParse",[t]);var n=this._parseInner(t);this._buildTree(n),this.filter(),this._skip_refresh||this.callEvent("onParse",[n])},_addItemInner:function(t,n){var o=this.getParent(t);u.defined(o)||(o=this.$getRootId(),this.setParent(t,o));var a=this.getIndexById(o)+Math.min(Math.max(n,0),this.visibleOrder.length);1*a!==a&&(a=void 0),c.prototype._addItemInner.call(this,t,a),this.setParent(t,o),t.hasOwnProperty("$rendered_parent")&&this._move_branch(t,t.$rendered_parent),this._add_branch(t,n)},_changeIdInner:function(t,n){var o=this.getChildren(t),a=this._searchVisibleOrder[t];c.prototype._changeIdInner.call(this,t,n);var l=this.getParent(n);this._replace_branch_child(l,t,n),this._branches[t]&&(this._branches[n]=this._branches[t]);for(var d=0;d<o.length;d++){var f=this.getItem(o[d]);f[this.$parentProperty]=n,f.$rendered_parent=n}this._searchVisibleOrder[n]=a,delete this._branches[t]},_traverseBranches:function(t,n){u.defined(n)||(n=this.$getRootId());var o=this._branches[n];if(o)for(var a=0;a<o.length;a++){var l=o[a];t.call(this,l),this._branches[l]&&this._traverseBranches(t,l)}},_updateOrder:function(t){this.fullOrder=_.$create(),this._traverseBranches(function(n){this.fullOrder.push(n)}),t&&c.prototype._updateOrder.call(this,t)},_removeItemInner:function(t){var n=[];this.eachItem(function(a){n.push(a)},t),n.push(this.getItem(t));for(var o=0;o<n.length;o++)this._move_branch(n[o],this.getParent(n[o]),null),c.prototype._removeItemInner.call(this,n[o].id),this._move_branch(n[o],this.getParent(n[o]),null)},move:function(t,n,o){var a=arguments[3],l=(this._ganttConfig||{}).root_id||0;if(a=r(a,l)){if(a===t)return;o=this.getParent(a),n=this.getBranchIndex(a)}if(t!=o){u.defined(o)||(o=this.$getRootId());var d=this.getItem(t),f=this.getParent(d.id),g=this.getChildren(o);if(n==-1&&(n=g.length+1),f==o&&this.getBranchIndex(t)==n)return;if(this.callEvent("onBeforeItemMove",[t,o,n])===!1)return!1;for(var p=[],v=0;v<g.length;v++)i(g[v],null,this,this._ganttConfig)&&(p.push(g[v]),g.splice(v,1),v--);this._replace_branch_child(f,t);var y=(g=this.getChildren(o))[n];(y=r(y,l))?g=g.slice(0,n).concat([t]).concat(g.slice(n)):g.push(t),p.length&&(g=g.concat(p)),this.setParent(d,o),this._branches[o]=g;var m=this.calculateItemLevel(d)-d.$level;d.$level+=m,this.eachItem(function(b){b.$level+=m},d.id,this),this._moveInner(this.getIndexById(t),this.getIndexById(o)+n),this.callEvent("onAfterItemMove",[t,o,n]),this.refresh()}},getBranchIndex:function(t){var n=this.getChildren(this.getParent(t)),o=n.indexOf(t+"");return o==-1&&(o=n.indexOf(+t)),o},hasChild:function(t){var n=this._branches[t];return n&&n.length},getChildren:function(t){var n=this._branches[t];return n||_.$create()},isChildOf:function(t,n){if(!this.exists(t))return!1;if(n===this.$getRootId())return!0;if(!this.hasChild(n))return!1;var o=this.getItem(t),a=this.getParent(t);if(this.getItem(n).$level>=o.$level)return!1;for(;o&&this.exists(a);){if((o=this.getItem(a))&&o.id==n)return!0;a=this.getParent(o)}return!1},getSiblings:function(t){if(!this.exists(t))return _.$create();var n=this.getParent(t);return this.getChildren(n)},getNextSibling:function(t){for(var n=this.getSiblings(t),o=0,a=n.length;o<a;o++)if(n[o]==t){var l=n[o+1];return l===0&&o>0&&(l="0"),l||null}return null},getPrevSibling:function(t){for(var n=this.getSiblings(t),o=0,a=n.length;o<a;o++)if(n[o]==t){var l=n[o-1];return l===0&&o>0&&(l="0"),l||null}return null},getParent:function(t){var n=null;return(n=t.id!==void 0?t:this.getItem(t))?n[this.$parentProperty]:this.$getRootId()},clearAll:function(){this._branches={},c.prototype.clearAll.call(this)},calculateItemLevel:function(t){var n=0;return this.eachParent(function(){n++},t),n},_setParentInner:function(t,n,o){o||(t.hasOwnProperty("$rendered_parent")?this._move_branch(t,t.$rendered_parent,n):this._move_branch(t,t[this.$parentProperty],n))},setParent:function(t,n,o){this._setParentInner(t,n,o),t[this.$parentProperty]=n},_eachItemCached:function(t,n){for(var o=0,a=n.length;o<a;o++)t.call(this,n[o])},_eachItemIterate:function(t,n,o){var a=this.getChildren(n);for(a.length&&(a=a.slice().reverse());a.length;){var l=a.pop(),d=this.getItem(l);if(t.call(this,d),o&&o.push(d),this.hasChild(d.id))for(var f=this.getChildren(d.id),g=f.length-1;g>=0;g--)a.push(f[g])}},eachItem:function(t,n){var o=this.$getRootId();u.defined(n)||(n=o);var a=r(n,o)||o,l=!1,d=!1,f=null;a===o&&(this._eachItemMainRangeCache?(l=!0,f=this._eachItemMainRangeCache):(d=!0,f=this._eachItemMainRangeCache=[])),l?this._eachItemCached(t,f):this._eachItemIterate(t,a,d?f:null)},eachParent:function(t,n){for(var o={},a=n,l=this.getParent(a);this.exists(l);){if(o[l])throw new Error("Invalid tasks tree. Cyclic reference has been detected on task "+l);o[l]=!0,a=this.getItem(l),t.call(this,a),l=this.getParent(a)}},_add_branch:function(t,n,o){var a=o===void 0?this.getParent(t):o;this.hasChild(a)||(this._branches[a]=_.$create());var l=this.getChildren(a);l.indexOf(t.id+"")>-1||l.indexOf(+t.id)>-1||(1*n==n?l.splice(n,0,t.id):l.push(t.id),t.$rendered_parent=a)},_move_branch:function(t,n,o){this._eachItemMainRangeCache=null,this._replace_branch_child(n,t.id),this.exists(o)||o==this.$getRootId()?this._add_branch(t,void 0,o):delete this._branches[t.id],t.$level=this.calculateItemLevel(t),this.eachItem(function(a){a.$level=this.calculateItemLevel(a)},t.id)},_replace_branch_child:function(t,n,o){var a=this.getChildren(t);if(a&&t!==void 0){var l=_.$create(),d=a.indexOf(n+"");d!=-1||isNaN(+n)||(d=a.indexOf(+n)),d>-1&&(o?a.splice(d,1,o):a.splice(d,1)),l=a,this._branches[t]=l}},sort:function(t,n,o){this.exists(o)||(o=this.$getRootId()),t||(t="order");var a=typeof t=="string"?function(p,v){return p[t]==v[t]||s.isDate(p[t])&&s.isDate(v[t])&&p[t].valueOf()==v[t].valueOf()?0:p[t]>v[t]?1:-1}:t;if(n){var l=a;a=function(p,v){return l(v,p)}}var d=this.getChildren(o);if(d){for(var f=[],g=d.length-1;g>=0;g--)f[g]=this.getItem(d[g]);for(f.sort(a),g=0;g<f.length;g++)d[g]=f[g].id,this.sort(t,n,d[g])}},filter:function(t){for(var n in this.pull){var o=this.pull[n].$rendered_parent,a=this.getParent(this.pull[n]);o!==a&&this._move_branch(this.pull[n],o,a)}return c.prototype.filter.apply(this,arguments)},open:function(t){this.exists(t)&&(this.getItem(t).$open=!0,this._skipTaskRecalculation=!0,this.callEvent("onItemOpen",[t]))},close:function(t){this.exists(t)&&(this.getItem(t).$open=!1,this._skipTaskRecalculation=!0,this.callEvent("onItemClose",[t]))},destructor:function(){c.prototype.destructor.call(this),this._branches=null,this._indexRangeCache={},this._eachItemMainRangeCache=null}},c.prototype),D.exports=e},function(D,E,h){var _=h(0),u={$create:function(s){return _.mixin(s||[],this)},$removeAt:function(s,c){s>=0&&this.splice(s,c||1)},$remove:function(s){this.$removeAt(this.$find(s))},$insertAt:function(s,c){if(c||c===0){var i=this.splice(c,this.length-c);this[c]=s,this.push.apply(this,i)}else this.push(s)},$find:function(s){for(var c=0;c<this.length;c++)if(s==this[c])return c;return-1},$each:function(s,c){for(var i=0;i<this.length;i++)s.call(c||this,this[i])},$map:function(s,c){for(var i=0;i<this.length;i++)this[i]=s.call(c||this,this[i]);return this},$filter:function(s,c){for(var i=0;i<this.length;i++)s.call(c||this,this[i])||(this.splice(i,1),i--);return this}};D.exports=u},function(D,E,h){var _=h(48),u=h(0),s=h(5),c=h(16),i=function(r){return this.pull={},this.$initItem=r.initItem,this.visibleOrder=_.$create(),this.fullOrder=_.$create(),this._skip_refresh=!1,this._filterRule=null,this._searchVisibleOrder={},this._indexRangeCache={},this._getItemsCache=null,this.$config=r,s(this),this._attachDataChange(function(){return this._indexRangeCache={},this._getItemsCache=null,!0}),this};i.prototype={_attachDataChange:function(r){this.attachEvent("onClearAll",r),this.attachEvent("onBeforeParse",r),this.attachEvent("onBeforeUpdate",r),this.attachEvent("onBeforeDelete",r),this.attachEvent("onBeforeAdd",r),this.attachEvent("onParse",r),this.attachEvent("onBeforeFilter",r)},_parseInner:function(r){for(var e=null,t=[],n=0,o=r.length;n<o;n++)e=r[n],this.$initItem&&(this.$config.copyOnParse()&&(e=u.copy(e)),e=this.$initItem(e)),this.callEvent("onItemLoading",[e])&&(this.pull.hasOwnProperty(e.id)||this.fullOrder.push(e.id),t.push(e),this.pull[e.id]=e);return t},parse:function(r){this.isSilent()||this.callEvent("onBeforeParse",[r]);var e=this._parseInner(r);this.isSilent()||(this.refresh(),this.callEvent("onParse",[e]))},getItem:function(r){return this.pull[r]},_updateOrder:function(r){r.call(this.visibleOrder),r.call(this.fullOrder)},updateItem:function(r,e){if(u.defined(e)||(e=this.getItem(r)),!this.isSilent()&&this.callEvent("onBeforeUpdate",[e.id,e])===!1)return!1;u.mixin(this.pull[r],e,!0),this.isSilent()||(this.callEvent("onAfterUpdate",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"update"]))},_removeItemInner:function(r){this._updateOrder(function(){this.$remove(r)}),delete this.pull[r]},removeItem:function(r){var e=this.getItem(r);if(!this.isSilent()&&this.callEvent("onBeforeDelete",[e.id,e])===!1)return!1;this.callEvent("onAfterDeleteConfirmed",[e.id,e]),this._removeItemInner(r),this.isSilent()||(this.filter(),this.callEvent("onAfterDelete",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"delete"]))},_addItemInner:function(r,e){if(this.exists(r.id))this.silent(function(){this.updateItem(r.id,r)});else{var t=this.visibleOrder,n=t.length;(!u.defined(e)||e<0)&&(e=n),e>n&&(e=Math.min(t.length,e))}this.pull[r.id]=r,this.isSilent()||this._updateOrder(function(){this.$find(r.id)===-1&&this.$insertAt(r.id,e)}),this.filter()},isVisible:function(r){return this.visibleOrder.$find(r)>-1},getVisibleItems:function(){return this.getIndexRange()},addItem:function(r,e){return u.defined(r.id)||(r.id=u.uid()),this.$initItem&&(r=this.$initItem(r)),!(!this.isSilent()&&this.callEvent("onBeforeAdd",[r.id,r])===!1)&&(this._addItemInner(r,e),this.isSilent()||(this.callEvent("onAfterAdd",[r.id,r]),this.callEvent("onStoreUpdated",[r.id,r,"add"])),r.id)},_changeIdInner:function(r,e){this.pull[r]&&(this.pull[e]=this.pull[r]);var t=this._searchVisibleOrder[r];this.pull[e].id=e,this._updateOrder(function(){this[this.$find(r)]=e}),this._searchVisibleOrder[e]=t,delete this._searchVisibleOrder[r],delete this.pull[r]},changeId:function(r,e){this._changeIdInner(r,e),this.callEvent("onIdChange",[r,e])},exists:function(r){return!!this.pull[r]},_moveInner:function(r,e){var t=this.getIdByIndex(r);this._updateOrder(function(){this.$removeAt(r),this.$insertAt(t,Math.min(this.length,e))})},move:function(r,e){var t=this.getIdByIndex(r),n=this.getItem(t);this._moveInner(r,e),this.isSilent()||this.callEvent("onStoreUpdated",[n.id,n,"move"])},clearAll:function(){this.$destroyed||(this.silent(function(){this.unselect()}),this.pull={},this.visibleOrder=_.$create(),this.fullOrder=_.$create(),this.isSilent()||(this.callEvent("onClearAll",[]),this.refresh()))},silent:function(r,e){var t=!1;this.isSilent()&&(t=!0),this._skip_refresh=!0,r.call(e||this),t||(this._skip_refresh=!1)},isSilent:function(){return!!this._skip_refresh},arraysEqual:function(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0},refresh:function(r,e){var t,n;if(!this.isSilent()&&(r&&(t=this.getItem(r)),n=r?[r,t,"paint"]:[null,null,null],this.callEvent("onBeforeStoreUpdate",n)!==!1)){var o=this._quick_refresh&&!this._mark_recompute;if(this._mark_recompute=!1,r){if(!e&&!o){var a=this.visibleOrder;this.filter(),this.arraysEqual(a,this.visibleOrder)||(r=void 0)}}else o||this.filter();n=r?[r,t,"paint"]:[null,null,null],this.callEvent("onStoreUpdated",n)}},count:function(){return this.fullOrder.length},countVisible:function(){return this.visibleOrder.length},sort:function(r){},serialize:function(){},eachItem:function(r){for(var e=0;e<this.fullOrder.length;e++){var t=this.getItem(this.fullOrder[e]);r.call(this,t)}},find:function(r){var e=[];return this.eachItem(function(t){r(t)&&e.push(t)}),e},filter:function(r){this.isSilent()||this.callEvent("onBeforeFilter",[]),this.callEvent("onPreFilter",[]);var e=_.$create(),t=[];this.eachItem(function(o){this.callEvent("onFilterItem",[o.id,o])&&(c(o.id,null,this,this._ganttConfig)?t.push(o.id):e.push(o.id))});for(var n=0;n<t.length;n++)e.push(t[n]);for(this.visibleOrder=e,this._searchVisibleOrder={},n=0;n<this.visibleOrder.length;n++)this._searchVisibleOrder[this.visibleOrder[n]]=n;this.isSilent()||this.callEvent("onFilter",[])},getIndexRange:function(r,e){var t=Math.min(e||1/0,this.countVisible()-1),n=r||0,o=n+"-"+t;if(this._indexRangeCache[o])return this._indexRangeCache[o].slice();for(var a=[],l=n;l<=t;l++)a.push(this.getItem(this.visibleOrder[l]));return this._indexRangeCache[o]=a.slice(),a},getItems:function(){if(this._getItemsCache)return this._getItemsCache.slice();var r=[];for(var e in this.pull)r.push(this.pull[e]);return this._getItemsCache=r.slice(),r},getIdByIndex:function(r){return this.visibleOrder[r]},getIndexById:function(r){var e=this._searchVisibleOrder[r];return e===void 0&&(e=-1),e},_getNullIfUndefined:function(r){return r===void 0?null:r},getFirst:function(){return this._getNullIfUndefined(this.visibleOrder[0])},getLast:function(){return this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1])},getNext:function(r){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(r)+1])},getPrev:function(r){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(r)-1])},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.$destroyed=!0,this.pull=null,this.$initItem=null,this.visibleOrder=null,this.fullOrder=null,this._skip_refresh=null,this._filterRule=null,this._searchVisibleOrder=null,this._indexRangeCache={}}},D.exports=i},function(D,E){D.exports=function(h,_){if(!_)return!0;if(h._on_timeout)return!1;var u=Math.ceil(1e3/_);return u<2||(setTimeout(function(){delete h._on_timeout},u),h._on_timeout=!0,!0)}},function(D,E,h){var _=h(0);D.exports=function u(s,c){s=s||_.event,c=c||_.eventRemove;var i=[],r={attach:function(e,t,n,o){i.push({element:e,event:t,callback:n,capture:o}),s(e,t,n,o)},detach:function(e,t,n,o){c(e,t,n,o);for(var a=0;a<i.length;a++){var l=i[a];l.element===e&&l.event===t&&l.callback===n&&l.capture===o&&(i.splice(a,1),a--)}},detachAll:function(){for(var e=i.slice(),t=0;t<e.length;t++){var n=e[t];r.detach(n.element,n.event,n.callback,n.capture),r.detach(n.element,n.event,n.callback,void 0),r.detach(n.element,n.event,n.callback,!1),r.detach(n.element,n.event,n.callback,!0)}i.splice(0,i.length)},extend:function(){return u(this.event,this.eventRemove)}};return r}},function(D,E){function h(_){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}D.exports=(typeof self>"u"?"undefined":h(self))=="object"?self.FormData:window.FormData},function(D,E){(function(h){D.exports=h}).call(this,{})},function(D,E,h){function _(m){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(m)}var u=h(278),s=h(276);function c(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}E.parse=y,E.resolve=function(m,b){return y(m,!1,!0).resolve(b)},E.resolveObject=function(m,b){return m?y(m,!1,!0).resolveObject(b):b},E.format=function(m){return s.isString(m)&&(m=y(m)),m instanceof c?m.format():c.prototype.format.call(m)},E.Url=c;var i=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,t=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),n=["'"].concat(t),o=["%","/","?",";","#"].concat(n),a=["/","?","#"],l=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=h(275);function y(m,b,k){if(m&&s.isObject(m)&&m instanceof c)return m;var $=new c;return $.parse(m,b,k),$}c.prototype.parse=function(m,b,k){if(!s.isString(m))throw new TypeError("Parameter 'url' must be a string, not "+_(m));var $=m.indexOf("?"),x=$!==-1&&$<m.indexOf("#")?"?":"#",w=m.split(x);w[0]=w[0].replace(/\\/g,"/");var T=m=w.join(x);if(T=T.trim(),!k&&m.split("#").length===1){var A=e.exec(T);if(A)return this.path=T,this.href=T,this.pathname=A[1],A[2]?(this.search=A[2],this.query=b?v.parse(this.search.substr(1)):this.search.substr(1)):b&&(this.search="",this.query={}),this}var I=i.exec(T);if(I){var N=(I=I[0]).toLowerCase();this.protocol=N,T=T.substr(I.length)}if(k||I||T.match(/^\/\/[^@\/]+@[^@\/]+/)){var j=T.substr(0,2)==="//";!j||I&&g[I]||(T=T.substr(2),this.slashes=!0)}if(!g[I]&&(j||I&&!p[I])){for(var B,z,K=-1,J=0;J<a.length;J++)(R=T.indexOf(a[J]))!==-1&&(K===-1||R<K)&&(K=R);for((z=K===-1?T.lastIndexOf("@"):T.lastIndexOf("@",K))!==-1&&(B=T.slice(0,z),T=T.slice(z+1),this.auth=decodeURIComponent(B)),K=-1,J=0;J<o.length;J++){var R;(R=T.indexOf(o[J]))!==-1&&(K===-1||R<K)&&(K=R)}K===-1&&(K=T.length),this.host=T.slice(0,K),T=T.slice(K),this.parseHost(),this.hostname=this.hostname||"";var P=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!P)for(var G=this.hostname.split(/\./),O=(J=0,G.length);J<O;J++){var Y=G[J];if(Y&&!Y.match(l)){for(var q="",U=0,L=Y.length;U<L;U++)Y.charCodeAt(U)>127?q+="x":q+=Y[U];if(!q.match(l)){var S=G.slice(0,J),C=G.slice(J+1),M=Y.match(d);M&&(S.push(M[1]),C.unshift(M[2])),C.length&&(T="/"+C.join(".")+T),this.hostname=S.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=u.toASCII(this.hostname));var H=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+H,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),T[0]!=="/"&&(T="/"+T))}if(!f[N])for(J=0,O=n.length;J<O;J++){var W=n[J];if(T.indexOf(W)!==-1){var Q=encodeURIComponent(W);Q===W&&(Q=escape(W)),T=T.split(W).join(Q)}}var V=T.indexOf("#");V!==-1&&(this.hash=T.substr(V),T=T.slice(0,V));var et=T.indexOf("?");if(et!==-1?(this.search=T.substr(et),this.query=T.substr(et+1),b&&(this.query=v.parse(this.query)),T=T.slice(0,et)):b&&(this.search="",this.query={}),T&&(this.pathname=T),p[N]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){H=this.pathname||"";var at=this.search||"";this.path=H+at}return this.href=this.format(),this},c.prototype.format=function(){var m=this.auth||"";m&&(m=(m=encodeURIComponent(m)).replace(/%3A/i,":"),m+="@");var b=this.protocol||"",k=this.pathname||"",$=this.hash||"",x=!1,w="";this.host?x=m+this.host:this.hostname&&(x=m+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(x+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(w=v.stringify(this.query));var T=this.search||w&&"?"+w||"";return b&&b.substr(-1)!==":"&&(b+=":"),this.slashes||(!b||p[b])&&x!==!1?(x="//"+(x||""),k&&k.charAt(0)!=="/"&&(k="/"+k)):x||(x=""),$&&$.charAt(0)!=="#"&&($="#"+$),T&&T.charAt(0)!=="?"&&(T="?"+T),b+x+(k=k.replace(/[?#]/g,function(A){return encodeURIComponent(A)}))+(T=T.replace("#","%23"))+$},c.prototype.resolve=function(m){return this.resolveObject(y(m,!1,!0)).format()},c.prototype.resolveObject=function(m){if(s.isString(m)){var b=new c;b.parse(m,!1,!0),m=b}for(var k=new c,$=Object.keys(this),x=0;x<$.length;x++){var w=$[x];k[w]=this[w]}if(k.hash=m.hash,m.href==="")return k.href=k.format(),k;if(m.slashes&&!m.protocol){for(var T=Object.keys(m),A=0;A<T.length;A++){var I=T[A];I!=="protocol"&&(k[I]=m[I])}return p[k.protocol]&&k.hostname&&!k.pathname&&(k.path=k.pathname="/"),k.href=k.format(),k}if(m.protocol&&m.protocol!==k.protocol){if(!p[m.protocol]){for(var N=Object.keys(m),j=0;j<N.length;j++){var B=N[j];k[B]=m[B]}return k.href=k.format(),k}if(k.protocol=m.protocol,m.host||g[m.protocol])k.pathname=m.pathname;else{for(var z=(m.pathname||"").split("/");z.length&&!(m.host=z.shift()););m.host||(m.host=""),m.hostname||(m.hostname=""),z[0]!==""&&z.unshift(""),z.length<2&&z.unshift(""),k.pathname=z.join("/")}if(k.search=m.search,k.query=m.query,k.host=m.host||"",k.auth=m.auth,k.hostname=m.hostname||m.host,k.port=m.port,k.pathname||k.search){var K=k.pathname||"",J=k.search||"";k.path=K+J}return k.slashes=k.slashes||m.slashes,k.href=k.format(),k}var R=k.pathname&&k.pathname.charAt(0)==="/",P=m.host||m.pathname&&m.pathname.charAt(0)==="/",G=P||R||k.host&&m.pathname,O=G,Y=k.pathname&&k.pathname.split("/")||[],q=(z=m.pathname&&m.pathname.split("/")||[],k.protocol&&!p[k.protocol]);if(q&&(k.hostname="",k.port=null,k.host&&(Y[0]===""?Y[0]=k.host:Y.unshift(k.host)),k.host="",m.protocol&&(m.hostname=null,m.port=null,m.host&&(z[0]===""?z[0]=m.host:z.unshift(m.host)),m.host=null),G=G&&(z[0]===""||Y[0]==="")),P)k.host=m.host||m.host===""?m.host:k.host,k.hostname=m.hostname||m.hostname===""?m.hostname:k.hostname,k.search=m.search,k.query=m.query,Y=z;else if(z.length)Y||(Y=[]),Y.pop(),Y=Y.concat(z),k.search=m.search,k.query=m.query;else if(!s.isNullOrUndefined(m.search))return q&&(k.hostname=k.host=Y.shift(),(M=!!(k.host&&k.host.indexOf("@")>0)&&k.host.split("@"))&&(k.auth=M.shift(),k.host=k.hostname=M.shift())),k.search=m.search,k.query=m.query,s.isNull(k.pathname)&&s.isNull(k.search)||(k.path=(k.pathname?k.pathname:"")+(k.search?k.search:"")),k.href=k.format(),k;if(!Y.length)return k.pathname=null,k.search?k.path="/"+k.search:k.path=null,k.href=k.format(),k;for(var U=Y.slice(-1)[0],L=(k.host||m.host||Y.length>1)&&(U==="."||U==="..")||U==="",S=0,C=Y.length;C>=0;C--)(U=Y[C])==="."?Y.splice(C,1):U===".."?(Y.splice(C,1),S++):S&&(Y.splice(C,1),S--);if(!G&&!O)for(;S--;S)Y.unshift("..");!G||Y[0]===""||Y[0]&&Y[0].charAt(0)==="/"||Y.unshift(""),L&&Y.join("/").substr(-1)!=="/"&&Y.push("");var M,H=Y[0]===""||Y[0]&&Y[0].charAt(0)==="/";return q&&(k.hostname=k.host=H?"":Y.length?Y.shift():"",(M=!!(k.host&&k.host.indexOf("@")>0)&&k.host.split("@"))&&(k.auth=M.shift(),k.host=k.hostname=M.shift())),(G=G||k.host&&Y.length)&&!H&&Y.unshift(""),Y.length?k.pathname=Y.join("/"):(k.pathname=null,k.path=null),s.isNull(k.pathname)&&s.isNull(k.search)||(k.path=(k.pathname?k.pathname:"")+(k.search?k.search:"")),k.auth=m.auth||k.auth,k.slashes=k.slashes||m.slashes,k.href=k.format(),k},c.prototype.parseHost=function(){var m=this.host,b=r.exec(m);b&&((b=b[0])!==":"&&(this.port=b.substr(1)),m=m.substr(0,m.length-b.length)),m&&(this.hostname=m)}},function(D,E,h){D.exports=s;var _=h(12),u=h(17);function s(r){if(!(this instanceof s))return new s(r);_.call(this,r),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var o=n.writecb;if(!o)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,t!=null&&this.push(t),o(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",c)}function c(){var r=this;typeof this._flush=="function"?this._flush(function(e,t){i(r,e,t)}):i(this,null,null)}function i(r,e,t){if(e)return r.emit("error",e);if(t!=null&&r.push(t),r._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(r._transformState.transforming)throw new Error("Calling transform done when still transforming");return r.push(null)}u.inherits=h(8),u.inherits(s,_),s.prototype.push=function(r,e){return this._transformState.needTransform=!1,_.prototype.push.call(this,r,e)},s.prototype._transform=function(r,e,t){throw new Error("_transform() is not implemented")},s.prototype._write=function(r,e,t){var n=this._transformState;if(n.writecb=t,n.writechunk=r,n.writeencoding=e,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},s.prototype._read=function(r){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(r,e){var t=this;_.prototype._destroy.call(this,r,function(n){e(n),t.emit("close")})}},function(D,E,h){var _=h(22).Buffer,u=_.isEncoding||function(l){switch((l=""+l)&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(l){var d;switch(this.encoding=function(f){var g=function(p){if(!p)return"utf8";for(var v;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(v)return;p=(""+p).toLowerCase(),v=!0}}(f);if(typeof g!="string"&&(_.isEncoding===u||!u(f)))throw new Error("Unknown encoding: "+f);return g||f}(l),this.encoding){case"utf16le":this.text=r,this.end=e,d=4;break;case"utf8":this.fillLast=i,d=4;break;case"base64":this.text=t,this.end=n,d=3;break;default:return this.write=o,void(this.end=a)}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(d)}function c(l){return l<=127?0:l>>5==6?2:l>>4==14?3:l>>3==30?4:l>>6==2?-1:-2}function i(l){var d=this.lastTotal-this.lastNeed,f=function(g,p,v){if((192&p[0])!=128)return g.lastNeed=0,"";if(g.lastNeed>1&&p.length>1){if((192&p[1])!=128)return g.lastNeed=1,"";if(g.lastNeed>2&&p.length>2&&(192&p[2])!=128)return g.lastNeed=2,""}}(this,l);return f!==void 0?f:this.lastNeed<=l.length?(l.copy(this.lastChar,d,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(l.copy(this.lastChar,d,0,l.length),void(this.lastNeed-=l.length))}function r(l,d){if((l.length-d)%2==0){var f=l.toString("utf16le",d);if(f){var g=f.charCodeAt(f.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],f.slice(0,-1)}return f}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",d,l.length-1)}function e(l){var d=l&&l.length?this.write(l):"";if(this.lastNeed){var f=this.lastTotal-this.lastNeed;return d+this.lastChar.toString("utf16le",0,f)}return d}function t(l,d){var f=(l.length-d)%3;return f===0?l.toString("base64",d):(this.lastNeed=3-f,this.lastTotal=3,f===1?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",d,l.length-f))}function n(l){var d=l&&l.length?this.write(l):"";return this.lastNeed?d+this.lastChar.toString("base64",0,3-this.lastNeed):d}function o(l){return l.toString(this.encoding)}function a(l){return l&&l.length?this.write(l):""}E.StringDecoder=s,s.prototype.write=function(l){if(l.length===0)return"";var d,f;if(this.lastNeed){if((d=this.fillLast(l))===void 0)return"";f=this.lastNeed,this.lastNeed=0}else f=0;return f<l.length?d?d+this.text(l,f):this.text(l,f):d||""},s.prototype.end=function(l){var d=l&&l.length?this.write(l):"";return this.lastNeed?d+"":d},s.prototype.text=function(l,d){var f=function(p,v,y){var m=v.length-1;if(m<y)return 0;var b=c(v[m]);return b>=0?(b>0&&(p.lastNeed=b-1),b):--m<y||b===-2?0:(b=c(v[m]))>=0?(b>0&&(p.lastNeed=b-2),b):--m<y||b===-2?0:(b=c(v[m]))>=0?(b>0&&(b===2?b=0:p.lastNeed=b-3),b):0}(this,l,d);if(!this.lastNeed)return l.toString("utf8",d);this.lastTotal=f;var g=l.length-(f-this.lastNeed);return l.copy(this.lastChar,0,g),l.toString("utf8",d,g)},s.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length}},function(D,E,h){(function(_){var u=_!==void 0&&_||typeof self<"u"&&self||window,s=Function.prototype.apply;function c(i,r){this._id=i,this._clearFn=r}E.setTimeout=function(){return new c(s.call(setTimeout,u,arguments),clearTimeout)},E.setInterval=function(){return new c(s.call(setInterval,u,arguments),clearInterval)},E.clearTimeout=E.clearInterval=function(i){i&&i.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(u,this._id)},E.enroll=function(i,r){clearTimeout(i._idleTimeoutId),i._idleTimeout=r},E.unenroll=function(i){clearTimeout(i._idleTimeoutId),i._idleTimeout=-1},E._unrefActive=E.active=function(i){clearTimeout(i._idleTimeoutId);var r=i._idleTimeout;r>=0&&(i._idleTimeoutId=setTimeout(function(){i._onTimeout&&i._onTimeout()},r))},h(284),E.setImmediate=typeof self<"u"&&self.setImmediate||_!==void 0&&_.setImmediate||this&&this.setImmediate,E.clearImmediate=typeof self<"u"&&self.clearImmediate||_!==void 0&&_.clearImmediate||this&&this.clearImmediate}).call(this,h(4))},function(D,E,h){(function(_,u,s){var c=h(23);function i(w){var T=this;this.next=null,this.entry=null,this.finish=function(){(function(A,I,N){var j=A.entry;for(A.entry=null;j;){var B=j.callback;I.pendingcb--,B(N),j=j.next}I.corkedRequestsFree?I.corkedRequestsFree.next=A:I.corkedRequestsFree=A})(T,w)}}D.exports=v;var r,e=!_.browser&&["v0.10","v0.9."].indexOf(_.version.slice(0,5))>-1?u:c.nextTick;v.WritableState=p;var t=h(17);t.inherits=h(8);var n={deprecate:h(283)},o=h(60),a=h(22).Buffer,l=s.Uint8Array||function(){},d,f=h(59);function g(){}function p(w,T){r=r||h(12),w=w||{};var A=T instanceof r;this.objectMode=!!w.objectMode,A&&(this.objectMode=this.objectMode||!!w.writableObjectMode);var I=w.highWaterMark,N=w.writableHighWaterMark,j=this.objectMode?16:16384;this.highWaterMark=I||I===0?I:A&&(N||N===0)?N:j,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var B=w.decodeStrings===!1;this.decodeStrings=!B,this.defaultEncoding=w.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(z){(function(K,J){var R=K._writableState,P=R.sync,G=R.writecb;if(function(Y){Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0}(R),J)(function(Y,q,U,L,S){--q.pendingcb,U?(c.nextTick(S,L),c.nextTick(x,Y,q),Y._writableState.errorEmitted=!0,Y.emit("error",L)):(S(L),Y._writableState.errorEmitted=!0,Y.emit("error",L),x(Y,q))})(K,R,P,J,G);else{var O=k(R);O||R.corked||R.bufferProcessing||!R.bufferedRequest||b(K,R),P?e(m,K,R,O,G):m(K,R,O,G)}})(T,z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function v(w){if(r=r||h(12),!(d.call(v,this)||this instanceof r))return new v(w);this._writableState=new p(w,this),this.writable=!0,w&&(typeof w.write=="function"&&(this._write=w.write),typeof w.writev=="function"&&(this._writev=w.writev),typeof w.destroy=="function"&&(this._destroy=w.destroy),typeof w.final=="function"&&(this._final=w.final)),o.call(this)}function y(w,T,A,I,N,j,B){T.writelen=I,T.writecb=B,T.writing=!0,T.sync=!0,A?w._writev(N,T.onwrite):w._write(N,j,T.onwrite),T.sync=!1}function m(w,T,A,I){A||function(N,j){j.length===0&&j.needDrain&&(j.needDrain=!1,N.emit("drain"))}(w,T),T.pendingcb--,I(),x(w,T)}function b(w,T){T.bufferProcessing=!0;var A=T.bufferedRequest;if(w._writev&&A&&A.next){var I=T.bufferedRequestCount,N=new Array(I),j=T.corkedRequestsFree;j.entry=A;for(var B=0,z=!0;A;)N[B]=A,A.isBuf||(z=!1),A=A.next,B+=1;N.allBuffers=z,y(w,T,!0,T.length,N,"",j.finish),T.pendingcb++,T.lastBufferedRequest=null,j.next?(T.corkedRequestsFree=j.next,j.next=null):T.corkedRequestsFree=new i(T),T.bufferedRequestCount=0}else{for(;A;){var K=A.chunk,J=A.encoding,R=A.callback;if(y(w,T,!1,T.objectMode?1:K.length,K,J,R),A=A.next,T.bufferedRequestCount--,T.writing)break}A===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=A,T.bufferProcessing=!1}function k(w){return w.ending&&w.length===0&&w.bufferedRequest===null&&!w.finished&&!w.writing}function $(w,T){w._final(function(A){T.pendingcb--,A&&w.emit("error",A),T.prefinished=!0,w.emit("prefinish"),x(w,T)})}function x(w,T){var A=k(T);return A&&(function(I,N){N.prefinished||N.finalCalled||(typeof I._final=="function"?(N.pendingcb++,N.finalCalled=!0,c.nextTick($,I,N)):(N.prefinished=!0,I.emit("prefinish")))}(w,T),T.pendingcb===0&&(T.finished=!0,w.emit("finish"))),A}t.inherits(v,o),p.prototype.getBuffer=function(){for(var w=this.bufferedRequest,T=[];w;)T.push(w),w=w.next;return T},function(){try{Object.defineProperty(p.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(w){return!!d.call(this,w)||this===v&&w&&w._writableState instanceof p}})):d=function(w){return w instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(w,T,A){var I=this._writableState,N=!1,j=!I.objectMode&&function(B){return a.isBuffer(B)||B instanceof l}(w);return j&&!a.isBuffer(w)&&(w=function(B){return a.from(B)}(w)),typeof T=="function"&&(A=T,T=null),j?T="buffer":T||(T=I.defaultEncoding),typeof A!="function"&&(A=g),I.ended?function(B,z){var K=new Error("write after end");B.emit("error",K),c.nextTick(z,K)}(this,A):(j||function(B,z,K,J){var R=!0,P=!1;return K===null?P=new TypeError("May not write null values to stream"):typeof K=="string"||K===void 0||z.objectMode||(P=new TypeError("Invalid non-string/buffer chunk")),P&&(B.emit("error",P),c.nextTick(J,P),R=!1),R}(this,I,w,A))&&(I.pendingcb++,N=function(B,z,K,J,R,P){if(!K){var G=function(U,L,S){return U.objectMode||U.decodeStrings===!1||typeof L!="string"||(L=a.from(L,S)),L}(z,J,R);J!==G&&(K=!0,R="buffer",J=G)}var O=z.objectMode?1:J.length;z.length+=O;var Y=z.length<z.highWaterMark;if(Y||(z.needDrain=!0),z.writing||z.corked){var q=z.lastBufferedRequest;z.lastBufferedRequest={chunk:J,encoding:R,isBuf:K,callback:P,next:null},q?q.next=z.lastBufferedRequest:z.bufferedRequest=z.lastBufferedRequest,z.bufferedRequestCount+=1}else y(B,z,!1,O,J,R,P);return Y}(this,I,j,w,T,A)),N},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var w=this._writableState;w.corked&&(w.corked--,w.writing||w.corked||w.finished||w.bufferProcessing||!w.bufferedRequest||b(this,w))},v.prototype.setDefaultEncoding=function(w){if(typeof w=="string"&&(w=w.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((w+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+w);return this._writableState.defaultEncoding=w,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(w,T,A){A(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(w,T,A){var I=this._writableState;typeof w=="function"?(A=w,w=null,T=null):typeof T=="function"&&(A=T,T=null),w!=null&&this.write(w,T),I.corked&&(I.corked=1,this.uncork()),I.ending||I.finished||function(N,j,B){j.ending=!0,x(N,j),B&&(j.finished?c.nextTick(B):N.once("finish",B)),j.ended=!0,N.writable=!1}(this,I,A)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(w){this._writableState&&(this._writableState.destroyed=w)}}),v.prototype.destroy=f.destroy,v.prototype._undestroy=f.undestroy,v.prototype._destroy=function(w,T){this.end(),T(w)}}).call(this,h(9),h(57).setImmediate,h(4))},function(D,E,h){var _=h(23);function u(s,c){s.emit("error",c)}D.exports={destroy:function(s,c){var i=this,r=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return r||e?(c?c(s):!s||this._writableState&&this._writableState.errorEmitted||_.nextTick(u,this,s),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(t){!c&&t?(_.nextTick(u,i,t),i._writableState&&(i._writableState.errorEmitted=!0)):c&&c(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(D,E,h){D.exports=h(61).EventEmitter},function(D,E){function h(i){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}function _(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function u(i){return typeof i=="function"}function s(i){return h(i)==="object"&&i!==null}function c(i){return i===void 0}D.exports=_,_.EventEmitter=_,_.prototype._events=void 0,_.prototype._maxListeners=void 0,_.defaultMaxListeners=10,_.prototype.setMaxListeners=function(i){if(!function(r){return typeof r=="number"}(i)||i<0||isNaN(i))throw TypeError("n must be a positive number");return this._maxListeners=i,this},_.prototype.emit=function(i){var r,e,t,n,o,a;if(this._events||(this._events={}),i==="error"&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((r=arguments[1])instanceof Error)throw r;var l=new Error('Uncaught, unspecified "error" event. ('+r+")");throw l.context=r,l}if(c(e=this._events[i]))return!1;if(u(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),e.apply(this,n)}else if(s(e))for(n=Array.prototype.slice.call(arguments,1),t=(a=e.slice()).length,o=0;o<t;o++)a[o].apply(this,n);return!0},_.prototype.addListener=function(i,r){var e;if(!u(r))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",i,u(r.listener)?r.listener:r),this._events[i]?s(this._events[i])?this._events[i].push(r):this._events[i]=[this._events[i],r]:this._events[i]=r,s(this._events[i])&&!this._events[i].warned&&(e=c(this._maxListeners)?_.defaultMaxListeners:this._maxListeners)&&e>0&&this._events[i].length>e&&(this._events[i].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[i].length),typeof console.trace=="function"&&console.trace()),this},_.prototype.on=_.prototype.addListener,_.prototype.once=function(i,r){if(!u(r))throw TypeError("listener must be a function");var e=!1;function t(){this.removeListener(i,t),e||(e=!0,r.apply(this,arguments))}return t.listener=r,this.on(i,t),this},_.prototype.removeListener=function(i,r){var e,t,n,o;if(!u(r))throw TypeError("listener must be a function");if(!this._events||!this._events[i])return this;if(n=(e=this._events[i]).length,t=-1,e===r||u(e.listener)&&e.listener===r)delete this._events[i],this._events.removeListener&&this.emit("removeListener",i,r);else if(s(e)){for(o=n;o-- >0;)if(e[o]===r||e[o].listener&&e[o].listener===r){t=o;break}if(t<0)return this;e.length===1?(e.length=0,delete this._events[i]):e.splice(t,1),this._events.removeListener&&this.emit("removeListener",i,r)}return this},_.prototype.removeAllListeners=function(i){var r,e;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[i]&&delete this._events[i],this;if(arguments.length===0){for(r in this._events)r!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events={},this}if(u(e=this._events[i]))this.removeListener(i,e);else if(e)for(;e.length;)this.removeListener(i,e[e.length-1]);return delete this._events[i],this},_.prototype.listeners=function(i){return this._events&&this._events[i]?u(this._events[i])?[this._events[i]]:this._events[i].slice():[]},_.prototype.listenerCount=function(i){if(this._events){var r=this._events[i];if(u(r))return 1;if(r)return r.length}return 0},_.listenerCount=function(i,r){return i.listenerCount(r)}},function(D,E,h){(function(_,u){var s=h(23);D.exports=y;var c,i=h(67);y.ReadableState=v,h(61).EventEmitter;var r=function(R,P){return R.listeners(P).length},e=h(60),t=h(22).Buffer,n=_.Uint8Array||function(){},o=h(17);o.inherits=h(8);var a=h(287),l=void 0;l=a&&a.debuglog?a.debuglog("stream"):function(){};var d,f=h(286),g=h(59);o.inherits(y,e);var p=["error","close","destroy","pause","resume"];function v(R,P){c=c||h(12),R=R||{};var G=P instanceof c;this.objectMode=!!R.objectMode,G&&(this.objectMode=this.objectMode||!!R.readableObjectMode);var O=R.highWaterMark,Y=R.readableHighWaterMark,q=this.objectMode?16:16384;this.highWaterMark=O||O===0?O:G&&(Y||Y===0)?Y:q,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(d||(d=h(56).StringDecoder),this.decoder=new d(R.encoding),this.encoding=R.encoding)}function y(R){if(c=c||h(12),!(this instanceof y))return new y(R);this._readableState=new v(R,this),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),e.call(this)}function m(R,P,G,O,Y){var q,U=R._readableState;return P===null?(U.reading=!1,function(L,S){if(!S.ended){if(S.decoder){var C=S.decoder.end();C&&C.length&&(S.buffer.push(C),S.length+=S.objectMode?1:C.length)}S.ended=!0,x(L)}}(R,U)):(Y||(q=function(L,S){var C;return function(M){return t.isBuffer(M)||M instanceof n}(S)||typeof S=="string"||S===void 0||L.objectMode||(C=new TypeError("Invalid non-string/buffer chunk")),C}(U,P)),q?R.emit("error",q):U.objectMode||P&&P.length>0?(typeof P=="string"||U.objectMode||Object.getPrototypeOf(P)===t.prototype||(P=function(L){return t.from(L)}(P)),O?U.endEmitted?R.emit("error",new Error("stream.unshift() after end event")):b(R,U,P,!0):U.ended?R.emit("error",new Error("stream.push() after EOF")):(U.reading=!1,U.decoder&&!G?(P=U.decoder.write(P),U.objectMode||P.length!==0?b(R,U,P,!1):T(R,U)):b(R,U,P,!1))):O||(U.reading=!1)),function(L){return!L.ended&&(L.needReadable||L.length<L.highWaterMark||L.length===0)}(U)}function b(R,P,G,O){P.flowing&&P.length===0&&!P.sync?(R.emit("data",G),R.read(0)):(P.length+=P.objectMode?1:G.length,O?P.buffer.unshift(G):P.buffer.push(G),P.needReadable&&x(R)),T(R,P)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(R){this._readableState&&(this._readableState.destroyed=R)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(R,P){this.push(null),P(R)},y.prototype.push=function(R,P){var G,O=this._readableState;return O.objectMode?G=!0:typeof R=="string"&&((P=P||O.defaultEncoding)!==O.encoding&&(R=t.from(R,P),P=""),G=!0),m(this,R,P,!1,G)},y.prototype.unshift=function(R){return m(this,R,null,!0,!1)},y.prototype.isPaused=function(){return this._readableState.flowing===!1},y.prototype.setEncoding=function(R){return d||(d=h(56).StringDecoder),this._readableState.decoder=new d(R),this._readableState.encoding=R,this};var k=8388608;function $(R,P){return R<=0||P.length===0&&P.ended?0:P.objectMode?1:R!=R?P.flowing&&P.length?P.buffer.head.data.length:P.length:(R>P.highWaterMark&&(P.highWaterMark=function(G){return G>=k?G=k:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(R)),R<=P.length?R:P.ended?P.length:(P.needReadable=!0,0))}function x(R){var P=R._readableState;P.needReadable=!1,P.emittedReadable||(l("emitReadable",P.flowing),P.emittedReadable=!0,P.sync?s.nextTick(w,R):w(R))}function w(R){l("emit readable"),R.emit("readable"),j(R)}function T(R,P){P.readingMore||(P.readingMore=!0,s.nextTick(A,R,P))}function A(R,P){for(var G=P.length;!P.reading&&!P.flowing&&!P.ended&&P.length<P.highWaterMark&&(l("maybeReadMore read 0"),R.read(0),G!==P.length);)G=P.length;P.readingMore=!1}function I(R){l("readable nexttick read 0"),R.read(0)}function N(R,P){P.reading||(l("resume read 0"),R.read(0)),P.resumeScheduled=!1,P.awaitDrain=0,R.emit("resume"),j(R),P.flowing&&!P.reading&&R.read(0)}function j(R){var P=R._readableState;for(l("flow",P.flowing);P.flowing&&R.read()!==null;);}function B(R,P){return P.length===0?null:(P.objectMode?G=P.buffer.shift():!R||R>=P.length?(G=P.decoder?P.buffer.join(""):P.buffer.length===1?P.buffer.head.data:P.buffer.concat(P.length),P.buffer.clear()):G=function(O,Y,q){var U;return O<Y.head.data.length?(U=Y.head.data.slice(0,O),Y.head.data=Y.head.data.slice(O)):U=O===Y.head.data.length?Y.shift():q?function(L,S){var C=S.head,M=1,H=C.data;for(L-=H.length;C=C.next;){var F=C.data,W=L>F.length?F.length:L;if(W===F.length?H+=F:H+=F.slice(0,L),(L-=W)===0){W===F.length?(++M,C.next?S.head=C.next:S.head=S.tail=null):(S.head=C,C.data=F.slice(W));break}++M}return S.length-=M,H}(O,Y):function(L,S){var C=t.allocUnsafe(L),M=S.head,H=1;for(M.data.copy(C),L-=M.data.length;M=M.next;){var F=M.data,W=L>F.length?F.length:L;if(F.copy(C,C.length-L,0,W),(L-=W)===0){W===F.length?(++H,M.next?S.head=M.next:S.head=S.tail=null):(S.head=M,M.data=F.slice(W));break}++H}return S.length-=H,C}(O,Y),U}(R,P.buffer,P.decoder),G);var G}function z(R){var P=R._readableState;if(P.length>0)throw new Error('"endReadable()" called on non-empty stream');P.endEmitted||(P.ended=!0,s.nextTick(K,P,R))}function K(R,P){R.endEmitted||R.length!==0||(R.endEmitted=!0,P.readable=!1,P.emit("end"))}function J(R,P){for(var G=0,O=R.length;G<O;G++)if(R[G]===P)return G;return-1}y.prototype.read=function(R){l("read",R),R=parseInt(R,10);var P=this._readableState,G=R;if(R!==0&&(P.emittedReadable=!1),R===0&&P.needReadable&&(P.length>=P.highWaterMark||P.ended))return l("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?z(this):x(this),null;if((R=$(R,P))===0&&P.ended)return P.length===0&&z(this),null;var O,Y=P.needReadable;return l("need readable",Y),(P.length===0||P.length-R<P.highWaterMark)&&l("length less than watermark",Y=!0),P.ended||P.reading?l("reading or ended",Y=!1):Y&&(l("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(R=$(G,P))),(O=R>0?B(R,P):null)===null?(P.needReadable=!0,R=0):P.length-=R,P.length===0&&(P.ended||(P.needReadable=!0),G!==R&&P.ended&&z(this)),O!==null&&this.emit("data",O),O},y.prototype._read=function(R){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(R,P){var G=this,O=this._readableState;switch(O.pipesCount){case 0:O.pipes=R;break;case 1:O.pipes=[O.pipes,R];break;default:O.pipes.push(R)}O.pipesCount+=1,l("pipe count=%d opts=%j",O.pipesCount,P);var Y=(!P||P.end!==!1)&&R!==u.stdout&&R!==u.stderr?U:Q;function q(V,et){l("onunpipe"),V===G&&et&&et.hasUnpiped===!1&&(et.hasUnpiped=!0,l("cleanup"),R.removeListener("close",F),R.removeListener("finish",W),R.removeListener("drain",L),R.removeListener("error",H),R.removeListener("unpipe",q),G.removeListener("end",U),G.removeListener("end",Q),G.removeListener("data",M),S=!0,!O.awaitDrain||R._writableState&&!R._writableState.needDrain||L())}function U(){l("onend"),R.end()}O.endEmitted?s.nextTick(Y):G.once("end",Y),R.on("unpipe",q);var L=function(V){return function(){var et=V._readableState;l("pipeOnDrain",et.awaitDrain),et.awaitDrain&&et.awaitDrain--,et.awaitDrain===0&&r(V,"data")&&(et.flowing=!0,j(V))}}(G);R.on("drain",L);var S=!1,C=!1;function M(V){l("ondata"),C=!1,R.write(V)!==!1||C||((O.pipesCount===1&&O.pipes===R||O.pipesCount>1&&J(O.pipes,R)!==-1)&&!S&&(l("false write response, pause",G._readableState.awaitDrain),G._readableState.awaitDrain++,C=!0),G.pause())}function H(V){l("onerror",V),Q(),R.removeListener("error",H),r(R,"error")===0&&R.emit("error",V)}function F(){R.removeListener("finish",W),Q()}function W(){l("onfinish"),R.removeListener("close",F),Q()}function Q(){l("unpipe"),G.unpipe(R)}return G.on("data",M),function(V,et,at){if(typeof V.prependListener=="function")return V.prependListener(et,at);V._events&&V._events[et]?i(V._events[et])?V._events[et].unshift(at):V._events[et]=[at,V._events[et]]:V.on(et,at)}(R,"error",H),R.once("close",F),R.once("finish",W),R.emit("pipe",G),O.flowing||(l("pipe resume"),G.resume()),R},y.prototype.unpipe=function(R){var P=this._readableState,G={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return R&&R!==P.pipes?this:(R||(R=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,R&&R.emit("unpipe",this,G),this);if(!R){var O=P.pipes,Y=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var q=0;q<Y;q++)O[q].emit("unpipe",this,G);return this}var U=J(P.pipes,R);return U===-1?this:(P.pipes.splice(U,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),R.emit("unpipe",this,G),this)},y.prototype.on=function(R,P){var G=e.prototype.on.call(this,R,P);if(R==="data")this._readableState.flowing!==!1&&this.resume();else if(R==="readable"){var O=this._readableState;O.endEmitted||O.readableListening||(O.readableListening=O.needReadable=!0,O.emittedReadable=!1,O.reading?O.length&&x(this):s.nextTick(I,this))}return G},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var R=this._readableState;return R.flowing||(l("resume"),R.flowing=!0,function(P,G){G.resumeScheduled||(G.resumeScheduled=!0,s.nextTick(N,P,G))}(this,R)),this},y.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(R){var P=this,G=this._readableState,O=!1;for(var Y in R.on("end",function(){if(l("wrapped end"),G.decoder&&!G.ended){var U=G.decoder.end();U&&U.length&&P.push(U)}P.push(null)}),R.on("data",function(U){l("wrapped data"),G.decoder&&(U=G.decoder.write(U)),(!G.objectMode||U!=null)&&(G.objectMode||U&&U.length)&&(P.push(U)||(O=!0,R.pause()))}),R)this[Y]===void 0&&typeof R[Y]=="function"&&(this[Y]=function(U){return function(){return R[U].apply(R,arguments)}}(Y));for(var q=0;q<p.length;q++)R.on(p[q],this.emit.bind(this,p[q]));return this._read=function(U){l("wrapped _read",U),O&&(O=!1,R.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=B}).call(this,h(4),h(9))},function(D,E,h){(E=D.exports=h(62)).Stream=E,E.Readable=E,E.Writable=h(58),E.Duplex=h(12),E.Transform=h(55),E.PassThrough=h(282)},function(D,E,h){(function(_,u,s){var c=h(65),i=h(8),r=h(63),e=E.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},t=E.IncomingMessage=function(n,o,a,l){var d=this;if(r.Readable.call(d),d._mode=a,d.headers={},d.rawHeaders=[],d.trailers={},d.rawTrailers=[],d.on("end",function(){_.nextTick(function(){d.emit("close")})}),a==="fetch"){if(d._fetchResponse=o,d.url=o.url,d.statusCode=o.status,d.statusMessage=o.statusText,o.headers.forEach(function(y,m){d.headers[m.toLowerCase()]=y,d.rawHeaders.push(m,y)}),c.writableStream){var f=new WritableStream({write:function(y){return new Promise(function(m,b){d._destroyed?b():d.push(new s(y))?m():d._resumeFetch=m})},close:function(){u.clearTimeout(l),d._destroyed||d.push(null)},abort:function(y){d._destroyed||d.emit("error",y)}});try{return void o.body.pipeTo(f).catch(function(y){u.clearTimeout(l),d._destroyed||d.emit("error",y)})}catch{}}var g=o.body.getReader();(function y(){g.read().then(function(m){if(!d._destroyed){if(m.done)return u.clearTimeout(l),void d.push(null);d.push(new s(m.value)),y()}}).catch(function(m){u.clearTimeout(l),d._destroyed||d.emit("error",m)})})()}else if(d._xhr=n,d._pos=0,d.url=n.responseURL,d.statusCode=n.status,d.statusMessage=n.statusText,n.getAllResponseHeaders().split(/\r?\n/).forEach(function(y){var m=y.match(/^([^:]+):\s*(.*)/);if(m){var b=m[1].toLowerCase();b==="set-cookie"?(d.headers[b]===void 0&&(d.headers[b]=[]),d.headers[b].push(m[2])):d.headers[b]!==void 0?d.headers[b]+=", "+m[2]:d.headers[b]=m[2],d.rawHeaders.push(m[1],m[2])}}),d._charset="x-user-defined",!c.overrideMimeType){var p=d.rawHeaders["mime-type"];if(p){var v=p.match(/;\s*charset=([^;])(;|$)/);v&&(d._charset=v[1].toLowerCase())}d._charset||(d._charset="utf-8")}};i(t,r.Readable),t.prototype._read=function(){var n=this._resumeFetch;n&&(this._resumeFetch=null,n())},t.prototype._onXHRProgress=function(){var n=this,o=n._xhr,a=null;switch(n._mode){case"text:vbarray":if(o.readyState!==e.DONE)break;try{a=new u.VBArray(o.responseBody).toArray()}catch{}if(a!==null){n.push(new s(a));break}case"text":try{a=o.responseText}catch{n._mode="text:vbarray";break}if(a.length>n._pos){var l=a.substr(n._pos);if(n._charset==="x-user-defined"){for(var d=new s(l.length),f=0;f<l.length;f++)d[f]=255&l.charCodeAt(f);n.push(d)}else n.push(l,n._charset);n._pos=a.length}break;case"arraybuffer":if(o.readyState!==e.DONE||!o.response)break;a=o.response,n.push(new s(new Uint8Array(a)));break;case"moz-chunked-arraybuffer":if(a=o.response,o.readyState!==e.LOADING||!a)break;n.push(new s(new Uint8Array(a)));break;case"ms-stream":if(a=o.response,o.readyState!==e.LOADING)break;var g=new u.MSStreamReader;g.onprogress=function(){g.result.byteLength>n._pos&&(n.push(new s(new Uint8Array(g.result.slice(n._pos)))),n._pos=g.result.byteLength)},g.onload=function(){n.push(null)},g.readAsArrayBuffer(a)}n._xhr.readyState===e.DONE&&n._mode!=="ms-stream"&&n.push(null)}}).call(this,h(9),h(4),h(13).Buffer)},function(D,E,h){(function(_){E.fetch=e(_.fetch)&&e(_.ReadableStream),E.writableStream=e(_.WritableStream),E.abortController=e(_.AbortController),E.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),E.blobConstructor=!0}catch{}var u;function s(){if(u!==void 0)return u;if(_.XMLHttpRequest){u=new _.XMLHttpRequest;try{u.open("GET",_.XDomainRequest?"/":"https://example.com")}catch{u=null}}else u=null;return u}function c(t){var n=s();if(!n)return!1;try{return n.responseType=t,n.responseType===t}catch{}return!1}var i=_.ArrayBuffer!==void 0,r=i&&e(_.ArrayBuffer.prototype.slice);function e(t){return typeof t=="function"}E.arraybuffer=E.fetch||i&&c("arraybuffer"),E.msstream=!E.fetch&&r&&c("ms-stream"),E.mozchunkedarraybuffer=!E.fetch&&i&&c("moz-chunked-arraybuffer"),E.overrideMimeType=E.fetch||!!s()&&e(s().overrideMimeType),E.vbArray=e(_.VBArray),u=null}).call(this,h(4))},function(D,E,h){(function(_){var u=h(288),s=h(64),c=h(280),i=h(279),r=h(54),e=E;e.request=function(t,n){t=typeof t=="string"?r.parse(t):c(t);var o=_.location.protocol.search(/^https?:$/)===-1?"http:":"",a=t.protocol||o,l=t.hostname||t.host,d=t.port,f=t.path||"/";l&&l.indexOf(":")!==-1&&(l="["+l+"]"),t.url=(l?a+"//"+l:"")+(d?":"+d:"")+f,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var g=new u(t);return n&&g.on("response",n),g},e.get=function(t,n){var o=e.request(t,n);return o.end(),o},e.ClientRequest=u,e.IncomingMessage=s.IncomingMessage,e.Agent=function(){},e.Agent.defaultMaxSockets=4,e.globalAgent=new e.Agent,e.STATUS_CODES=i,e.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,h(4))},function(D,E){var h={}.toString;D.exports=Array.isArray||function(_){return h.call(_)=="[object Array]"}},function(D,E){D.exports=function(h){var _=new RegExp(`<(?:.|
)*?>`,"gm"),u=new RegExp(" +","gm");function s(e){return(e+"").replace(_," ").replace(u," ")}var c=new RegExp("'","gm");function i(e){return(e+"").replace(c,"&#39;")}for(var r in h._waiAria={getAttributeString:function(e){var t=[" "];for(var n in e){var o=i(s(e[n]));t.push(n+"='"+o+"'")}return t.push(" "),t.join(" ")},getTimelineCellAttr:function(e){return h._waiAria.getAttributeString({"aria-label":e})},_taskCommonAttr:function(e,t){e.start_date&&e.end_date&&(t.setAttribute("aria-label",s(h.templates.tooltip_text(e.start_date,e.end_date,e))),e.$dataprocessor_class&&t.setAttribute("aria-busy",!0))},setTaskBarAttr:function(e,t){this._taskCommonAttr(e,t),t.setAttribute("role","img"),!h.isReadonly(e)&&h.config.drag_move&&(e.id!=h.getState("tasksDnd").drag_id?t.setAttribute("aria-grabbed",!1):t.setAttribute("aria-grabbed",!0))},taskRowAttr:function(e,t){this._taskCommonAttr(e,t),!h.isReadonly(e)&&h.config.order_branch&&t.setAttribute("aria-grabbed",!1),t.setAttribute("role","row"),t.setAttribute("aria-selected",h.isSelectedTask(e.id)?"true":"false"),t.setAttribute("aria-level",e.$level+1||1),h.hasChild(e.id)&&t.setAttribute("aria-expanded",e.$open?"true":"false")},linkAttr:function(e,t){var n=h.config.links,o=e.type==n.finish_to_start||e.type==n.start_to_start,a=e.type==n.start_to_start||e.type==n.start_to_finish,l=h.locale.labels.link+" "+h.templates.drag_link(e.source,a,e.target,o);t.setAttribute("role","img"),t.setAttribute("aria-label",s(l)),h.isReadonly(e)&&t.setAttribute("aria-readonly",!0)},gridSeparatorAttr:function(e){e.setAttribute("role","columnheader")},rowResizerAttr:function(e){e.setAttribute("role","row")},lightboxHiddenAttr:function(e){e.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},lightboxAttr:function(e){e.setAttribute("role","dialog"),e.setAttribute("aria-hidden","true"),e.firstChild.setAttribute("role","heading"),e.firstChild.setAttribute("aria-level","1")},lightboxButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":h.locale.labels[e],tabindex:"0"})},lightboxHeader:function(e,t){e.setAttribute("aria-label",t)},lightboxSelectAttrString:function(e){var t="";switch(e){case"%Y":t=h.locale.labels.years;break;case"%m":t=h.locale.labels.months;break;case"%d":t=h.locale.labels.days;break;case"%H:%i":t=h.locale.labels.hours+h.locale.labels.minutes}return h._waiAria.getAttributeString({"aria-label":t})},lightboxDurationInputAttrString:function(e){return this.getAttributeString({"aria-label":h.locale.labels.column_duration,"aria-valuemin":"0",role:"spinbutton"})},inlineEditorAttr:function(e){e.setAttribute("role","row")},gridAttrString:function(){return[" role='treegrid'",h.config.multiselect?"aria-multiselectable='true'":"aria-multiselectable='false'"," "].join(" ")},gridScaleRowAttrString:function(){return"role='row'"},gridScaleCellAttrString:function(e,t){var n="";if(e.name=="add")n=this.getAttributeString({role:"columnheader","aria-label":h.locale.labels.new_task});else{var o={role:"columnheader","aria-label":t};h._sort&&h._sort.name==e.name&&(h._sort.direction=="asc"?o["aria-sort"]="ascending":o["aria-sort"]="descending"),n=this.getAttributeString(o)}return n},gridDataAttrString:function(){return"role='rowgroup'"},reorderMarkerAttr:function(e){e.setAttribute("role","grid"),e.firstChild.removeAttribute("aria-level"),e.firstChild.setAttribute("aria-grabbed","true")},gridCellAttrString:function(e,t,n){var o={role:"gridcell","aria-label":t};return e.editor&&!h.isReadonly(n)||(o["aria-readonly"]=!0),this.getAttributeString(o)},gridAddButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":h.locale.labels.new_task})},messageButtonAttrString:function(e){return"tabindex='0' role='button' aria-label='"+e+"'"},messageInfoAttr:function(e){e.setAttribute("role","alert")},messageModalAttr:function(e,t){e.setAttribute("role","dialog"),t&&e.setAttribute("aria-labelledby",t)},quickInfoAttr:function(e){e.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' aria-level='1' "},quickInfoHeader:function(e,t){e.setAttribute("aria-label",t)},quickInfoButtonAttrString:function(e){return h._waiAria.getAttributeString({role:"button","aria-label":e,tabindex:"0"})},tooltipAttr:function(e){e.setAttribute("role","tooltip")},tooltipVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(e){e.setAttribute("aria-hidden","true")}},h._waiAria)h._waiAria[r]=function(e){return function(){return h.config.wai_aria_attributes?e.apply(this,arguments):""}}(h._waiAria[r])}},function(D,E){D.exports=function(h){h._extend_to_optional=function(_){var u=_,s={render:u.render,focus:u.focus,set_value:function(c,i,r,e){var t=h._resolve_default_mapping(e);if(!r[t.start_date]||t.start_date=="start_date"&&this._isAllowedUnscheduledTask(r)){s.disable(c,e);var n={};for(var o in t)n[t[o]]=r[o];return u.set_value.call(h,c,i,n,e)}return s.enable(c,e),u.set_value.call(h,c,i,r,e)},get_value:function(c,i,r){return r.disabled?{start_date:null}:u.get_value.call(h,c,i,r)},update_block:function(c,i){if(h.callEvent("onSectionToggle",[h._lightbox_id,i]),c.style.display=i.disabled?"none":"block",i.button){var r=c.previousSibling.querySelector(".gantt_custom_button_label"),e=h.locale.labels,t=i.disabled?e[i.name+"_enable_button"]:e[i.name+"_disable_button"];r.innerHTML=t}h.resizeLightbox()},disable:function(c,i){i.disabled=!0,s.update_block(c,i)},enable:function(c,i){i.disabled=!1,s.update_block(c,i)},button_click:function(c,i,r,e){if(h.callEvent("onSectionButton",[h._lightbox_id,r])!==!1){var t=h._get_typed_lightbox_config()[c];t.disabled?s.enable(e,t):s.disable(e,t)}}};return s},h.form_blocks.duration_optional=h._extend_to_optional(h.form_blocks.duration),h.form_blocks.time_optional=h._extend_to_optional(h.form_blocks.time)}},function(D,E,h){var _=h(3);D.exports=function(u){var s=h(18)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){var r=u.config.types,e=u.locale.labels,t=[],n=i.filter||function(l,d){return!r.placeholder||d!==r.placeholder};for(var o in r)n(o,r[o])&&t.push({key:r[o],label:e["type_"+o]});i.options=t;var a=i.onchange;return i.onchange=function(){u.changeLightboxType(this.value),this.value===u.config.types.task&&(u._lightbox_new_type="task"),typeof a=="function"&&a.apply(this,arguments)},s.prototype.render.apply(this,arguments)},c}},function(D,E,h){var _=h(3),u=h(36);D.exports=function(s){var c=h(7)(s);function i(){return c.apply(this,arguments)||this}function r(t){return!t||t===s.config.constraint_types.ASAP||t===s.config.constraint_types.ALAP}function e(t,n){for(var o=r(n),a=0;a<t.length;a++)t[a].disabled=o}return _(i,c),i.prototype.render=function(t){var n=(t.height||30)+"px",o="<div class='gantt_cal_ltext gantt_section_"+t.name+"' style='height:"+n+";'>",a=[];for(var l in s.config.constraint_types)a.push({key:s.config.constraint_types[l],label:s.locale.labels[s.config.constraint_types[l]]});return t.options=t.options||a,o+="<span data-constraint-type-select>"+u.getHtmlSelect(t.options,[{key:"data-type",value:"constraint-type"}])+"</span>",o+="<label data-constraint-time-select>"+(s.locale.labels.constraint_date||"Constraint date")+": "+s.form_blocks.getTimePicker.call(this,t)+"</label>",o+="</div>"},i.prototype.set_value=function(t,n,o,a){var l=t.querySelector("[data-constraint-type-select] select"),d=t.querySelectorAll("[data-constraint-time-select] select"),f=a._time_format_order,g=s._resolve_default_mapping(a);l._eventsInitialized||(l.addEventListener("change",function(y){e(d,y.target.value)}),l._eventsInitialized=!0);var p=o[g.constraint_date]||new Date;s.form_blocks._fill_lightbox_select(d,0,p,f,a);var v=o[g.constraint_type]||s.getConstraintType(o);l.value=v,e(d,v)},i.prototype.get_value=function(t,n,o){var a=t.querySelector("[data-constraint-type-select] select"),l=t.querySelectorAll("[data-constraint-time-select] select"),d=a.value,f=null;return r(d)||(f=s.form_blocks.getTimePickerValue(l,o)),{constraint_type:d,constraint_date:f}},i.prototype.focus=function(t){s._focus(t.querySelector("select"))},i}},function(D,E,h){var _=h(3);D.exports=function(u){var s=h(18)(u);function c(){return s.apply(this,arguments)||this}function i(r,e){var t=[],n=[];e&&(t=u.getTaskByTime(),r.allow_root&&t.unshift({id:u.config.root_id,text:r.root_label||""}),t=function(d,f,g){var p=f.filter||function(){return!0};d=d.slice(0);for(var v=0;v<d.length;v++){var y=d[v];(y.id==g||u.isChildOf(y.id,g)||p(y.id,y)===!1)&&(d.splice(v,1),v--)}return d}(t,r,e),r.sort&&t.sort(r.sort));for(var o=r.template||u.templates.task_text,a=0;a<t.length;a++){var l=o.apply(u,[t[a].start_date,t[a].end_date,t[a]]);l===void 0&&(l=""),n.push({key:t[a].id,label:l})}return r.options=n,r.map_to=r.map_to||"parent",u.form_blocks.select.render.apply(this,arguments)}return _(c,s),c.prototype.render=function(r){return i(r,!1)},c.prototype.set_value=function(r,e,t,n){e===0&&(e="0");var o=document.createElement("div");o.innerHTML=i(n,t.id);var a=o.removeChild(o.firstChild);return r.onselect=null,r.parentNode.replaceChild(a,r),u.form_blocks.select.set_value.apply(u,[a,e,t,n])},c}},function(D,E,h){var _=h(3),u=h(44).default;D.exports=function(s){var c=h(7)(s);function i(){return c.apply(this,arguments)||this}function r(n){return n.formatter||new u}function e(n,o){var a=n.getElementsByTagName("select"),l=o._time_format_order,d=0,f=0;if(s.defined(l[3])){var g=a[l[3]],p=parseInt(g.value,10);isNaN(p)&&g.hasAttribute("data-value")&&(p=parseInt(g.getAttribute("data-value"),10)),d=Math.floor(p/60),f=p%60}return new Date(a[l[2]].value,a[l[1]].value,a[l[0]].value,d,f)}function t(n,o){var a=n.getElementsByTagName("input")[1];return(a=r(o).parse(a.value))&&!window.isNaN(a)||(a=1),a<0&&(a*=-1),a}return _(i,c),i.prototype.render=function(n){var o="<div class='gantt_time_selects'>"+s.form_blocks.getTimePicker.call(this,n)+"</div>",a=" "+s.locale.labels[s.config.duration_unit+"s"]+" ",l=n.single_date?" style='display:none'":"",d=n.readonly?" disabled='disabled'":"",f=s._waiAria.lightboxDurationInputAttrString(n),g="gantt_duration_value";n.formatter&&(a="",g+=" gantt_duration_value_formatted");var p="<div class='gantt_duration' "+l+"><input type='button' class='gantt_duration_dec' value=''"+d+"><input type='text' value='5days' class='"+g+"'"+d+" "+f+"><input type='button' class='gantt_duration_inc' value='+'"+d+">"+a+"<span></span></div>";return"<div style='height:"+(n.height||30)+"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>"+o+" "+p+"</div>"},i.prototype.set_value=function(n,o,a,l){var d,f,g,p,v=n.getElementsByTagName("select"),y=n.getElementsByTagName("input"),m=y[1],b=[y[0],y[2]],k=n.getElementsByTagName("span")[0],$=l._time_format_order;function x(){var T=e.call(s,n,l),A=t.call(s,n,l),I=s.calculateEndDate({start_date:T,duration:A,task:a}),N=s.templates.task_end_date||s.templates.task_date;k.innerHTML=N(I)}function w(T){var A=m.value;A=r(l).parse(A),window.isNaN(A)&&(A=0),(A+=T)<1&&(A=1),m.value=r(l).format(A),x()}b[0].onclick=s.bind(function(){w(-1*s.config.duration_step)},this),b[1].onclick=s.bind(function(){w(1*s.config.duration_step)},this),v[0].onchange=x,v[1].onchange=x,v[2].onchange=x,v[3]&&(v[3].onchange=x),m.onkeydown=s.bind(function(T){var A;return(A=(T=T||window.event).charCode||T.keyCode||T.which)==s.constants.KEY_CODES.DOWN?(w(-1*s.config.duration_step),!1):A==s.constants.KEY_CODES.UP?(w(1*s.config.duration_step),!1):void window.setTimeout(x,1)},this),m.onchange=s.bind(x,this),typeof(d=s._resolve_default_mapping(l))=="string"&&(d={start_date:d}),f=a[d.start_date]||new Date,g=a[d.end_date]||s.calculateEndDate({start_date:f,duration:1,task:a}),p=Math.round(a[d.duration])||s.calculateDuration({start_date:f,end_date:g,task:a}),p=r(l).format(p),s.form_blocks._fill_lightbox_select(v,0,f,$,l),m.value=p,x()},i.prototype.get_value=function(n,o,a){var l=e(n,a),d=t(n,a),f=s.calculateEndDate({start_date:l,duration:d,task:o});return typeof s._resolve_default_mapping(a)=="string"?l:{start_date:l,end_date:f,duration:d}},i.prototype.focus=function(n){s._focus(n.getElementsByTagName("select")[0])},i}},function(D,E,h){var _=h(3);D.exports=function(u){var s=h(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){var r="<div class='gantt_cal_ltext' style='height:"+((i.height||"23")+"px")+";'>";if(i.options&&i.options.length)for(var e=0;e<i.options.length;e++)r+="<label><input type='radio' value='"+i.options[e].key+"' name='"+i.name+"'>"+i.options[e].label+"</label>";return r+="</div>"},c.prototype.set_value=function(i,r,e,t){var n;t.options&&t.options.length&&(n=i.querySelector("input[type=radio][value='"+r+"']")||i.querySelector("input[type=radio][value='"+t.default_value+"']"))&&(!i._dhx_onchange&&t.onchange&&(i.onchange=t.onchange,i._dhx_onchange=!0),n.checked=!0)},c.prototype.get_value=function(i,r){var e=i.querySelector("input[type=radio]:checked");return e?e.value:""},c.prototype.focus=function(i){u._focus(i.querySelector("input[type=radio]"))},c}},function(D,E,h){var _=h(2),u=h(3);D.exports=function(s){var c=h(7)(s);function i(){return c.apply(this,arguments)||this}return u(i,c),i.prototype.render=function(r){var e="<div class='gantt_cal_ltext' style='height:"+((r.height||"23")+"px")+";'>";if(r.options&&r.options.length)for(var t=0;t<r.options.length;t++)e+="<label><input type='checkbox' value='"+r.options[t].key+"' name='"+r.name+"'>"+r.options[t].label+"</label>";else r.single_value=!0,e+="<label><input type='checkbox' name='"+r.name+"'></label>";return e+="</div>"},i.prototype.set_value=function(r,e,t,n){var o=Array.prototype.slice.call(r.querySelectorAll("input[type=checkbox]"));!r._dhx_onchange&&n.onchange&&(r.onchange=n.onchange,r._dhx_onchange=!0),n.single_value?o[0].checked=!!e:_.forEach(o,function(a){a.checked=!!e&&e.indexOf(a.value)>=0})},i.prototype.get_value=function(r,e,t){return t.single_value?r.querySelector("input[type=checkbox]").checked:_.arrayMap(Array.prototype.slice.call(r.querySelectorAll("input[type=checkbox]:checked")),function(n){return n.value})},i.prototype.focus=function(r){s._focus(r.querySelector("input[type=checkbox]"))},i}},function(D,E,h){var _=h(3);D.exports=function(u){var s=h(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){var r=u.form_blocks.getTimePicker.call(this,i),e="<div style='height:"+(i.height||30)+"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>";return e+=r,i.single_date?(r=u.form_blocks.getTimePicker.call(this,i,!0),e+="<span></span>"):e+="<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>",e+=r,e+="</div>"},c.prototype.set_value=function(i,r,e,t){var n=t,o=i.getElementsByTagName("select"),a=t._time_format_order;if(n.auto_end_date)for(var l=function(){g=new Date(o[a[2]].value,o[a[1]].value,o[a[0]].value,0,0),p=u.calculateEndDate({start_date:g,duration:1,task:e}),u.form_blocks._fill_lightbox_select(o,a.size,p,a,n)},d=0;d<4;d++)o[d].onchange=l;var f=u._resolve_default_mapping(t);typeof f=="string"&&(f={start_date:f});var g=e[f.start_date]||new Date,p=e[f.end_date]||u.calculateEndDate({start_date:g,duration:1,task:e});u.form_blocks._fill_lightbox_select(o,0,g,a,n),u.form_blocks._fill_lightbox_select(o,a.size,p,a,n)},c.prototype.get_value=function(i,r,e){var t,n=i.getElementsByTagName("select"),o=e._time_format_order;return t=u.form_blocks.getTimePickerValue(n,e),typeof u._resolve_default_mapping(e)=="string"?t:{start_date:t,end_date:function(a,l,d){var f=u.form_blocks.getTimePickerValue(a,e,l.size);return f<=d&&(e.autofix_end!==!1||e.single_date)?u.date.add(d,u._get_timepicker_step(),"minute"):f}(n,o,t)}},c.prototype.focus=function(i){u._focus(i.getElementsByTagName("select")[0])},c}},function(D,E,h){var _=h(3);D.exports=function(u){var s=h(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){return"<div class='gantt_cal_ltext' style='height:"+((i.height||"130")+"px")+";'><textarea></textarea></div>"},c.prototype.set_value=function(i,r){u.form_blocks.textarea._get_input(i).value=r||""},c.prototype.get_value=function(i){return u.form_blocks.textarea._get_input(i).value},c.prototype.focus=function(i){var r=u.form_blocks.textarea._get_input(i);u._focus(r,!0)},c.prototype._get_input=function(i){return i.querySelector("textarea")},c}},function(D,E,h){var _=h(3);D.exports=function(u){var s=h(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){return"<div class='gantt_cal_ltext gantt_cal_template' style='height:"+((i.height||"30")+"px")+";'></div>"},c.prototype.set_value=function(i,r){i.innerHTML=r||""},c.prototype.get_value=function(i){return i.innerHTML||""},c.prototype.focus=function(){},c}},function(D,E,h){function _(u){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}D.exports=function(u){var s=h(1),c=h(2),i=h(78)(u),r=h(77)(u),e=h(76)(u),t=h(18)(u),n=h(75)(u),o=h(74)(u),a=h(73)(u),l=h(72)(u),d=h(18)(u),f=h(71)(u),g=h(70)(u);function p(y,m){var b,k,$="";for(k=0;k<y.length;k++)b=u.config._migrate_buttons[y[k]]?u.config._migrate_buttons[y[k]]:y[k],$+="<div "+u._waiAria.lightboxButtonAttrString(b)+" class='gantt_btn_set gantt_left_btn_set "+b+"_set'"+(m?" style='float:right;'":"")+"><div dhx_button='1' data-dhx-button='1' class='"+b+"'></div><div>"+u.locale.labels[b]+"</div></div>";return $}function v(y,m,b){var k,$,x,w,T,A,I="";switch(b.timeFormat[m]){case"%Y":for(y._time_format_order[2]=m,y._time_format_order.size++,y.year_range&&(isNaN(y.year_range)?y.year_range.push&&(x=y.year_range[0],w=y.year_range[1]):k=y.year_range),k=k||10,$=$||Math.floor(k/2),x=x||b.date.getFullYear()-$,w=w||u.getState().max_date.getFullYear()+$,T=x;T<w;T++)I+="<option value='"+T+"'>"+T+"</option>";break;case"%m":for(y._time_format_order[1]=m,y._time_format_order.size++,T=0;T<12;T++)I+="<option value='"+T+"'>"+u.locale.date.month_full[T]+"</option>";break;case"%d":for(y._time_format_order[0]=m,y._time_format_order.size++,T=1;T<32;T++)I+="<option value='"+T+"'>"+T+"</option>";break;case"%H:%i":for(y._time_format_order[3]=m,y._time_format_order.size++,T=b.first,A=b.date.getDate(),y._time_values=[];T<b.last;)I+="<option value='"+T+"'>"+u.templates.time_picker(b.date)+"</option>",y._time_values.push(T),b.date.setTime(b.date.valueOf()+60*u._get_timepicker_step()*1e3),T=24*(b.date.getDate()!=A?1:0)*60+60*b.date.getHours()+b.date.getMinutes()}return I}u._lightbox_methods={},u._lightbox_template="<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>",u._lightbox_root=u.$root,u.$services.getService("state").registerProvider("lightbox",function(){return{lightbox:u._lightbox_id}}),u.showLightbox=function(y){if(this.callEvent("onBeforeLightbox",[y])){var m=this.getTask(y),b=this.getLightbox(this.getTaskType(m.type));this._center_lightbox(b),this.showCover(),this._fill_lightbox(y,b),this._waiAria.lightboxVisibleAttr(b),this.callEvent("onLightbox",[y])}},u._get_timepicker_step=function(){if(this.config.round_dnd_dates){var y;if(function(b){var k=b.$ui.getView("timeline");return!(!k||!k.isVisible())}(this)){var m=u.getScale();y=c.getSecondsInUnit(m.unit)*m.step/60}return(!y||y>=1440)&&(y=this.config.time_step),y}return this.config.time_step},u.getLabel=function(y,m){for(var b=this._get_typed_lightbox_config(),k=0;k<b.length;k++)if(b[k].map_to==y){for(var $=b[k].options,x=0;x<$.length;x++)if($[x].key==m)return $[x].label}return""},u.updateCollection=function(y,m){m=m.slice(0);var b=u.serverList(y);if(!b)return!1;b.splice(0,b.length),b.push.apply(b,m||[]),u.resetLightbox()},u.getLightboxType=function(){return this.getTaskType(this._lightbox_type)},u.getLightbox=function(y){var m,b,k,$,x,w="";if(function(){var A=u.config.csp===!0,I=!!window.Sfdc||!!window.$A||window.Aura||"$shadowResolver$"in document.body;u._lightbox_root=A||I?u.$root:document.body}(),y===void 0&&(y=this.getLightboxType()),!this._lightbox||this.getLightboxType()!=this.getTaskType(y)){this._lightbox_type=this.getTaskType(y),m=document.createElement("div"),w="gantt_cal_light",b=this._is_lightbox_timepicker(),(u.config.wide_form||b)&&(w+=" gantt_cal_light_wide"),b&&(u.config.wide_form=!0,w+=" gantt_cal_light_full"),m.className=w,m.style.visibility="hidden",k=this._lightbox_template,k+=p(this.config.buttons_left),k+=p(this.config.buttons_right,!0),m.innerHTML=k,u._waiAria.lightboxAttr(m),u.config.drag_lightbox&&(m.firstChild.onmousedown=u._ready_to_dnd,m.firstChild.onselectstart=function(){return!1},m.firstChild.style.cursor="pointer",u._init_dnd_events()),this._lightbox&&this.resetLightbox(),u._lightbox_root.insertBefore(m,u._lightbox_root.firstChild),this._lightbox=m,$=this._get_typed_lightbox_config(y),k=this._render_sections($);var T=(x=m.querySelector("div.gantt_cal_larea")).style.overflow;x.style.overflow="hidden",x.innerHTML=k,function(A){var I,N,j,B,z,K;for(K=0;K<A.length;K++)I=A[K],j=u._lightbox_root.querySelector("#"+I.id),I.id&&j&&(N=j.querySelector("label"),(B=j.nextSibling)&&(z=B.querySelector("input, select, textarea"))&&(z.id=z.id||"input_"+u.uid(),I.inputId=z.id,N.setAttribute("for",I.inputId)))}($),this.resizeLightbox(),x.style.overflow=T,this._init_lightbox_events(this),m.style.display="none",m.style.visibility="visible"}return this._lightbox},u._render_sections=function(y){for(var m="",b=0;b<y.length;b++){var k=this.form_blocks[y[b].type];if(k){y[b].id="area_"+this.uid();var $=y[b].hidden?" style='display:none'":"",x="";y[b].button&&(x="<div class='gantt_custom_button' data-index='"+b+"'><div class='gantt_custom_button_"+y[b].button+"'></div><div class='gantt_custom_button_label'>"+this.locale.labels["button_"+y[b].button]+"</div></div>"),this.config.wide_form&&(m+="<div class='gantt_wrap_section' "+$+">"),m+="<div id='"+y[b].id+"' class='gantt_cal_lsection'><label>"+x+this.locale.labels["section_"+y[b].name]+"</label></div>"+k.render.call(this,y[b]),m+="</div>"}}return m},u.resizeLightbox=function(){if(this._lightbox){var y=this._lightbox.querySelector(".gantt_cal_larea");y.style.height="0px",y.style.height=y.scrollHeight+"px",this._lightbox.style.height=y.scrollHeight+this.config.lightbox_additional_height+"px",y.style.height=y.scrollHeight+"px"}},u._center_lightbox=function(y){if(y){y.style.display="block";var m=window.pageYOffset||u._lightbox_root.scrollTop||document.documentElement.scrollTop,b=window.pageXOffset||u._lightbox_root.scrollLeft||document.documentElement.scrollLeft,k=window.innerHeight||document.documentElement.clientHeight;y.style.top=m?Math.round(m+Math.max((k-y.offsetHeight)/2,0))+"px":Math.round(Math.max((k-y.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>u._lightbox_root.offsetWidth?y.style.left=Math.round(b+(u._lightbox_root.offsetWidth-y.offsetWidth)/2)+"px":y.style.left=Math.round((u._lightbox_root.offsetWidth-y.offsetWidth)/2)+"px"}},u.showCover=function(){this._cover||(this._cover=document.createElement("DIV"),this._cover.className="gantt_cal_cover",(u._lightbox_root||u.$root).appendChild(this._cover))},u.event(window,"deviceorientation",function(){u.getState().lightbox&&u._center_lightbox(u.getLightbox())}),u._init_lightbox_events=function(){u.lightbox_events={},u.lightbox_events.gantt_save_btn=function(){u._save_lightbox()},u.lightbox_events.gantt_delete_btn=function(){u._lightbox_new_type=null,u.callEvent("onLightboxDelete",[u._lightbox_id])&&(u.isTaskExists(u._lightbox_id)?u.$click.buttons.delete(u._lightbox_id):u.hideLightbox())},u.lightbox_events.gantt_cancel_btn=function(){u._cancel_lightbox()},u.lightbox_events.default=function(y,m){if(m.getAttribute("data-dhx-button"))u.callEvent("onLightboxButton",[m.className,m,y]);else{var b,k,$=s.getClassName(m);if($.indexOf("gantt_custom_button")!=-1)if($.indexOf("gantt_custom_button_")!=-1)for(b=m.parentNode.getAttribute("data-index"),k=m;k&&s.getClassName(k).indexOf("gantt_cal_lsection")==-1;)k=k.parentNode;else b=m.getAttribute("data-index"),k=m.parentNode,m=m.firstChild;var x=u._get_typed_lightbox_config();b&&(b*=1,u.form_blocks[x[1*b].type].button_click(b,m,k,k.nextSibling))}},this.event(u.getLightbox(),"click",function(y){y=y||window.event;var m=s.getTargetNode(y),b=s.getClassName(m);return b||(m=m.previousSibling,b=s.getClassName(m)),m&&b&&b.indexOf("gantt_btn_set")===0&&(m=m.firstChild,b=s.getClassName(m)),!(!m||!b)&&(u.defined(u.lightbox_events[m.className])?u.lightbox_events[m.className]:u.lightbox_events.default)(y,m)}),u.getLightbox().onkeydown=function(y){var m=y||window.event,b=y.target||y.srcElement,k=s.getClassName(b).indexOf("gantt_btn_set")>-1;switch((y||m).keyCode){case u.constants.KEY_CODES.SPACE:if((y||m).shiftKey)return;k&&b.click&&b.click();break;case u.keys.edit_save:if((y||m).shiftKey)return;k&&b.click?b.click():u._save_lightbox();break;case u.keys.edit_cancel:u._cancel_lightbox()}}},u._cancel_lightbox=function(){var y=this.getLightboxValues();this.callEvent("onLightboxCancel",[this._lightbox_id,y.$new]),u.isTaskExists(y.id)&&y.$new&&(this.silent(function(){u.$data.tasksStore.removeItem(y.id),u._update_flags(y.id,null)}),this.refreshData()),this.hideLightbox()},u._save_lightbox=function(){var y=this.getLightboxValues();this.callEvent("onLightboxSave",[this._lightbox_id,y,!!y.$new])&&(u.$data.tasksStore._skipTaskRecalculation="lightbox",y.$new?(delete y.$new,this.addTask(y,y.parent,this.getTaskIndex(y.id))):this.isTaskExists(y.id)&&(this.mixin(this.getTask(y.id),y,!0),this.refreshTask(y.id),this.updateTask(y.id)),u.$data.tasksStore._skipTaskRecalculation=!1,this.refreshData(),this.hideLightbox())},u._resolve_default_mapping=function(y){var m=y.map_to;return{time:!0,time_optional:!0,duration:!0,duration_optional:!0}[y.type]?y.map_to=="auto"?m={start_date:"start_date",end_date:"end_date",duration:"duration"}:typeof y.map_to=="string"&&(m={start_date:y.map_to}):y.type==="constraint"&&(y.map_to&&typeof y.map_to!="string"||(m={constraint_type:"constraint_type",constraint_date:"constraint_date"})),m},u.getLightboxValues=function(){var y={};u.isTaskExists(this._lightbox_id)&&(y=this.mixin({},this.getTask(this._lightbox_id)));for(var m=this._get_typed_lightbox_config(),b=0;b<m.length;b++){var k=u._lightbox_root.querySelector("#"+m[b].id);k=k&&k.nextSibling;var $=this.form_blocks[m[b].type];if($){var x=$.get_value.call(this,k,y,m[b]),w=u._resolve_default_mapping(m[b]);if(typeof w=="string"&&w!="auto")y[w]=x;else if(_(w)=="object")for(var T in w)w[T]&&(y[w[T]]=x[T])}}return u._lightbox_new_type=="task"&&(y.type=u.config.types.task,u._lightbox_new_type=null),y},u.hideLightbox=function(){var y=this.getLightbox();y&&(y.style.display="none"),this._waiAria.lightboxHiddenAttr(y),this._lightbox_id=null,this.hideCover(),this.callEvent("onAfterLightbox",[])},u.hideCover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},u.resetLightbox=function(){u._lightbox&&!u._custom_lightbox&&u._lightbox.parentNode.removeChild(u._lightbox),u._lightbox=null,u.hideCover()},u._set_lightbox_values=function(y,m){var b=y,k=m.getElementsByTagName("span"),$=[];u.templates.lightbox_header?($.push(""),$.push(u.templates.lightbox_header(b.start_date,b.end_date,b)),k[1].innerHTML="",k[2].innerHTML=u.templates.lightbox_header(b.start_date,b.end_date,b)):($.push(this.templates.task_time(b.start_date,b.end_date,b)),$.push(String(this.templates.task_text(b.start_date,b.end_date,b)||"").substr(0,70)),k[1].innerHTML=this.templates.task_time(b.start_date,b.end_date,b),k[2].innerHTML=String(this.templates.task_text(b.start_date,b.end_date,b)||"").substr(0,70)),k[1].innerHTML=$[0],k[2].innerHTML=$[1],u._waiAria.lightboxHeader(m,$.join(" "));for(var x=this._get_typed_lightbox_config(this.getLightboxType()),w=0;w<x.length;w++){var T=x[w];if(this.form_blocks[T.type]){var A=u._lightbox_root.querySelector("#"+T.id).nextSibling,I=this.form_blocks[T.type],N=u._resolve_default_mapping(x[w]),j=this.defined(b[N])?b[N]:T.default_value;I.set_value.call(u,A,j,b,T),T.focus&&I.focus.call(u,A)}}u.isTaskExists(y.id)&&(u._lightbox_id=y.id)},u._fill_lightbox=function(y,m){var b=this.getTask(y);this._set_lightbox_values(b,m)},u.getLightboxSection=function(y){for(var m=this._get_typed_lightbox_config(),b=0;b<m.length&&m[b].name!=y;b++);var k=m[b];if(!k)return null;this._lightbox||this.getLightbox();var $=u._lightbox_root.querySelector("#"+k.id),x=$.nextSibling,w={section:k,header:$,node:x,getValue:function(A){return u.form_blocks[k.type].get_value.call(u,x,A||{},k)},setValue:function(A,I){return u.form_blocks[k.type].set_value.call(u,x,A,I||{},k)}},T=this._lightbox_methods["get_"+k.type+"_control"];return T?T(w):w},u._lightbox_methods.get_template_control=function(y){return y.control=y.node,y},u._lightbox_methods.get_select_control=function(y){return y.control=y.node.getElementsByTagName("select")[0],y},u._lightbox_methods.get_textarea_control=function(y){return y.control=y.node.getElementsByTagName("textarea")[0],y},u._lightbox_methods.get_time_control=function(y){return y.control=y.node.getElementsByTagName("select"),y},u._init_dnd_events=function(){var y=u._lightbox_root;this.event(y,"mousemove",u._move_while_dnd),this.event(y,"mouseup",u._finish_dnd)},u._move_while_dnd=function(y){if(u._dnd_start_lb){document.gantt_unselectable||(u._lightbox_root.className+=" gantt_unselectable",document.gantt_unselectable=!0);var m=u.getLightbox(),b=[y.pageX,y.pageY];m.style.top=u._lb_start[1]+b[1]-u._dnd_start_lb[1]+"px",m.style.left=u._lb_start[0]+b[0]-u._dnd_start_lb[0]+"px"}},u._ready_to_dnd=function(y){var m=u.getLightbox();u._lb_start=[parseInt(m.style.left,10),parseInt(m.style.top,10)],u._dnd_start_lb=[y.pageX,y.pageY]},u._finish_dnd=function(){u._lb_start&&(u._lb_start=u._dnd_start_lb=!1,u._lightbox_root.className=u._lightbox_root.className.replace(" gantt_unselectable",""),document.gantt_unselectable=!1)},u._focus=function(y,m){if(y&&y.focus&&!u.config.touch)try{m&&y.select&&y.select(),y.focus()}catch{}},u.form_blocks={getTimePicker:function(y,m){var b,k,$,x="",w=this.config,T={first:0,last:1440,date:this.date.date_part(new Date(u._min_date.valueOf())),timeFormat:function(A){var I,N,j;return A.time_format?A.time_format:(j=["%d","%m","%Y"],I=u.getScale(),N=I?I.unit:u.config.duration_unit,c.getSecondsInUnit(N)<c.getSecondsInUnit("day")&&j.push("%H:%i"),j)}(y)};for(y._time_format_order={size:0},u.config.limit_time_select&&(T.first=60*w.first_hour,T.last=60*w.last_hour+1,T.date.setHours(w.first_hour)),b=0;b<T.timeFormat.length;b++)b>0&&(x+=" "),(k=v(y,b,T))&&($=u._waiAria.lightboxSelectAttrString(T.timeFormat[b]),x+="<select "+(y.readonly?"disabled='disabled'":"")+(m?" style='display:none' ":"")+$+">"+k+"</select>");return x},getTimePickerValue:function(y,m,b){var k,$=m._time_format_order,x=u.defined($[3]),w=0,T=0,A=b||0;return x&&(k=parseInt(y[$[3]+A].value,10),w=Math.floor(k/60),T=k%60),new Date(y[$[2]+A].value,y[$[1]+A].value,y[$[0]+A].value,w,T)},_fill_lightbox_select:function(y,m,b,k){if(y[m+k[0]].value=b.getDate(),y[m+k[1]].value=b.getMonth(),y[m+k[2]].value=b.getFullYear(),u.defined(k[3])){var $=60*b.getHours()+b.getMinutes();$=Math.round($/u._get_timepicker_step())*u._get_timepicker_step();var x=y[m+k[3]];x.value=$,x.setAttribute("data-value",$)}},template:new i,textarea:new r,select:new t,time:new e,duration:new a,parent:new l,radio:new o,checkbox:new n,resources:new d,constraint:new f,typeselect:new g},u._is_lightbox_timepicker=function(){for(var y=this._get_typed_lightbox_config(),m=0;m<y.length;m++)if(y[m].name=="time"&&y[m].type=="time")return!0;return!1},u._simple_confirm=function(y,m,b,k){if(!y)return b();var $={text:y};m&&($.title=m),k&&($.ok=k),b&&($.callback=function(x){x&&b()}),u.confirm($)},u._get_typed_lightbox_config=function(y){y===void 0&&(y=this.getLightboxType());var m=function(b){for(var k in this.config.types)if(this.config.types[k]==b)return k;return"task"}.call(this,y);return u.config.lightbox[m+"_sections"]?u.config.lightbox[m+"_sections"]:u.config.lightbox.sections},u._silent_redraw_lightbox=function(y){var m=this.getLightboxType();if(this.getState().lightbox){var b=this.getState().lightbox,k=this.getLightboxValues(),$=this.copy(this.getTask(b));this.resetLightbox();var x=this.mixin($,k,!0),w=this.getLightbox(y||void 0);this._center_lightbox(this.getLightbox()),this._set_lightbox_values(x,w),this.showCover()}else this.resetLightbox(),this.getLightbox(y||void 0);this.callEvent("onLightboxChange",[m,this.getLightboxType()])}}},function(D,E){D.exports=function(h){function _(c){var i=c.$config.scrollX?h.$ui.getView(c.$config.scrollX):null,r=c.$config.scrollY?h.$ui.getView(c.$config.scrollY):null,e={x:null,y:null};return i&&i.getScrollState().visible&&(e.x=i.$view.scrollLeft),r&&r.getScrollState().visible&&(e.y=r.$view.scrollTop),e}function u(){var c;return h.$ui.getView("timeline")&&(c=h.$ui.getView("timeline")._tasks_dnd),c}h.config.touch_drag=500,h.config.touch=!0,h.config.touch_feedback=!0,h.config.touch_feedback_duration=1,h._prevent_touch_scroll=!1,h._touch_feedback=function(){h.config.touch_feedback&&navigator.vibrate&&navigator.vibrate(h.config.touch_feedback_duration)},h.attachEvent("onGanttReady",h.bind(function(){if(this.config.touch!="force"&&(this.config.touch=this.config.touch&&(navigator.userAgent.indexOf("Mobile")!=-1||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1||navigator.userAgent.indexOf("Touch")!=-1)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),this.config.touch){var c=!0;try{document.createEvent("TouchEvent")}catch{c=!1}c?this._touch_events(["touchmove","touchstart","touchend"],function(i){return i.touches&&i.touches.length>1?null:i.touches[0]?{target:i.target,pageX:i.touches[0].pageX,pageY:i.touches[0].pageY,clientX:i.touches[0].clientX,clientY:i.touches[0].clientY}:i},function(){return!1}):window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(i){return i.pointerType=="mouse"?null:i},function(i){return!i||i.pointerType=="mouse"}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(i){return i.pointerType==i.MSPOINTER_TYPE_MOUSE?null:i},function(i){return!i||i.pointerType==i.MSPOINTER_TYPE_MOUSE})}},h));var s=[];h._touch_events=function(c,i,r){for(var e,t=0,n=!1,o=!1,a=null,l=null,d=null,f=[],g=null,p=0;p<s.length;p++)h.eventRemove(s[p][0],s[p][1],s[p][2]);for((s=[]).push([h.$container,c[0],function(y){var m=u();if(!r(y)&&n){l&&clearTimeout(l);var b=i(y);if(m&&(m.drag.id||m.drag.start_drag))return m.on_mouse_move(b),y.preventDefault&&y.preventDefault(),y.cancelBubble=!0,!1;if(!h._prevent_touch_scroll){if(b&&a){var k=a.pageX-b.pageX,$=a.pageY-b.pageY;if(!o&&(Math.abs(k)>5||Math.abs($)>5)&&(o=!0,t=0,e=g?_(g):h.getScrollState()),o){var x,w=e.x+k,T=e.y+$;if(g?(function(A,I,N){var j=A.$config.scrollX?h.$ui.getView(A.$config.scrollX):null,B=A.$config.scrollY?h.$ui.getView(A.$config.scrollY):null;j&&j.scrollTo(I,null),B&&B.scrollTo(null,N)}(g,w,T),x=_(g)):(h.scrollTo(w,T),x=h.getScrollState()),e.x!=x.x&&$>2*k||e.y!=x.y&&k>2*$)return v(y)}}return v(y)}return!0}}]),s.push([this.$container,"contextmenu",function(y){if(n)return v(y)}]),s.push([this.$container,c[1],function(y){if(document&&document.body&&document.body.classList.add("gantt_touch_active"),!r(y))if(y.touches&&y.touches.length>1)n=!1;else{a=i(y),g=function(b){for(var k=h.$layout.getCellsByType("viewCell"),$=0;$<k.length;$++){var x=k[$].$view.getBoundingClientRect();if(b.clientX>=x.left&&b.clientX<=x.right&&b.clientY<=x.bottom&&b.clientY>=x.top)return k[$]}}(a),h._locate_css(a,"gantt_hor_scroll")||h._locate_css(a,"gantt_ver_scroll")||(n=!0);var m=u();l=setTimeout(function(){var b=h.locate(a);m&&b&&!h._locate_css(a,"gantt_link_control")&&!h._locate_css(a,"gantt_grid_data")&&(m.on_mouse_down(a),m.drag&&m.drag.start_drag&&(function(k){var $=h._getTaskLayers(),x=h.getTask(k);if(x&&h.isTaskVisible(k)){d=k;for(var w=0;w<$.length;w++)if((x=$[w].rendered[k])&&x.getAttribute(h.config.task_attribute)&&x.getAttribute(h.config.task_attribute)==k){var T=x.cloneNode(!0);f.push(x),$[w].rendered[k]=T,x.style.display="none",T.className+=" gantt_drag_move ",x.parentNode.appendChild(T)}}}(b),m._start_dnd(a),h._touch_drag=!0,h.refreshTask(b),h._touch_feedback())),l=null},h.config.touch_drag)}}]),s.push([this.$container,c[2],function(y){if(document&&document.body&&document.body.classList.remove("gantt_touch_active"),!r(y)){l&&clearTimeout(l),h._touch_drag=!1,n=!1;var m=i(y),b=u();if(b&&b.on_mouse_up(m),d&&h.isTaskExists(d)&&(h.refreshTask(d),f.length&&(f.forEach(function($){$.parentNode&&$.parentNode.removeChild($)}),h._touch_feedback())),n=o=!1,f=[],d=null,a&&t){var k=new Date;k-t<500?(h.$services.getService("mouseEvents").onDoubleClick(a),v(y)):t=k}else t=new Date}}]),p=0;p<s.length;p++)h.event(s[p][0],s[p][1],s[p][2]);function v(y){return y&&y.preventDefault&&y.preventDefault(),y.cancelBubble=!0,!1}}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(11),u=h(5),s=["ctrlKey","altKey","shiftKey","metaKey"],c=[[{unit:"month",date:"%M",step:1},{unit:"day",date:"%d",step:1}],[{unit:"day",date:"%d %M",step:1}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:8}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:1}]],i=function(){function r(e){var t=this;this.zoomIn=function(){var n=t.getCurrentLevel()-1;n<0||t.setLevel(n)},this.zoomOut=function(){var n=t.getCurrentLevel()+1;n>t._levels.length-1||t.setLevel(n)},this.getCurrentLevel=function(){return t._activeLevelIndex},this.getLevels=function(){return t._levels},this.setLevel=function(n){var o=t._getZoomIndexByName(n);o===-1&&t.$gantt.assert(o!==-1,"Invalid zoom level for gantt.ext.zoom.setLevel. "+n+" is not an expected value."),t._setLevel(o,0)},this._getZoomIndexByName=function(n){var o=-1;if(typeof n=="string"){if(!isNaN(Number(n))&&t._levels[Number(n)])o=Number(n);else for(var a=0;a<t._levels.length;a++)if(t._levels[a].name===n){o=a;break}}else o=n;return o},this._getVisibleDate=function(){if(!t.$gantt.$task)return null;var n=t.$gantt.getScrollState().x,o=t.$gantt.$task.offsetWidth;t._visibleDate=t.$gantt.dateFromPos(n+o/2)},this._setLevel=function(n,o){t._activeLevelIndex=n;var a=t.$gantt,l=a.copy(t._levels[t._activeLevelIndex]),d=a.copy(l);if(delete d.name,a.mixin(a.config,d,!0),!!a.$root&&!!a.$task){if(o){var f=t.$gantt.dateFromPos(o+t.$gantt.getScrollState().x);t.$gantt.render();var g=t.$gantt.posFromDate(f);t.$gantt.scrollTo(g-o)}else{var p=t.$gantt.$task.offsetWidth;t._visibleDate||t._getVisibleDate();var v=t._visibleDate;t.$gantt.render(),g=t.$gantt.posFromDate(v),t.$gantt.scrollTo(g-p/2)}t.callEvent("onAfterZoom",[t._activeLevelIndex,l])}},this._attachWheelEvent=function(n){var o,a=_.isFF?"wheel":"mousewheel";(o=typeof n.element=="function"?n.element():n.element)&&t._domEvents.attach(o,a,t.$gantt.bind(function(l){if(this._useKey&&(s.indexOf(this._useKey)<0||!l[this._useKey]))return!1;if(typeof this._handler=="function")return this._handler.apply(this,[l]),!0},t),{passive:!1})},this._defaultHandler=function(n){var o=t.$gantt.$task.getBoundingClientRect().x,a=n.clientX-o,l=!1;(t.$gantt.env.isFF?-40*n.deltaY:n.wheelDelta)>0&&(l=!0),n.preventDefault(),n.stopPropagation(),t._setScaleSettings(l,a)},this._setScaleDates=function(){t._initialStartDate&&t._initialEndDate&&(t.$gantt.config.start_date=t._initialStartDate,t.$gantt.config.end_date=t._initialEndDate)},this.$gantt=e,this._domEvents=this.$gantt._createDomEventScope()}return r.prototype.init=function(e){var t=this;this.$gantt.env.isNode||(this._initialStartDate=e.startDate,this._initialEndDate=e.endDate,this._activeLevelIndex=e.activeLevelIndex?e.activeLevelIndex:0,this._levels=this._mapScales(e.levels||c),this._handler=e.handler||this._defaultHandler,this._minColumnWidth=e.minColumnWidth||60,this._maxColumnWidth=e.maxColumnWidth||240,this._widthStep=e.widthStep||3/8*e.minColumnWidth,this._useKey=e.useKey,this._initialized||(u(this),this.$gantt.attachEvent("onGanttScroll",function(){t._getVisibleDate()})),this._domEvents.detachAll(),e.trigger==="wheel"&&(this.$gantt.$root?this._attachWheelEvent(e):this.$gantt.attachEvent("onGanttReady",function(){t._attachWheelEvent(e)})),this._initialized=!0,this.setLevel(this._activeLevelIndex))},r.prototype._mapScales=function(e){return e.map(function(t){return Array.isArray(t)?{scales:t}:t})},r.prototype._setScaleSettings=function(e,t){e?this._stepUp(t):this._stepDown(t)},r.prototype._stepUp=function(e){if(!(this._activeLevelIndex>=this._levels.length-1)){var t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var n=this.$gantt.config.min_column_width+this._widthStep;n>this._maxColumnWidth&&(n=this._minColumnWidth,t++),this.$gantt.config.min_column_width=n}else t++;this._setLevel(t,e)}},r.prototype._stepDown=function(e){if(!(this._activeLevelIndex<1)){var t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var n=this.$gantt.config.min_column_width-this._widthStep;n<this._minColumnWidth&&(n=this._maxColumnWidth,t--),this.$gantt.config.min_column_width=n}else t--;this._setLevel(t,e)}},r}();E.default=i},function(D,E){window.dhtmlx&&(window.dhtmlx.attaches||(window.dhtmlx.attaches={}),window.dhtmlx.attaches.attachGantt=function(h,_,u){var s=document.createElement("DIV");u=u||window.gantt,s.id="gantt_"+u.uid(),s.style.width="100%",s.style.height="100%",s.cmp="grid",document.body.appendChild(s),this.attachObject(s.id),this.dataType="gantt",this.dataObj=u;var c=this.vs[this.av];return c.grid=u,u.init(s.id,h,_),s.firstChild.style.border="none",c.gridId=s.id,c.gridObj=s,this.vs[this._viewRestore()].grid}),window.dhtmlXCellObject!==void 0&&(window.dhtmlXCellObject.prototype.attachGantt=function(h,_,u){u=u||window.gantt;var s=document.createElement("DIV");return s.id="gantt_"+u.uid(),s.style.width="100%",s.style.height="100%",s.cmp="grid",document.body.appendChild(s),this.attachObject(s.id),this.dataType="gantt",this.dataObj=u,u.init(s.id,h,_),s.firstChild.style.border="none",s=null,this.callEvent("_onContentAttach",[]),this.dataObj}),D.exports=null},function(D,E){function h(_){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}window.jQuery&&function(_){var u=[];_.fn.dhx_gantt=function(s){if(typeof(s=s||{})!="string"){var c=[];return this.each(function(){if(this&&this.getAttribute)if(this.gantt||window.gantt.$root==this)c.push(h(this.gantt)=="object"?this.gantt:window.gantt);else{var i=window.gantt.$container&&window.Gantt?window.Gantt.getGanttInstance():window.gantt;for(var r in s)r!="data"&&(i.config[r]=s[r]);i.init(this),s.data&&i.parse(s.data),c.push(i)}}),c.length===1?c[0]:c}if(u[s])return u[s].apply(this,[]);_.error("Method "+s+" does not exist on jQuery.dhx_gantt")}}(window.jQuery),D.exports=null},function(D,E,h){var _=h(1),u=h(15);D.exports=function(s){var c=50,i=30,r=10,e=50,t=null,n=!1,o=null,a={started:!1},l={};function d(b){return b&&_.isChildOf(b,s.$root)&&b.offsetHeight}function f(){var b=!!document.querySelector(".gantt_drag_marker"),k=!!document.querySelector(".gantt_drag_marker.gantt_grid_resize_area")||!!document.querySelector(".gantt_drag_marker.gantt_row_grid_resize_area"),$=!!document.querySelector(".gantt_link_direction"),x=s.getState(),w=x.autoscroll;return n=b&&!k&&!$,!(!x.drag_mode&&!b||k)||w}function g(b){if(o&&(clearTimeout(o),o=null),b){var k=s.config.autoscroll_speed;k&&k<10&&(k=10),o=setTimeout(function(){t=setInterval(y,k||e)},s.config.autoscroll_delay||r)}}function p(b){b?(g(!0),a.started||(a.x=l.x,a.y=l.y,a.started=!0)):(t&&(clearInterval(t),t=null),g(!1),a.started=!1)}function v(b){var k=f();if(!t&&!o||k||p(!1),!s.config.autoscroll||!k)return!1;l={x:b.clientX,y:b.clientY},b.type=="touchmove"&&(l.x=b.targetTouches[0].clientX,l.y=b.targetTouches[0].clientY),!t&&k&&p(!0)}function y(){if(!f())return p(!1),!1;var b=d(s.$task)?s.$task:d(s.$grid)?s.$grid:s.$root;if(b){var k=!1;[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(P){k=k||!!document.querySelector(P)}),k&&(b=s.$grid);var $=_.getNodePosition(b),x=l.x-$.x,w=l.y-$.y+window.scrollY,T=n?0:m(x,$.width,a.x-$.x),A=m(w,$.height,a.y-$.y+window.scrollY),I=s.getScrollState(),N=I.y,j=I.inner_height,B=I.height,z=I.x,K=I.inner_width,J=I.width;(A&&!j||A<0&&!N||A>0&&N+j>=B+2)&&(A=0),(T&&!K||T<0&&!z||T>0&&z+K>=J)&&(T=0);var R=s.config.autoscroll_step;R&&R<2&&(R=2),T*=R||i,A*=R||i,(T||A)&&function(P,G){var O=s.getScrollState(),Y=null,q=null;P&&(Y=O.x+P,Y=Math.min(O.width,Y),Y=Math.max(0,Y)),G&&(q=O.y+G,q=Math.min(O.height,q),q=Math.max(0,q)),s.scrollTo(Y,q)}(T,A)}}function m(b,k,$){return b-c<0&&b<$?-1:b>k-c&&b>$?1:0}s.attachEvent("onGanttReady",function(){if(!u(s)){var b=_.getRootNode(s.$root)||document.body;s.eventRemove(b,"mousemove",v),s.event(b,"mousemove",v),s.eventRemove(b,"touchmove",v),s.event(b,"touchmove",v),s.eventRemove(b,"pointermove",v),s.event(b,"pointermove",v)}}),s.attachEvent("onDestroy",function(){p(!1)})}},function(D,E,h){D.exports=function(_){_.ext||(_.ext={});for(var u=[h(84),h(83),h(82)],s=0;s<u.length;s++)u[s]&&u[s](_);var c=h(81).default;_.ext.zoom=new c(_)}},function(D,E){D.exports=function(h){h.skins.contrast_white={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(D,E){D.exports=function(h){h.skins.contrast_black={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(D,E){D.exports=function(h){h.skins.material={config:{grid_width:411,row_height:34,task_height_offset:6,scale_height:36,link_line_width:2,link_arrow_size:6,lightbox_additional_height:80},_second_column_width:110,_third_column_width:75,_redefine_lightbox_buttons:{buttons_left:["dhx_delete_btn"],buttons_right:["dhx_save_btn","dhx_cancel_btn"]}},h.attachEvent("onAfterTaskDrag",function(_){var u=h.getTaskNode(_);u&&(u.className+=" gantt_drag_animation",setTimeout(function(){var s=u.className.indexOf(" gantt_drag_animation");s>-1&&(u.className=u.className.slice(0,s))},200))})}},function(D,E){D.exports=function(h){h.skins.broadway={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:1,link_arrow_size:7,lightbox_additional_height:86},_second_column_width:90,_third_column_width:80,_lightbox_template:"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>",_config_buttons_left:{},_config_buttons_right:{gantt_delete_btn:"icon_delete",gantt_save_btn:"icon_save"}}}},function(D,E){D.exports=function(h){h.skins.terrace={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:90,_third_column_width:70}}},function(D,E){D.exports=function(h){h.skins.meadow={config:{grid_width:350,row_height:27,scale_height:30,link_line_width:2,link_arrow_size:6,lightbox_additional_height:72},_second_column_width:95,_third_column_width:80}}},function(D,E){D.exports=function(h){h.skins.skyblue={config:{grid_width:350,row_height:27,scale_height:27,link_line_width:1,link_arrow_size:8,lightbox_additional_height:75},_second_column_width:95,_third_column_width:80}}},function(D,E){function h(_,u){var s=u.skin;if(!s||_)for(var c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var r=c[i].href.match("dhtmlxgantt_([a-z_]+).css");if(r&&(u.skins[r[1]]||!s)){s=r[1];break}}u.skin=s||"terrace";var e=u.skins[u.skin]||u.skins.terrace;(function(o,a,l){for(var d in a)(o[d]===void 0||l)&&(o[d]=a[d])})(u.config,e.config,_);var t=u.getGridColumns();for(t[1]&&!u.defined(t[1].width)&&(t[1].width=e._second_column_width),t[2]&&!u.defined(t[2].width)&&(t[2].width=e._third_column_width),i=0;i<t.length;i++){var n=t[i];n.name=="add"&&(n.width||(n.width=44),u.defined(n.min_width)&&u.defined(n.max_width)||(n.min_width=n.min_width||n.width,n.max_width=n.max_width||n.width),n.min_width&&(n.min_width=+n.min_width),n.max_width&&(n.max_width=+n.max_width),n.width&&(n.width=+n.width,n.width=n.min_width&&n.min_width>n.width?n.min_width:n.width,n.width=n.max_width&&n.max_width<n.width?n.max_width:n.width))}e.config.task_height&&(u.config.task_height=e.config.task_height||"full"),e.config.bar_height&&(u.config.bar_height=e.config.bar_height||"full"),e._lightbox_template&&(u._lightbox_template=e._lightbox_template),e._redefine_lightbox_buttons&&(u.config.buttons_right=e._redefine_lightbox_buttons.buttons_right,u.config.buttons_left=e._redefine_lightbox_buttons.buttons_left),u.resetLightbox()}D.exports=function(_){_.resetSkin||(_.resetSkin=function(){this.skin="",h(!0,this)},_.skins={},_.attachEvent("onGanttLayoutReady",function(){h(!1,this)}))}},function(D,E){D.exports=function(){function h(t){return t.$ui.getView("timeline")}function _(t){return t.$ui.getView("grid")}function u(t){var n=h(t);if(n&&!n.$config.hidden)return n;var o=_(t);return o&&!o.$config.hidden?o:null}function s(t){var n=null,o=!1;return[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(a){o=o||!!document.querySelector(a)}),(n=o?_(t):u(t))?i(t,n,"scrollY"):null}function c(t){var n=u(t);return n&&n.id!="grid"?i(t,n,"scrollX"):null}function i(t,n,o){var a=n.$config[o];return t.$ui.getView(a)}var r="DEFAULT_VALUE";function e(t,n,o,a){var l=t(this);return l&&l.isVisible()?l[n].apply(l,o):a?a():r}return{getColumnIndex:function(t){var n=e.call(this,_,"getColumnIndex",[t]);return n===r?0:n},dateFromPos:function(t){var n=e.call(this,h,"dateFromPos",Array.prototype.slice.call(arguments));return n===r?this.getState().min_date:n},posFromDate:function(t){var n=e.call(this,h,"posFromDate",[t]);return n===r?0:n},getRowTop:function(t){var n=this,o=e.call(n,h,"getRowTop",[t],function(){return e.call(n,_,"getRowTop",[t])});return o===r?0:o},getTaskTop:function(t){var n=this,o=e.call(n,h,"getItemTop",[t],function(){return e.call(n,_,"getItemTop",[t])});return o===r?0:o},getTaskPosition:function(t,n,o){var a=e.call(this,h,"getItemPosition",[t,n,o]);return a===r?{left:0,top:this.getTaskTop(t.id),height:this.getTaskBarHeight(t.id),width:0}:a},getTaskBarHeight:function(t,n){var o=this,a=e.call(o,h,"getBarHeight",[t,n],function(){return e.call(o,_,"getItemHeight",[t])});return a===r?0:a},getTaskHeight:function(t){var n=this,o=e.call(n,h,"getItemHeight",[t],function(){return e.call(n,_,"getItemHeight",[t])});return o===r?0:o},columnIndexByDate:function(t){var n=e.call(this,h,"columnIndexByDate",[t]);return n===r?0:n},roundTaskDates:function(){e.call(this,h,"roundTaskDates",[])},getScale:function(){var t=e.call(this,h,"getScale",[]);return t===r?null:t},getTaskNode:function(t){var n=h(this);if(n&&n.isVisible()){var o=n._taskRenderer.rendered[t];if(!o){var a=n.$config.item_attribute;o=n.$task_bars.querySelector("["+a+"='"+t+"']")}return o||null}return null},getLinkNode:function(t){var n=h(this);return n.isVisible()?n._linkRenderer.rendered[t]:null},scrollTo:function(t,n){var o=s(this),a=c(this),l={position:0},d={position:0};o&&(d=o.getScrollState()),a&&(l=a.getScrollState());var f=a&&1*t==t,g=o&&1*n==n;if(f&&g)for(var p=o._getLinkedViews(),v=a._getLinkedViews(),y=[],m=0;m<p.length;m++)for(var b=0;b<v.length;b++)p[m].$config.id&&v[b].$config.id&&p[m].$config.id===v[b].$config.id&&y.push(p[m].$config.id);f&&(y&&y.forEach(function(x){this.$ui.getView(x).$config.$skipSmartRenderOnScroll=!0}.bind(this)),a.scroll(t),y&&y.forEach(function(x){this.$ui.getView(x).$config.$skipSmartRenderOnScroll=!1}.bind(this))),g&&o.scroll(n);var k={position:0},$={position:0};o&&(k=o.getScrollState()),a&&($=a.getScrollState()),this.callEvent("onGanttScroll",[l.position,d.position,$.position,k.position])},showDate:function(t){var n=this.posFromDate(t),o=Math.max(n-this.config.task_scroll_offset,0);this.scrollTo(o)},showTask:function(t){var n=this.getTaskPosition(this.getTask(t)),o=n.left;this.config.rtl&&(o=n.left+n.width);var a,l=Math.max(o-this.config.task_scroll_offset,0),d=this._scroll_state().y;a=d?n.top-(d-this.getTaskBarHeight(t))/2:n.top,this.scrollTo(l,a);var f=_(this),g=h(this);f&&g&&f.$config.scrollY!=g.$config.scrollY&&i(this,f,"scrollY").scrollTo(null,a)},_scroll_state:function(){var t={x:!1,y:!1,x_pos:0,y_pos:0,scroll_size:this.config.scroll_size+1,x_inner:0,y_inner:0},n=s(this),o=c(this);if(o){var a=o.getScrollState();a.visible&&(t.x=a.size,t.x_inner=a.scrollSize),t.x_pos=a.position||0}if(n){var l=n.getScrollState();l.visible&&(t.y=l.size,t.y_inner=l.scrollSize),t.y_pos=l.position||0}return t},getScrollState:function(){var t=this._scroll_state();return{x:t.x_pos,y:t.y_pos,inner_width:t.x,inner_height:t.y,width:t.x_inner,height:t.y_inner}},getLayoutView:function(t){return this.$ui.getView(t)},scrollLayoutCell:function(t,n,o){var a=this.$ui.getView(t);if(!a)return!1;if(n!==null){var l=this.$ui.getView(a.$config.scrollX);l&&l.scrollTo(n,null)}if(o!==null){var d=this.$ui.getView(a.$config.scrollY);d&&d.scrollTo(null,o)}}}}},function(D,E){D.exports=function(h){delete h.addTaskLayer,delete h.addLinkLayer}},function(D,E,h){var _=h(1),u=function(s){return{getVerticalScrollbar:function(){return s.$ui.getView("scrollVer")},getHorizontalScrollbar:function(){return s.$ui.getView("scrollHor")},_legacyGridResizerClass:function(c){for(var i=c.getCellsByType("resizer"),r=0;r<i.length;r++){var e=i[r],t=!1,n=e.$parent.getPrevSibling(e.$id);if(n&&n.$config&&n.$config.id==="grid")t=!0;else{var o=e.$parent.getNextSibling(e.$id);o&&o.$config&&o.$config.id==="grid"&&(t=!0)}t&&(e.$config.css=(e.$config.css?e.$config.css+" ":"")+"gantt_grid_resize_wrap")}},onCreated:function(c){var i=!0;this._legacyGridResizerClass(c),c.attachEvent("onBeforeResize",function(){var r=s.$ui.getView("timeline");r&&(r.$config.hidden=r.$parent.$config.hidden=!s.config.show_chart);var e=s.$ui.getView("grid");if(e){var t=e._getColsTotalWidth(),n=!s.config.show_grid||!s.config.grid_width||t===0;if(i&&!n&&t!==!1&&(s.config.grid_width=t),e.$config.hidden=e.$parent.$config.hidden=n,!e.$config.hidden){var o=e._getGridWidthLimits();if(o[0]&&s.config.grid_width<o[0]&&(s.config.grid_width=o[0]),o[1]&&s.config.grid_width>o[1]&&(s.config.grid_width=o[1]),r&&s.config.show_chart){if(e.$config.width=s.config.grid_width-1,!e.$config.scrollable&&e.$config.scrollY&&s.$root.offsetWidth){var a=e.$gantt.$layout.$container.offsetWidth,l=s.$ui.getView(e.$config.scrollY).$config.width,d=a-(e.$config.width+l);d<0&&(e.$config.width+=d,s.config.grid_width+=d)}if(i)e.$parent.$config.width=s.config.grid_width,e.$parent.$config.group&&s.$layout._syncCellSizes(e.$parent.$config.group,{value:e.$parent.$config.width,isGravity:!1});else if(r&&!_.isChildOf(r.$task,c.$view)){if(!e.$config.original_grid_width){var f=s.skins[s.skin];f&&f.config&&f.config.grid_width?e.$config.original_grid_width=f.config.grid_width:e.$config.original_grid_width=0}s.config.grid_width=e.$config.original_grid_width,e.$parent.$config.width=s.config.grid_width}else e.$parent._setContentSize(e.$config.width,null),s.$layout._syncCellSizes(e.$parent.$config.group,{value:s.config.grid_width,isGravity:!1})}else r&&_.isChildOf(r.$task,c.$view)&&(e.$config.original_grid_width=s.config.grid_width),i||(e.$parent.$config.width=0)}i=!1}}),this._initScrollStateEvents(c)},_initScrollStateEvents:function(c){s._getVerticalScrollbar=this.getVerticalScrollbar,s._getHorizontalScrollbar=this.getHorizontalScrollbar;var i=this.getVerticalScrollbar(),r=this.getHorizontalScrollbar();i&&i.attachEvent("onScroll",function(e,t,n){var o=s.getScrollState();s.callEvent("onGanttScroll",[o.x,e,o.x,t])}),r&&r.attachEvent("onScroll",function(e,t,n){var o=s.getScrollState();s.callEvent("onGanttScroll",[e,o.y,t,o.y]);var a=s.$ui.getView("grid");a&&a.$grid_data&&!a.$config.scrollable&&(a.$grid_data.style.left=a.$grid.scrollLeft+"px",a.$grid_data.scrollLeft=a.$grid.scrollLeft)}),c.attachEvent("onResize",function(){i&&!s.$scroll_ver&&(s.$scroll_ver=i.$scroll_ver),r&&!s.$scroll_hor&&(s.$scroll_hor=r.$scroll_hor)})},_findGridResizer:function(c,i){for(var r,e=c.getCellsByType("resizer"),t=!0,n=0;n<e.length;n++){var o=e[n];o._getSiblings();var a=o._behind,l=o._front;if(a&&a.$content===i||a.isChild&&a.isChild(i)){r=o,t=!0;break}if(l&&l.$content===i||l.isChild&&l.isChild(i)){r=o,t=!1;break}}return{resizer:r,gridFirst:t}},onInitialized:function(c){var i=s.$ui.getView("grid"),r=this._findGridResizer(c,i);if(r.resizer){var e,t=r.gridFirst,n=r.resizer;if(n.$config.mode!=="x")return;n.attachEvent("onResizeStart",function(o,a){var l=s.$ui.getView("grid"),d=l?l.$parent:null;if(d){var f=l._getGridWidthLimits();l.$config.scrollable||(d.$config.minWidth=f[0]),d.$config.maxWidth=f[1]}return e=t?o:a,s.callEvent("onGridResizeStart",[e])}),n.attachEvent("onResize",function(o,a){var l=t?o:a;return s.callEvent("onGridResize",[e,l])}),n.attachEvent("onResizeEnd",function(o,a,l,d){var f=t?o:a,g=t?l:d,p=s.$ui.getView("grid"),v=p?p.$parent:null;v&&(v.$config.minWidth=void 0);var y=s.callEvent("onGridResizeEnd",[f,g]);return y&&g!==0&&(s.config.grid_width=g),y})}},onDestroyed:function(c){}}};D.exports=u},function(D,E,h){var _=h(1),u=function(s,c){var i,r,e,t,n,o=10,a=18;function l(){return{link_source_id:t,link_target_id:r,link_from_start:n,link_to_start:e,link_landing_area:i}}var d=c.$services,f=d.getService("state"),g=d.getService("dnd");f.registerProvider("linksDnD",l);var p=new g(s.$task_bars,{sensitivity:0,updates_per_second:60,mousemoveContainer:c.$root,selector:".gantt_link_point",preventDefault:!0});function v(x,w,T,A,I){var N=function(z,K,J){var R=K(z),P={x:R.left,y:R.top,width:R.width,height:R.height};if(J.rtl?(P.xEnd=P.x,P.x=P.xEnd+P.width):P.xEnd=P.x+P.width,P.yEnd=P.y+P.height,c.getTaskType(z.type)==c.config.types.milestone){var G=function(O){var Y=s.getBarHeight(O,!0);return Math.round(Math.sqrt(2*Y*Y))-2}(z.id);P.x+=(J.rtl?1:-1)*(G/2),P.xEnd+=(J.rtl?-1:1)*(G/2),P.width=R.xEnd-R.x}return P}(x,function(z){return c.getTaskPosition(z)},A),j={x:N.x,y:N.y};w||(j.x=N.xEnd),j.y+=c.getTaskHeight(x.id)/2;var B=function(z){return c.getTaskType(z.type)==c.config.types.milestone}(x)&&I?2:0;return T=T||0,A.rtl&&(T*=-1),j.x+=(w?-1:1)*T-B,j}function y(x,w){var T=p.getPosition(x),A=function(J){var R=0,P=0;return J&&(R=J.offsetWidth||0,P=J.offsetHeight||0),{width:R,height:P}}(w),I=function(){var J=c.$root;return{right:J.offsetWidth,bottom:J.offsetHeight}}(),N=c.config.tooltip_offset_x||o,j=c.config.tooltip_offset_y||o,B=c.config.scroll_size||a,z=c.$container.getBoundingClientRect().y+window.scrollY,K={y:T.y+j,x:T.x+N,bottom:T.y+A.height+j+B,right:T.x+A.width+N+B};return K.bottom>I.bottom+z&&(K.y=I.bottom+z-A.height-j),K.right>I.right&&(K.x=I.right-A.width-N),K}function m(x){var w=l(),T=["gantt_link_tooltip"];w.link_source_id&&w.link_target_id&&(c.isLinkAllowed(w.link_source_id,w.link_target_id,w.link_from_start,w.link_to_start)?T.push("gantt_allowed_link"):T.push("gantt_invalid_link"));var A=c.templates.drag_link_class(w.link_source_id,w.link_from_start,w.link_target_id,w.link_to_start);A&&T.push(A);var I="<div class='"+A+"'>"+c.templates.drag_link(w.link_source_id,w.link_from_start,w.link_target_id,w.link_to_start)+"</div>";x.innerHTML=I}function b(){t=n=r=null,e=!0}function k(x,w,T,A){var I=function(){return p._direction&&p._direction.parentNode||(p._direction=document.createElement("div"),s.$task_links.appendChild(p._direction)),p._direction}(),N=l(),j=["gantt_link_direction"];c.templates.link_direction_class&&j.push(c.templates.link_direction_class(N.link_source_id,N.link_from_start,N.link_target_id,N.link_to_start));var B=Math.sqrt(Math.pow(T-x,2)+Math.pow(A-w,2));if(B=Math.max(0,B-3)){I.className=j.join(" ");var z=(A-w)/(T-x),K=Math.atan(z);$(x,T,w,A)==2?K+=Math.PI:$(x,T,w,A)==3&&(K-=Math.PI);var J=Math.sin(K),R=Math.cos(K),P=Math.round(w),G=Math.round(x),O=["-webkit-transform: rotate("+K+"rad)","-moz-transform: rotate("+K+"rad)","-ms-transform: rotate("+K+"rad)","-o-transform: rotate("+K+"rad)","transform: rotate("+K+"rad)","width:"+Math.round(B)+"px"];if(window.navigator.userAgent.indexOf("MSIE 8.0")!=-1){O.push('-ms-filter: "'+function(U,L){return"progid:DXImageTransform.Microsoft.Matrix(M11 = "+L+",M12 = -"+U+",M21 = "+U+",M22 = "+L+",SizingMethod = 'auto expand')"}(J,R)+'"');var Y=Math.abs(Math.round(x-T)),q=Math.abs(Math.round(A-w));switch($(x,T,w,A)){case 1:P-=q;break;case 2:G-=Y,P-=q;break;case 3:G-=Y}}O.push("top:"+P+"px"),O.push("left:"+G+"px"),I.style.cssText=O.join(";")}}function $(x,w,T,A){return w>=x?A<=T?1:4:A<=T?2:3}p.attachEvent("onBeforeDragStart",c.bind(function(x,w){var T=w.target||w.srcElement;if(b(),c.getState("tasksDnd").drag_id)return!1;if(_.locateClassName(T,"gantt_link_point")){_.locateClassName(T,"task_start_date")&&(n=!0);var A=c.locate(w);t=A;var I=c.getTask(A);return c.isReadonly(I)?(b(),!1):(this._dir_start=v(I,!!n,0,s.$getConfig(),!0),!0)}return!1},this)),p.attachEvent("onAfterDragStart",c.bind(function(x,w){c.config.touch&&c.refreshData(),m(p.config.marker)},this)),p.attachEvent("onDragMove",c.bind(function(x,w){var T=p.config,A=y(w,T.marker);(function(q,U){q.style.left=U.x+"px",q.style.top=U.y+"px"})(T.marker,A);var I=!!_.locateClassName(w,"gantt_link_control"),N=r,j=i,B=e,z=c.locate(w),K=!0,J=_.getTargetNode(w);if(_.isChildOf(J,c.$root)||(I=!1,z=null),I&&(K=!_.locateClassName(w,"task_end_date"),I=!!z),r=z,i=I,e=K,I){var R=c.getTask(z),P=s.$getConfig(),G=_.locateClassName(w,"gantt_link_control"),O=0;G&&(O=Math.floor(G.offsetWidth/2)),this._dir_end=v(R,!!e,O,P)}else this._dir_end=_.getRelativeEventPosition(w,s.$task_data),c.env.isEdge&&(this._dir_end.y+=window.scrollY);var Y=!(j==I&&N==z&&B==K);return Y&&(N&&c.refreshTask(N,!1),z&&c.refreshTask(z,!1)),Y&&m(T.marker),k(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y),!0},this)),p.attachEvent("onDragEnd",c.bind(function(){var x=l();if(x.link_source_id&&x.link_target_id&&x.link_source_id!=x.link_target_id){var w=c._get_link_type(x.link_from_start,x.link_to_start),T={source:x.link_source_id,target:x.link_target_id,type:w};T.type&&c.isLinkAllowed(T)&&c.callEvent("onLinkCreated",[T])&&c.addLink(T)}b(),c.config.touch?c.refreshData():(x.link_source_id&&c.refreshTask(x.link_source_id,!1),x.link_target_id&&c.refreshTask(x.link_target_id,!1)),p._direction&&(p._direction.parentNode&&p._direction.parentNode.removeChild(p._direction),p._direction=null)},this)),c.attachEvent("onGanttRender",c.bind(function(){p._direction&&k(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y)},this))};D.exports={createLinkDND:function(){return{init:u}}}},function(D,E,h){var _=h(1),u=h(0),s=h(50),c=h(2);D.exports={createTaskDND:function(){var i;return{extend:function(r){r.roundTaskDates=function(e){i.round_task_dates(e)}},init:function(r,e){return i=function(t,n){var o=n.$services;return{drag:null,dragMultiple:{},_events:{before_start:{},before_finish:{},after_finish:{}},_handlers:{},init:function(){this._domEvents=n._createDomEventScope(),this.clear_drag_state();var a=n.config.drag_mode;this.set_actions(),o.getService("state").registerProvider("tasksDnd",u.bind(function(){return{drag_id:this.drag?this.drag.id:void 0,drag_mode:this.drag?this.drag.mode:void 0,drag_from_start:this.drag?this.drag.left:void 0}},this));var l={before_start:"onBeforeTaskDrag",before_finish:"onBeforeTaskChanged",after_finish:"onAfterTaskDrag"};for(var d in this._events)for(var f in a)this._events[d][f]=l[d];this._handlers[a.move]=this._move,this._handlers[a.resize]=this._resize,this._handlers[a.progress]=this._resize_progress},set_actions:function(){var a=t.$task_data;this._domEvents.attach(a,"mousemove",n.bind(function(l){this.on_mouse_move(l)},this)),this._domEvents.attach(a,"mousedown",n.bind(function(l){this.on_mouse_down(l)},this)),this._domEvents.attach(document.body,"mouseup",n.bind(function(l){this.on_mouse_up(l)},this))},clear_drag_state:function(){this.drag={id:null,mode:null,pos:null,start_x:null,start_y:null,obj:null,left:null},this.dragMultiple={}},_resize:function(a,l,d){var f=t.$getConfig(),g=this._drag_task_coords(a,d);d.left?(a.start_date=n.dateFromPos(g.start+l),a.start_date||(a.start_date=new Date(n.getState().min_date))):(a.end_date=n.dateFromPos(g.end+l),a.end_date||(a.end_date=new Date(n.getState().max_date)));var p=this._calculateMinDuration(f.min_duration,f.duration_unit);a.end_date-a.start_date<f.min_duration&&(d.left?a.start_date=n.calculateEndDate(a.end_date,-p,f.duration_unit,a):a.end_date=n.calculateEndDate(a.start_date,p,f.duration_unit,a)),n._init_task_timing(a)},_calculateMinDuration:function(a,l){return Math.ceil(a/{minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:31356e6}[l])},_resize_progress:function(a,l,d){var f=this._drag_task_coords(a,d),g=t.$getConfig().rtl?f.start-d.pos.x:d.pos.x-f.start,p=Math.max(0,g);a.progress=Math.min(1,p/Math.abs(f.end-f.start))},_find_max_shift:function(a,l){var d;for(var f in a){var g=a[f],p=n.getTask(g.id),v=this._drag_task_coords(p,g),y=n.posFromDate(new Date(n.getState().min_date)),m=n.posFromDate(new Date(n.getState().max_date));if(v.end+l>m){var b=m-v.end;(b<d||d===void 0)&&(d=b)}else if(v.start+l<y){var k=y-v.start;(k>d||d===void 0)&&(d=k)}}return d},_move:function(a,l,d,f){var g=this._drag_task_coords(a,d),p=null,v=null;f?(p=new Date(+d.obj.start_date+f),v=new Date(+d.obj.end_date+f)):(p=n.dateFromPos(g.start+l),v=n.dateFromPos(g.end+l)),p?v?(a.start_date=p,a.end_date=v):(a.end_date=new Date(n.getState().max_date),a.start_date=n.dateFromPos(n.posFromDate(a.end_date)-(g.end-g.start))):(a.start_date=new Date(n.getState().min_date),a.end_date=n.dateFromPos(n.posFromDate(a.start_date)+(g.end-g.start)))},_drag_task_coords:function(a,l){return{start:l.obj_s_x=l.obj_s_x||n.posFromDate(a.start_date),end:l.obj_e_x=l.obj_e_x||n.posFromDate(a.end_date)}},_mouse_position_change:function(a,l){var d=a.x-l.x,f=a.y-l.y;return Math.sqrt(d*d+f*f)},_is_number:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},on_mouse_move:function(a){if(this.drag.start_drag){var l=_.getRelativeEventPosition(a,n.$task_data),d=this.drag.start_drag.start_x,f=this.drag.start_drag.start_y;(Date.now()-this.drag.timestamp>50||this._is_number(d)&&this._is_number(f)&&this._mouse_position_change({x:d,y:f},l)>20)&&this._start_dnd(a)}if(this.drag.mode){if(!s(this,40))return;this._update_on_move(a)}},_update_item_on_move:function(a,l,d,f,g,p){var v=n.getTask(l),y=n.mixin({},v),m=n.mixin({},v);this._handlers[d].apply(this,[m,a,f,p]),n.mixin(v,m,!0),n.callEvent("onTaskDrag",[v.id,d,m,y,g]),n.mixin(v,m,!0),n.refreshTask(l)},_update_on_move:function(a){var l=this.drag,d=t.$getConfig();if(l.mode){var f=_.getRelativeEventPosition(a,t.$task_data);if(l.pos&&l.pos.x==f.x)return;l.pos=f;var g=n.dateFromPos(f.x);if(!g||isNaN(g.getTime()))return;var p=f.x-l.start_x,v=n.getTask(l.id);if(this._handlers[l.mode]){if(l.mode===d.drag_mode.move){var y={};this._isMultiselect()&&n.getSelectedTasks().indexOf(l.id)>=0&&(y=this.dragMultiple);var m=!1;if(n.isSummaryTask(v)&&n.config.drag_project){var b={};b[l.id]=u.copy(l),m=!0,y=u.mixin(b,this.dragMultiple)}var k=this._find_max_shift(y,p);for(var $ in k!==void 0&&(p=k),this._update_item_on_move(p,l.id,l.mode,l,a),y){var x=y[$];if(m&&x.id!=l.id&&(n._bulk_dnd=!0),k===void 0&&(m||Object.keys(y).length>1))var w=g-n.dateFromPos(l.start_x);this._update_item_on_move(p,x.id,x.mode,x,a,w)}n._bulk_dnd=!1}else this._update_item_on_move(p,l.id,l.mode,l,a);n._update_parents(l.id)}}},on_mouse_down:function(a,l){if(a.button!=2||a.button===void 0){var d=t.$getConfig(),f=n.locate(a),g=null;if(n.isTaskExists(f)&&(g=n.getTask(f)),!n.isReadonly(g)&&!this.drag.mode){this.clear_drag_state(),l=l||a.target||a.srcElement;var p=_.getClassName(l),v=this._get_drag_mode(p,l);if(!p||!v)return l.parentNode?this.on_mouse_down(a,l.parentNode):void 0;if(v)if(v.mode&&v.mode!=d.drag_mode.ignore&&d["drag_"+v.mode]){if(f=n.locate(l),g=n.copy(n.getTask(f)||{}),n.isReadonly(g))return this.clear_drag_state(),!1;if(n.isSummaryTask(g)&&!d.drag_project&&v.mode!=d.drag_mode.progress)return void this.clear_drag_state();v.id=f;var y=_.getRelativeEventPosition(a,n.$task_data);v.start_x=y.x,v.start_y=y.y,v.obj=g,this.drag.start_drag=v,this.drag.timestamp=Date.now()}else this.clear_drag_state();else if(n.checkEvent("onMouseDown")&&n.callEvent("onMouseDown",[p.split(" ")[0]])&&l.parentNode)return this.on_mouse_down(a,l.parentNode)}}},_fix_dnd_scale_time:function(a,l){var d=t.$getConfig(),f=n.getScale().unit,g=n.getScale().step;function p(v){if(n.config.correct_work_time){var y=t.$getConfig();n.isWorkTime(v.start_date,void 0,v)||(v.start_date=n.calculateEndDate({start_date:v.start_date,duration:-1,unit:y.duration_unit,task:v}))}}d.round_dnd_dates||(f="minute",g=d.time_step),l.mode==d.drag_mode.resize?l.left?(a.start_date=n.roundDate({date:a.start_date,unit:f,step:g}),p(a)):(a.end_date=n.roundDate({date:a.end_date,unit:f,step:g}),function(v){if(n.config.correct_work_time){var y=t.$getConfig();n.isWorkTime(new Date(v.end_date-1),void 0,v)||(v.end_date=n.calculateEndDate({start_date:v.end_date,duration:1,unit:y.duration_unit,task:v}))}}(a)):l.mode==d.drag_mode.move&&(a.start_date=n.roundDate({date:a.start_date,unit:f,step:g}),p(a),a.end_date=n.calculateEndDate(a))},_fix_working_times:function(a,l){var d=t.$getConfig();(l=l||{mode:d.drag_mode.move}).mode==d.drag_mode.resize?l.left?a.start_date=n.getClosestWorkTime({date:a.start_date,dir:"future",task:a}):a.end_date=n.getClosestWorkTime({date:a.end_date,dir:"past",task:a}):l.mode==d.drag_mode.move&&n.correctTaskWorkTime(a)},_finalize_mouse_up:function(a,l,d,f){var g=n.getTask(a);if(l.work_time&&l.correct_work_time&&this._fix_working_times(g,d),this._fix_dnd_scale_time(g,d),this._fireEvent("before_finish",d.mode,[a,d.mode,n.copy(d.obj),f])){var p=a;n._init_task_timing(g),this.clear_drag_state(),n.updateTask(g.id),this._fireEvent("after_finish",d.mode,[p,d.mode,f])}else this.clear_drag_state(),a==d.id&&(d.obj._dhx_changed=!1,n.mixin(g,d.obj,!0)),n.refreshTask(g.id)},on_mouse_up:function(a){var l=this.drag;if(l.mode&&l.id){var d=t.$getConfig(),f=n.getTask(l.id),g=this.dragMultiple,p=!1,v=0;l.mode===d.drag_mode.move&&(n.isSummaryTask(f)&&d.drag_project||this._isMultiselect())&&(p=!0,v=Object.keys(g).length);var y=function(){if(p)for(var m in g)this._finalize_mouse_up(g[m].id,d,g[m],a);this._finalize_mouse_up(l.id,d,l,a)};p&&v>10?n.batchUpdate(function(){y.call(this)}.bind(this)):y.call(this)}this.clear_drag_state()},_get_drag_mode:function(a,l){var d=t.$getConfig().drag_mode,f={mode:null,left:null};switch((a||"").split(" ")[0]){case"gantt_task_line":case"gantt_task_content":f.mode=d.move;break;case"gantt_task_drag":f.mode=d.resize;var g=l.getAttribute("data-bind-property");f.left=g=="start_date";break;case"gantt_task_progress_drag":f.mode=d.progress;break;case"gantt_link_control":case"gantt_link_point":f.mode=d.ignore;break;default:f=null}return f},_start_dnd:function(a){var l=this.drag=this.drag.start_drag;delete l.start_drag;var d=t.$getConfig(),f=l.id;if(d["drag_"+l.mode]&&n.callEvent("onBeforeDrag",[f,l.mode,a])&&this._fireEvent("before_start",l.mode,[f,l.mode,a])){delete l.start_drag;var g=n.getTask(f);if(n.isReadonly(g))return void this.clear_drag_state();if(this._isMultiselect()){var p=n.getSelectedTasks();p.indexOf(l.id)>=0&&c.forEach(p,n.bind(function(v){var y=n.getTask(v);n.isSummaryTask(y)&&n.config.drag_project&&l.mode==d.drag_mode.move&&this._addSubtasksToDragMultiple(y.id),this.dragMultiple[v]=n.mixin({id:y.id,obj:n.copy(y)},this.drag)},this))}n.isSummaryTask(g)&&n.config.drag_project&&l.mode==d.drag_mode.move&&this._addSubtasksToDragMultiple(g.id),n.callEvent("onTaskDragStart",[])}else this.clear_drag_state()},_fireEvent:function(a,l,d){n.assert(this._events[a],"Invalid stage:{"+a+"}");var f=this._events[a][l];return n.assert(f,"Unknown after drop mode:{"+l+"}"),n.assert(d,"Invalid event arguments"),!n.checkEvent(f)||n.callEvent(f,d)},round_task_dates:function(a){var l=this.drag,d=t.$getConfig();l||(l={mode:d.drag_mode.move}),this._fix_dnd_scale_time(a,l)},destructor:function(){this._domEvents.detachAll()},_isMultiselect:function(){return n.config.drag_multiple&&!!(n.getSelectedTasks&&n.getSelectedTasks().length>0)},_addSubtasksToDragMultiple:function(a){n.eachTask(function(l){this.dragMultiple[l.id]=n.mixin({id:l.id,obj:n.copy(l)},this.drag)},a,this)}}}(r,e),r._tasks_dnd=i,i.init(e)},destructor:function(){i&&(i.destructor(),i=null)}}}}},function(D,E,h){var _=h(0),u=h(98),s=h(97),c=h(1),i=function(r){var e=r.$services;return{onCreated:function(t){var n=t.$config;n.bind=_.defined(n.bind)?n.bind:"task",n.bindLinks=_.defined(n.bindLinks)?n.bindLinks:"link",t._linksDnD=s.createLinkDND(),t._tasksDnD=u.createTaskDND(),t._tasksDnD.extend(t),this._mouseDelegates=h(31)(r)},onInitialized:function(t){this._attachDomEvents(r),this._attachStateProvider(r,t),t._tasksDnD.init(t,r),t._linksDnD.init(t,r),t.$config.id=="timeline"&&this.extendDom(t)},onDestroyed:function(t){this._clearDomEvents(r),this._clearStateProvider(r),t._tasksDnD&&t._tasksDnD.destructor()},extendDom:function(t){r.$task=t.$task,r.$task_scale=t.$task_scale,r.$task_data=t.$task_data,r.$task_bg=t.$task_bg,r.$task_links=t.$task_links,r.$task_bars=t.$task_bars},_clearDomEvents:function(){this._mouseDelegates.destructor(),this._mouseDelegates=null},_attachDomEvents:function(t){function n(o,a){if(o&&this.callEvent("onLinkDblClick",[o,a])){var l=this.getLink(o);if(this.isReadonly(l))return;var d=this.locale.labels.link+" "+this.templates.link_description(this.getLink(o))+" "+this.locale.labels.confirm_link_deleting;window.setTimeout(function(){t._simple_confirm(d,"",function(){t.deleteLink(o)})},this.config.touch?300:1)}}this._mouseDelegates.delegate("click","gantt_task_link",t.bind(function(o,a){var l=this.locate(o,this.config.link_attribute);l&&this.callEvent("onLinkClick",[l,o])},t),this.$task),this._mouseDelegates.delegate("click","gantt_scale_cell",t.bind(function(o,a){var l=c.getRelativeEventPosition(o,t.$task_data),d=t.dateFromPos(l.x),f=Math.floor(t.columnIndexByDate(d)),g=t.getScale().trace_x[f];t.callEvent("onScaleClick",[o,g])},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_task_link",t.bind(function(o,a,l){a=this.locate(o,t.config.link_attribute),n.call(this,a,o)},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_link_point",t.bind(function(o,a,l){a=this.locate(o);var d=this.getTask(a),f=null;return l.parentNode&&c.getClassName(l.parentNode)&&(f=c.getClassName(l.parentNode).indexOf("_left")>-1?d.$target[0]:d.$source[0]),f&&n.call(this,f,o),!1},t),this.$task)},_attachStateProvider:function(t,n){var o=n;e.getService("state").registerProvider("tasksTimeline",function(){return{scale_unit:o._tasks?o._tasks.unit:void 0,scale_step:o._tasks?o._tasks.step:void 0}})},_clearStateProvider:function(){e.getService("state").unregisterProvider("tasksTimeline")}}};D.exports=i},function(D,E,h){var _=h(1);function u(c,i){var r=_.getNodePosition(i.$grid_data);return c.x+=r.x+i.$grid.scrollLeft,c.y+=r.y-i.$grid_data.scrollTop,c}function s(c,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,e=_.getNodePosition(c.$root);return i>e.width&&(i=e.width-r-2),i}D.exports={removeLineHighlight:function(c){c.markerLine&&c.markerLine.parentNode&&c.markerLine.parentNode.removeChild(c.markerLine),c.markerLine=null},highlightPosition:function(c,i,r){var e=function(n,o){var a=_.getNodePosition(o.$grid_data),l=_.getRelativeEventPosition(n,o.$grid_data),d=a.x+o.$grid.scrollLeft,f=l.y-10,g=o.getItemHeight(n.targetId);f<a.y&&(f=a.y);var p=o.getTotalHeight();return f>a.y+p-g&&(f=a.y+p-g),a.x=d,a.y=f,a.width=s(o.$gantt,a.width,9),a}(c,r);i.marker.style.left=e.x+9+"px",i.marker.style.width=e.width+"px",i.marker.style.overflow="hidden";var t=i.markerLine;t||((t=document.createElement("div")).className="gantt_drag_marker gantt_grid_dnd_marker",t.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",t.style.pointerEvents="none"),c.child?function(n,o,a){var l=n.targetParent,d=u({x:0,y:a.getItemTop(l)},a),f=a.$grid_data.getBoundingClientRect().bottom+window.scrollY,g=s(a.$gantt,a.$grid_data.offsetWidth);o.innerHTML="<div class='gantt_grid_dnd_marker_folder'></div>",o.style.width=g+"px",o.style.top=d.y+"px",o.style.left=d.x+"px",o.style.height=a.getItemHeight(l)+"px",d.y>f&&(o.style.top=f+"px")}(c,t,r):function(n,o,a){var l=function(g,p){var v=p.$config.rowStore,y={x:0,y:0},m=p.$grid_data.querySelector(".gantt_tree_indent"),b=15,k=0;if(m&&(b=m.offsetWidth),g.targetId!==v.$getRootId()){var $=p.getItemTop(g.targetId),x=p.getItemHeight(g.targetId);if(k=v.exists(g.targetId)?v.calculateItemLevel(v.getItem(g.targetId)):0,g.prevSibling)y.y=$;else if(g.nextSibling){var w=0;v.eachItem(function(T){v.getIndexById(T.id)!==-1&&w++},g.targetId),y.y=$+x+w*x}else y.y=$+x,k+=1}return y.x=40+k*b,y.width=s(p.$gantt,Math.max(p.$grid_data.offsetWidth-y.x,0),y.x),u(y,p)}(n,a),d=a.$grid_data.getBoundingClientRect().bottom+window.scrollY;o.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",o.style.left=l.x+"px",o.style.height="4px";var f=l.y-2;o.style.top=f+"px",o.style.width=l.width+"px",f>d&&(o.style.top=d+"px")}(c,t,r),i.markerLine||(document.body.appendChild(t),i.markerLine=t)}}},function(D,E,h){var _=h(24);D.exports=function(u,s,c,i,r){var e;if(s!==r.$getRootId())e=c<.25?_.prevSiblingTarget(u,s,r):!(c>.6)||r.hasChild(s)&&r.getItem(s).$open?_.firstChildTarget(u,s,r):_.nextSiblingTarget(u,s,r);else{var t=r.$getRootId();e=r.hasChild(t)&&i>=0?_.lastChildTarget(u,t,r):_.firstChildTarget(u,t,r)}return e}},function(D,E,h){var _=h(24);function u(i,r,e,t,n){for(var o=r;t.exists(o);){var a=t.calculateItemLevel(t.getItem(o));if((a===e||a===e-1)&&t.getBranchIndex(o)>-1)break;o=n?t.getPrev(o):t.getNext(o)}return t.exists(o)?t.calculateItemLevel(t.getItem(o))===e?n?_.nextSiblingTarget(i,o,t):_.prevSiblingTarget(i,o,t):_.firstChildTarget(i,o,t):null}function s(i,r,e,t){return u(i,r,e,t,!0)}function c(i,r,e,t){return u(i,r,e,t,!1)}D.exports=function(i,r,e,t,n,o){var a;if(r!==n.$getRootId()){var l=n.getItem(r),d=n.calculateItemLevel(l);if(d===o){var f=n.getPrevSibling(r);e<.5&&!f?a=_.prevSiblingTarget(i,r,n):(e<.5&&(r=f),a=_.nextSiblingTarget(i,r,n))}else if(d>o)n.eachParent(function(m){n.calculateItemLevel(m)===o&&(r=m.id)},l),a=s(i,r,o,n);else{var g=s(i,r,o,n),p=c(i,r,o,n);a=e<.5?g:p}}else{var v=n.$getRootId(),y=n.getChildren(v);a=_.createDropTargetObject(),a=y.length&&t>=0?s(i,function(m){for(var b=m.getNext();m.exists(b);){var k=m.getNext(b);if(!m.exists(k))return b;b=k}return null}(n),o,n):c(i,v,o,n)}return a}},function(D,E,h){var _=h(1),u=h(24),s=h(102),c=h(101),i=h(100),r=h(16);D.exports={init:function(e,t){var n=e.$services.getService("dnd");if(t.$config.bind&&e.getDatastore(t.$config.bind)){var o=new n(t.$grid_data,{updates_per_second:60});e.defined(t.$getConfig().dnd_sensitivity)&&(o.config.sensitivity=t.$getConfig().dnd_sensitivity),o.attachEvent("onBeforeDragStart",e.bind(function(f,g){var p=a(g);if(!p||(e.hideQuickInfo&&e._hideQuickInfo(),_.closest(g.target,".gantt_grid_editor_placeholder")))return!1;var v=p.getAttribute(t.$config.item_attribute),y=t.$config.rowStore.getItem(v);return!e.isReadonly(y)&&!l(v)&&(o.config.initial_open_state=y.$open,!!e.callEvent("onRowDragStart",[v,g.target||g.srcElement,g])&&void 0)},e)),o.attachEvent("onAfterDragStart",e.bind(function(f,g){var p=a(g);o.config.marker.innerHTML=p.outerHTML;var v=o.config.marker.firstChild;v&&(o.config.marker.style.opacity=.4,v.style.position="static",v.style.pointerEvents="none"),o.config.id=p.getAttribute(t.$config.item_attribute);var y=t.$config.rowStore,m=y.getItem(o.config.id);o.config.level=y.calculateItemLevel(m),o.config.drop_target=u.createDropTargetObject({targetParent:y.getParent(m.id),targetIndex:y.getBranchIndex(m.id),targetId:m.id,nextSibling:!0}),m.$open=!1,m.$transparent=!0,this.refreshData()},e)),o.attachEvent("onDragMove",e.bind(function(f,g){var p=d(g);return p&&e.callEvent("onBeforeRowDragMove",[o.config.id,p.targetParent,p.targetIndex])!==!1||(p=u.createDropTargetObject(o.config.drop_target)),i.highlightPosition(p,o.config,t),o.config.drop_target=p,e._waiAria.reorderMarkerAttr(o.config.marker),this.callEvent("onRowDragMove",[o.config.id,p.targetParent,p.targetIndex]),!0},e)),o.attachEvent("onDragEnd",e.bind(function(){var f=t.$config.rowStore,g=f.getItem(o.config.id);i.removeLineHighlight(o.config),g.$transparent=!1,g.$open=o.config.initial_open_state;var p=o.config.drop_target;this.callEvent("onBeforeRowDragEnd",[o.config.id,p.targetParent,p.targetIndex])===!1?g.$drop_target=null:(f.move(o.config.id,p.targetIndex,p.targetParent),e.render(),this.callEvent("onRowDragEnd",[o.config.id,p.targetParent,p.targetIndex])),f.refresh(g.id)},e))}function a(f){return _.locateAttribute(f,t.$config.item_attribute)}function l(f){return r(f,e,e.getDatastore(t.$config.bind))}function d(f){var g,p=function(k){var $=_.getRelativeEventPosition(k,t.$grid_data).y,x=t.$config.rowStore;document.doctype||($+=window.scrollY),$=$||0;var w=t.$state.scrollTop||0,T=e.$grid_data.getBoundingClientRect().height+w+window.scrollY,A=w,I=t.getItemIndexByTopPosition(t.$state.scrollTop);if(x.exists(I)||(I=x.countVisible()-1),I<0)return x.$getRootId();var N=x.getIdByIndex(I),j=t.$state.scrollTop/t.getItemHeight(N),B=j-Math.floor(j);B>.1&&B<.9&&(T-=t.getItemHeight(N)*B,A+=t.getItemHeight(N)*(1-B));var z=_.getNodePosition(t.$grid_data),K=z.y+z.height,J=o.config.marker.offsetHeight;$+J+window.scrollY>=T&&(o.config.marker.style.top=K-J+"px"),$>=T?$=T:$<=A&&($=A,o.config.marker.style.top=z.y+"px");var R=t.getItemIndexByTopPosition($);if(R>x.countVisible()-1||R<0)return x.$getRootId();var P=x.getIdByIndex(R);return l(P)?x.getPrevSibling(P):x.getIdByIndex(R)}(f),v=null,y=t.$config.rowStore,m=!t.$getConfig().order_branch_free,b=_.getRelativeEventPosition(f,t.$grid_data).y;return document.doctype||(b+=window.scrollY),p!==y.$getRootId()&&(v=(b-t.getItemTop(p))/t.getItemHeight(p)),m?(g=s(o.config.id,p,v,b,y,o.config.level))&&g.targetParent&&l(g.targetParent)&&(p=y.getPrevSibling(g.targetParent),g=s(o.config.id,p,v,b,y,o.config.level)):g=c(o.config.id,p,v,b,y),g}}}},function(D,E,h){var _=h(1),u=h(16);D.exports={init:function(s,c){var i=s.$services.getService("dnd");if(c.$config.bind&&s.getDatastore(c.$config.bind)){var r=new i(c.$grid_data,{updates_per_second:60});s.defined(c.$getConfig().dnd_sensitivity)&&(r.config.sensitivity=c.$getConfig().dnd_sensitivity),r.attachEvent("onBeforeDragStart",s.bind(function(o,a){var l=e(a);if(!l||(s.hideQuickInfo&&s._hideQuickInfo(),_.closest(a.target,".gantt_grid_editor_placeholder")))return!1;var d=l.getAttribute(c.$config.item_attribute);if(n(d))return!1;var f=t().getItem(d);return!s.isReadonly(f)&&(r.config.initial_open_state=f.$open,!!s.callEvent("onRowDragStart",[d,a.target||a.srcElement,a])&&void 0)},s)),r.attachEvent("onAfterDragStart",s.bind(function(o,a){var l=e(a);r.config.marker.innerHTML=l.outerHTML;var d=r.config.marker.firstChild;d&&(d.style.position="static"),r.config.id=l.getAttribute(c.$config.item_attribute);var f=t(),g=f.getItem(r.config.id);r.config.index=f.getBranchIndex(r.config.id),r.config.parent=g.parent,g.$open=!1,g.$transparent=!0,this.refreshData()},s)),r.lastTaskOfLevel=function(o){for(var a=null,l=t().getItems(),d=0,f=l.length;d<f;d++)l[d].$level==o&&(a=l[d]);return a?a.id:null},r._getGridPos=s.bind(function(o){var a=_.getNodePosition(c.$grid_data),l=a.x+c.$grid.scrollLeft,d=o.pos.y-10,f=c.getItemHeight(r.config.id);d<a.y&&(d=a.y);var g=c.getTotalHeight();d>a.y+g-f&&(d=a.y+g-f);var p=a.y+a.height;return d>p-f&&(d=p-f),a.x=l,a.y=d,a},s),r._getTargetY=s.bind(function(o){var a=_.getNodePosition(c.$grid_data),l=c.$state.scrollTop||0,d=s.$grid_data.getBoundingClientRect().height+l,f=o.pageY-a.y+l;return f>d?f=d:f<l&&(f=l),f},s),r._getTaskByY=s.bind(function(o,a){var l=t();o=o||0;var d=c.getItemIndexByTopPosition(o);return(d=a<d?d-1:d)>l.countVisible()-1?null:l.getIdByIndex(d)},s),r.attachEvent("onDragMove",s.bind(function(o,a){var l=s.$grid_data.getBoundingClientRect(),d=l.height+l.y+(c.$state.scrollTop||0)+window.scrollY,f=r.config,g=r._getGridPos(a);s._waiAria.reorderMarkerAttr(f.marker);var p=c.$getConfig(),v=t();g.y<d?f.marker.style.top=g.y+"px":f.marker.style.top=d+"px",f.marker.style.left=g.x+10+"px";var y=_.getNodePosition(s.$root);g.width>y.width&&(f.marker.style.width=y.width-10-2+"px",f.marker.style.overflow="hidden");var m=v.getItem(r.config.id),b=r._getTargetY(a),k=r._getTaskByY(b,v.getIndexById(m.id));function $(K,J){return!v.isChildOf(x.id,J.id)&&(K.$level==J.$level||p.order_branch_free)}if(v.exists(k)||(k=r.lastTaskOfLevel(p.order_branch_free?m.$level:0))==r.config.id&&(k=null),v.exists(k)){var x=v.getItem(k),w=c.getItemTop(x.id),T=c.getItemHeight(x.id);if(w+T/2<b){var A=v.getIndexById(x.id),I=v.getNext(x.id),N=v.getItem(I);if(n(I)){var j=v.getPrev(N.id);N=v.getItem(j)}if(N){if(N.id==m.id)return p.order_branch_free&&v.isChildOf(m.id,x.id)&&v.getChildren(x.id).length==1?void v.move(m.id,v.getBranchIndex(x.id)+1,v.getParent(x.id)):void 0;x=N}else if(I=v.getIdByIndex(A),N=v.getItem(I),n(I)&&(j=v.getPrev(N.id),N=v.getItem(j)),$(N,m)&&N.id!=m.id)return void v.move(m.id,-1,v.getParent(N.id))}else if(p.order_branch_free&&x.id!=m.id&&$(x,m)&&!n(x.id)){if(!v.hasChild(x.id))return x.$open=!0,void v.move(m.id,-1,x.id);if(v.getIndexById(x.id)||T/3<b)return}A=v.getIndexById(x.id),j=v.getIdByIndex(A-1);for(var B=v.getItem(j),z=1;(!B||B.id==x.id)&&A-z>=0;)j=v.getIdByIndex(A-z),B=v.getItem(j),z++;if(m.id==x.id||n(x.id))return;$(x,m)&&m.id!=x.id?v.move(m.id,0,0,x.id):x.$level!=m.$level-1||v.getChildren(x.id).length?B&&$(B,m)&&m.id!=B.id&&v.move(m.id,-1,v.getParent(B.id)):v.move(m.id,0,x.id)}return!0},s)),r.attachEvent("onDragEnd",s.bind(function(){var o=t(),a=o.getItem(r.config.id);a.$transparent=!1,a.$open=r.config.initial_open_state,this.callEvent("onBeforeRowDragEnd",[r.config.id,r.config.parent,r.config.index])===!1?(o.move(r.config.id,r.config.index,r.config.parent),a.$drop_target=null):this.callEvent("onRowDragEnd",[r.config.id,a.$drop_target]),s.render(),this.refreshData()},s))}function e(o){return _.locateAttribute(o,c.$config.item_attribute)}function t(){return s.getDatastore(c.$config.bind)}function n(o){return u(o,s,t())}}}},function(D,E,h){var _=h(0),u=h(104),s=h(103),c=function(i){return{onCreated:function(r){r.$config=_.mixin(r.$config,{bind:"task"}),r.$config.id=="grid"&&(this.extendGantt(r),i.ext.inlineEditors=i.ext._inlineEditors.createEditors(r),i.ext.inlineEditors.init()),this._mouseDelegates=h(31)(i)},onInitialized:function(r){var e=r.$getConfig();e.order_branch&&(e.order_branch=="marker"?s.init(r.$gantt,r):u.init(r.$gantt,r)),this.initEvents(r,i),r.$config.id=="grid"&&this.extendDom(r)},onDestroyed:function(r){r.$config.id=="grid"&&i.ext.inlineEditors.destructor(),this.clearEvents(r,i)},initEvents:function(r,e){this._mouseDelegates.delegate("click","gantt_row",e.bind(function(t,n,o){var a=r.$getConfig();if(n!==null){var l=this.getTask(n);a.scroll_on_click&&!e._is_icon_open_click(t)&&this.showDate(l.start_date),e.callEvent("onTaskRowClick",[n,o])}},e),r.$grid),this._mouseDelegates.delegate("click","gantt_grid_head_cell",e.bind(function(t,n,o){var a=o.getAttribute("data-column-id");if(e.callEvent("onGridHeaderClick",[a,t])){var l=r.$getConfig();if(a!="add"){if(l.sort&&a){for(var d,f=a,g=0;g<l.columns.length;g++)if(l.columns[g].name==a){d=l.columns[g];break}if(d&&d.sort!==void 0&&d.sort!==!0&&!(f=d.sort))return;var p=this._sort&&this._sort.direction&&this._sort.name==a?this._sort.direction:"desc";p=p=="desc"?"asc":"desc",this._sort={name:a,direction:p},this.sort(f,p=="desc")}}else e.$services.getService("mouseEvents").callHandler("click","gantt_add",r.$grid,[t,l.root_id])}},e),r.$grid),this._mouseDelegates.delegate("click","gantt_add",e.bind(function(t,n,o){if(!r.$getConfig().readonly)return this.createTask({},n||e.config.root_id),!1},e),r.$grid)},clearEvents:function(r,e){this._mouseDelegates.destructor(),this._mouseDelegates=null},extendDom:function(r){i.$grid=r.$grid,i.$grid_scale=r.$grid_scale,i.$grid_data=r.$grid_data},extendGantt:function(r){i.getGridColumns=i.bind(r.getGridColumns,r),r.attachEvent("onColumnResizeStart",function(){return i.callEvent("onColumnResizeStart",arguments)}),r.attachEvent("onColumnResize",function(){return i.callEvent("onColumnResize",arguments)}),r.attachEvent("onColumnResizeEnd",function(){return i.callEvent("onColumnResizeEnd",arguments)}),r.attachEvent("onColumnResizeComplete",function(e,t){i.config.grid_width=t}),r.attachEvent("onBeforeRowResize",function(){return i.callEvent("onBeforeRowResize",arguments)}),r.attachEvent("onRowResize",function(){return i.callEvent("onRowResize",arguments)}),r.attachEvent("onBeforeRowResizeEnd",function(){return i.callEvent("onBeforeRowResizeEnd",arguments)}),r.attachEvent("onAfterRowResize",function(){return i.callEvent("onAfterRowResize",arguments)})}}};D.exports=c},function(D,E,h){var _=h(30),u=h(6);D.exports=function(s){return{render:function(c,i,r){var e=i.$getConfig(),t=document.createElement("div");return t.className="gantt_task_grid_row_resize_wrap",t.style.top=i.getItemTop(c.id)+i.getItemHeight(c.id)+"px",t.innerHTML="<div class='gantt_task_grid_row_resize' role='cell'></div>",t.setAttribute(e.task_grid_row_resizer_attribute,c.id),s._waiAria.rowResizerAttr(t),t},update:null,getRectangle:_,getVisibleRange:u}}},function(D,E,h){var _=h(27),u=h(6),s=h(26),c=h(25),i=h(37);function r(t,n,o,a){var l=100*(1-(1*t||0)),d=a.posFromDate(n),f=a.posFromDate(o),g=document.createElement("div");return g.className="gantt_histogram_hor_bar",g.style.top=l+"%",g.style.left=d+"px",g.style.width=f-d+1+"px",g}function e(t,n,o){if(t===n)return null;var a=1-Math.max(t,n),l=Math.abs(t-n),d=document.createElement("div");return d.className="gantt_histogram_vert_bar",d.style.top=100*a+"%",d.style.height=100*l+"%",d.style.left=o+"px",d}D.exports=function(t){var n=i(t),o={},a={},l={};function d(p,v){var y=o[p];y&&y[v]&&y[v].parentNode&&y[v].parentNode.removeChild(y[v])}function f(p,v,y,m,b,k,$){var x=l[p.id];x&&x.parentNode&&x.parentNode.removeChild(x);var w=function(T,A,I,N){for(var j=A.getScale(),B=document.createElement("div"),z=s(j,N),K=z.start;K<=z.end;K++){var J=j.trace_x[K],R=j.trace_x[K+1]||t.date.add(J,j.step,j.unit),P=j.trace_x[K].valueOf(),G=Math.min(T[P]/I,1)||0;if(G<0)return null;var O=Math.min(T[R.valueOf()]/I,1)||0,Y=r(G,J,R,A);Y&&B.appendChild(Y);var q=e(G,O,A.posFromDate(R));q&&B.appendChild(q)}return B}(y,b,k,$);return w&&v&&(w.setAttribute("data-resource-id",p.id),w.setAttribute(b.$config.item_attribute,p.id),w.style.position="absolute",w.style.top=v.top+1+"px",w.style.height=b.getItemHeight(p.id)-1+"px",w.style.left=0),w}function g(p,v,y,m,b,k,$){var x=b.histogram_cell_class(k.start_date,k.end_date,p,k.tasks,k.assignments),w=b.histogram_cell_label(k.start_date,k.end_date,p,k.tasks,k.assignments),T=b.histogram_cell_allocated(k.start_date,k.end_date,p,k.tasks,k.assignments),A=$.getItemHeight(p.id)-1;if(x||w){var I=document.createElement("div");return I.className=["gantt_histogram_cell",x].join(" "),I.setAttribute($.$config.item_attribute,p.id),I.style.cssText=["left:"+v.left+"px","width:"+v.width+"px","height:"+A+"px","line-height:"+A+"px","top:"+(v.top+1)+"px"].join(";"),w&&(w="<div class='gantt_histogram_label'>"+w+"</div>"),T&&(w="<div class='gantt_histogram_fill' style='height:"+100*Math.min(T/y||0,1)+"%;'></div>"+w),w&&(I.innerHTML=w),I}return null}return{render:function(p,v,y,m){var b=v.$getTemplates(),k=v.getScale(),$=n(p,y.resource_property,k,v),x=[],w={},T=p.capacity||v.$config.capacity||24;o[p.id]={},a[p.id]=null,l[p.id]=null;for(var A=!!m,I=s(k,m),N=I.start;N<=I.end;N++){var j=$[N];if(j&&(!A||c(N,k,m,t))){var B=b.histogram_cell_capacity(j.start_date,j.end_date,p,j.tasks,j.assignments);w[j.start_date.valueOf()]=B||0;var z=v.getItemPosition(p,j.start_date,j.end_date),K=g(p,z,T,0,b,j,v);K&&(x.push(K),o[p.id][N]=K)}}var J=null;if(x.length){J=document.createElement("div");for(var R=0;R<x.length;R++)J.appendChild(x[R]);var P=f(p,z,w,0,v,T,m);P&&(J.appendChild(P),l[p.id]=P),a[p.id]=J}return J},update:function(p,v,y,m,b){var k=y.$getTemplates(),$=y.getScale(),x=n(p,m.resource_property,$,y),w=p.capacity||y.$config.capacity||24,T={},A=!!b,I=s($,b),N={};if(o&&o[p.id])for(var j in o[p.id])N[j]=j;for(var B=I.start;B<=I.end;B++){var z=x[B];if(N[B]=!1,z){var K=k.histogram_cell_capacity(z.start_date,z.end_date,p,z.tasks,z.assignments);T[z.start_date.valueOf()]=K||0;var J=y.getItemPosition(p,z.start_date,z.end_date);if(!A||c(B,$,b,t)){var R=o[p.id];if(R&&R[B])R&&R[B]&&!R[B].parentNode&&v.appendChild(R[B]);else{var P=g(p,J,w,0,k,z,y);P&&(v.appendChild(P),o[p.id][B]=P)}}else d(p.id,B)}}for(var j in N)N[j]!==!1&&d(p.id,j);var G=f(p,J,T,0,y,w,b);G&&(v.appendChild(G),l[p.id]=G)},getRectangle:_,getVisibleRange:u}}},function(D,E,h){var _=h(27),u=h(6),s=h(26),c=h(25),i=h(37);D.exports=function(r){var e=i(r),t={};function n(a,l,d,f,g){var p=d.resource_cell_class(l.start_date,l.end_date,a,l.tasks,l.assignments),v=d.resource_cell_value(l.start_date,l.end_date,a,l.tasks,l.assignments),y=g.getItemHeight(a.id)-1;if(p||v){var m=g.getItemPosition(a,l.start_date,l.end_date),b=document.createElement("div");return b.setAttribute(g.$config.item_attribute,a.id),b.className=["gantt_resource_marker",p].join(" "),b.style.cssText=["left:"+m.left+"px","width:"+m.width+"px","height:"+y+"px","line-height:"+y+"px","top:"+m.top+"px"].join(";"),v&&(b.innerHTML=v),b}return null}function o(a,l){t[a]&&t[a][l]&&t[a][l].parentNode&&t[a][l].parentNode.removeChild(t[a][l])}return{render:function(a,l,d,f){var g=l.$getTemplates(),p=l.getScale(),v=e(a,d.resource_property,l.getScale(),l),y=!!f,m=[];t[a.id]={};for(var b=s(p,f),k=b.start;k<=b.end;k++){var $=v[k];if($&&(!y||c(k,p,f,r))){var x=n(a,$,g,0,l);x&&(m.push(x),t[a.id][k]=x)}}var w=null;if(m.length){w=document.createElement("div");for(var T=0;T<m.length;T++)w.appendChild(m[T])}return w},update:function(a,l,d,f,g){var p=d.$getTemplates(),v=d.getScale(),y=e(a,f.resource_property,d.getScale(),d),m=s(v,g),b={};if(t&&t[a.id])for(var k in t[a.id])b[k]=k;for(var $=m.start;$<=m.end;$++){var x=y[$];if(b[$]=!1,x)if(c($,v,g,r))if(t[a.id]&&t[a.id][$])t[a.id]&&t[a.id][$]&&!t[a.id][$].parentNode&&l.appendChild(t[a.id][$]);else{var w=n(a,x,p,0,d);w&&(l.appendChild(w),t[a.id][$]=w)}else o(a.id,$)}for(var k in b)b[k]!==!1&&o(a.id,k)},getRectangle:_,getVisibleRange:u}}},function(D,E,h){function _(i){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}var u=h(2),s=h(30),c=h(6);D.exports=function(i){return{render:function(r,e,t,n){for(var o=e.getGridColumns(),a=e.$getTemplates(),l=e.$config.rowStore,d=[],f=0;f<o.length;f++){var g,p,v,y=f==o.length-1,m=o[f];m.name=="add"?(p="<div "+(T=i._waiAria.gridAddButtonAttrString(m))+" class='gantt_add'></div>",v=""):(p=m.template?m.template(r):r[m.name],u.isDate(p)&&(p=a.date_grid(p,r,m.name)),p!=null||(p=""),v=p,p="<div class='gantt_tree_content'>"+p+"</div>");var b="gantt_cell"+(y?" gantt_last_cell":""),k=[];if(m.tree){b+=" gantt_cell_tree";for(var $=0;$<r.$level;$++)k.push(a.grid_indent(r));!l.hasChild(r.id)||i.isSplitTask(r)&&!i.config.open_split_tasks?(k.push(a.grid_blank(r)),k.push(a.grid_file(r))):(k.push(a.grid_open(r)),k.push(a.grid_folder(r)))}var x="width:"+(m.width-(y?1:0))+"px;";if(this.defined(m.align)){var w={right:"flex-end",left:"flex-start",center:"center"}[m.align];x+="text-align:"+m.align+";justify-content:"+w+";"}var T=i._waiAria.gridCellAttrString(m,v,r);k.push(p),g="<div class='"+b+"' data-column-index='"+f+"' data-column-name='"+m.name+"' style='"+x+"' "+T+">"+k.join("")+"</div>",d.push(g)}switch(b="",l.$config.name){case"task":b=i.getGlobalTaskIndex(r.id)%2==0?"":" odd";break;case"resource":b=l.visibleOrder.indexOf(r.id)%2==0?"":" odd"}if(b+=r.$transparent?" gantt_transparent":"",b+=r.$dataprocessor_class?" "+r.$dataprocessor_class:"",a.grid_row_class){var A=a.grid_row_class.call(i,r.start_date,r.end_date,r);A&&(b+=" "+A)}l.isSelected(r.id)&&(b+=" gantt_selected");var I=document.createElement("div");I.className="gantt_row"+b+" gantt_row_"+i.getTaskType(r.type);var N=e.getItemHeight(r.id);return I.style.height=N+"px",I.style.lineHeight=N+"px",t.smart_rendering&&(I.style.position="absolute",I.style.left="0px",I.style.top=e.getItemTop(r.id)+"px"),e.$config.item_attribute&&(I.setAttribute(e.$config.item_attribute,r.id),I.setAttribute(e.$config.bind+"_id",r.id)),i._waiAria.taskRowAttr(r,I),I.innerHTML=d.join(""),I},update:null,getRectangle:s,getVisibleRange:c,onrender:function(r,e,t){for(var n=t.getGridColumns(),o=0;o<n.length;o++){var a=n[o];if(a.onrender){var l=e.querySelector("[data-column-name="+a.name+"]");if(l){var d=a.onrender(r,l);if(d&&typeof d=="string")l.innerHTML=d;else if(d&&_(d)==="object"&&i.config.external_render){var f=i.config.external_render;f.isElement(d)&&f.renderElement(d,l)}}}}}}}},function(D,E,h){var _=h(39),u=h(40);D.exports=function(s){var c={current_pos:null,dirs:{left:"left",right:"right",up:"up",down:"down"},path:[],clear:function(){this.current_pos=null,this.path=[]},point:function(e){this.current_pos=s.copy(e)},get_lines:function(e){this.clear(),this.point(e[0]);for(var t=1;t<e.length;t++)this.line_to(e[t]);return this.get_path()},line_to:function(e){var t=s.copy(e),n=this.current_pos,o=this._get_line(n,t);this.path.push(o),this.current_pos=t},get_path:function(){return this.path},get_wrapper_sizes:function(e,t,n){var o,a=t.$getConfig().link_wrapper_width,l=e.y-a/2;switch(e.direction){case this.dirs.left:o={top:l,height:a,lineHeight:a,left:e.x-e.size-a/2,width:e.size+a};break;case this.dirs.right:o={top:l,lineHeight:a,height:a,left:e.x-a/2,width:e.size+a};break;case this.dirs.up:o={top:l-e.size,lineHeight:e.size+a,height:e.size+a,left:e.x-a/2,width:a};break;case this.dirs.down:o={top:l,lineHeight:e.size+a,height:e.size+a,left:e.x-a/2,width:a}}return o},get_line_sizes:function(e,t){var n,o=t.$getConfig(),a=o.link_line_width,l=o.link_wrapper_width,d=e.size+a;switch(e.direction){case this.dirs.left:case this.dirs.right:n={height:a,width:d,marginTop:(l-a)/2,marginLeft:(l-a)/2};break;case this.dirs.up:case this.dirs.down:n={height:d,width:a,marginTop:(l-a)/2,marginLeft:(l-a)/2}}return n},render_line:function(e,t,n,o){var a=this.get_wrapper_sizes(e,n,o),l=document.createElement("div");l.style.cssText=["top:"+a.top+"px","left:"+a.left+"px","height:"+a.height+"px","width:"+a.width+"px"].join(";"),l.className="gantt_line_wrapper";var d=this.get_line_sizes(e,n),f=document.createElement("div");return f.style.cssText=["height:"+d.height+"px","width:"+d.width+"px","margin-top:"+d.marginTop+"px","margin-left:"+d.marginLeft+"px"].join(";"),f.className="gantt_link_line_"+e.direction,l.appendChild(f),l},_get_line:function(e,t){var n=this.get_direction(e,t),o={x:e.x,y:e.y,direction:this.get_direction(e,t)};return n==this.dirs.left||n==this.dirs.right?o.size=Math.abs(e.x-t.x):o.size=Math.abs(e.y-t.y),o},get_direction:function(e,t){return t.x<e.x?this.dirs.left:t.x>e.x?this.dirs.right:t.y>e.y?this.dirs.down:this.dirs.up}},i={path:[],clear:function(){this.path=[]},current:function(){return this.path[this.path.length-1]},point:function(e){return e?(this.path.push(s.copy(e)),e):this.current()},point_to:function(e,t,n){n=n?{x:n.x,y:n.y}:s.copy(this.point());var o=c.dirs;switch(e){case o.left:n.x-=t;break;case o.right:n.x+=t;break;case o.up:n.y-=t;break;case o.down:n.y+=t}return this.point(n)},get_points:function(e,t,n,o){var a=this.get_endpoint(e,t,n,o),l=s.config,d=a.e_y-a.y,f=a.e_x-a.x,g=c.dirs,p=t.getItemHeight(e.source);this.clear(),this.point({x:a.x,y:a.y});var v=2*l.link_arrow_size,y=this.get_line_type(e,t.$getConfig()),m=a.e_x>a.x;if(y.from_start&&y.to_start)this.point_to(g.left,v),m?(this.point_to(g.down,d),this.point_to(g.right,f)):(this.point_to(g.right,f),this.point_to(g.down,d)),this.point_to(g.right,v);else if(!y.from_start&&y.to_start)if(m=a.e_x>a.x+2*v,this.point_to(g.right,v),m)f-=v,this.point_to(g.down,d),this.point_to(g.right,f);else{f-=2*v;var b=d>0?1:-1;this.point_to(g.down,b*(p/2)),this.point_to(g.right,f),this.point_to(g.down,b*(Math.abs(d)-p/2)),this.point_to(g.right,v)}else y.from_start||y.to_start?y.from_start&&!y.to_start&&(m=a.e_x>a.x-2*v,this.point_to(g.left,v),m?(f+=2*v,b=d>0?1:-1,this.point_to(g.down,b*(p/2)),this.point_to(g.right,f),this.point_to(g.down,b*(Math.abs(d)-p/2)),this.point_to(g.left,v)):(f+=v,this.point_to(g.down,d),this.point_to(g.right,f))):(this.point_to(g.right,v),m?(this.point_to(g.right,f),this.point_to(g.down,d)):(this.point_to(g.down,d),this.point_to(g.right,f)),this.point_to(g.left,v));return this.path},get_line_type:function(e,t){var n=t.links,o=!1,a=!1;return e.type==n.start_to_start?o=a=!0:e.type==n.finish_to_finish?o=a=!1:e.type==n.finish_to_start?(o=!1,a=!0):e.type==n.start_to_finish?(o=!0,a=!1):s.assert(!1,"Invalid link type"),t.rtl&&(o=!o,a=!a),{from_start:o,to_start:a}},get_endpoint:function(e,t,n,o){var a=t.$getConfig(),l=this.get_line_type(e,a),d=l.from_start,f=l.to_start,g=r(n,t,a),p=r(o,t,a);return{x:d?g.left:g.left+g.width,e_x:f?p.left:p.left+p.width,y:g.top+g.rowHeight/2-1,e_y:p.top+p.rowHeight/2-1}}};function r(e,t,n){var o=t.getItemPosition(e);if(s.getTaskType(e.type)==n.types.milestone){var a=t.getBarHeight(e.id,!0),l=Math.sqrt(2*a*a);o.left-=l/2,o.width=l}return o}return{render:function(e,t,n){var o=s.getTask(e.source);if(!o.hide_bar){var a=s.getTask(e.target);if(!a.hide_bar){var l=i.get_endpoint(e,t,o,a),d=l.e_y-l.y;if(!(l.e_x-l.x||d))return null;var f=i.get_points(e,t,o,a),g=c.get_lines(f,t),p=document.createElement("div"),v="gantt_task_link";e.color&&(v+=" gantt_link_inline_color");var y=s.templates.link_class?s.templates.link_class(e):"";y&&(v+=" "+y),n.highlight_critical_path&&s.isCriticalLink&&s.isCriticalLink(e)&&(v+=" gantt_critical_link"),p.className=v,t.$config.link_attribute&&(p.setAttribute(t.$config.link_attribute,e.id),p.setAttribute("link_id",e.id));for(var m=0;m<g.length;m++){m==g.length-1&&(g[m].size-=n.link_arrow_size);var b=c.render_line(g[m],g[m+1],t,e.source);e.color&&(b.firstChild.style.backgroundColor=e.color),p.appendChild(b)}var k=g[g.length-1].direction,$=function(x,w,T,A){var I=T.$getConfig(),N=document.createElement("div"),j=x.y,B=x.x,z=I.link_arrow_size,K="gantt_link_arrow gantt_link_arrow_"+w;switch(w){case c.dirs.right:j-=z/2,B-=z;break;case c.dirs.left:j-=z/2;break;case c.dirs.up:B-=z;break;case c.dirs.down:j+=2*z,B-=z}return N.style.cssText=["top:"+j+"px","left:"+B+"px"].join(";"),N.className=K,N}(f[f.length-1],k,t,e.source);return e.color&&($.style.borderColor=e.color),p.appendChild($),s._waiAria.linkAttr(e,p),p}}},update:null,isInViewPort:_,getVisibleRange:u()}}},function(D,E){D.exports=function(h,_){var u=_.config.timeline_placeholder;if(h=h||[],u&&h.filter(function(t){return t.id==="timeline_placeholder_task"}).length===0){var s=_.getState(),c=null,i=s.min_date,r=s.max_date;h.length&&(c=h[h.length-1].id);var e={start_date:i,end_date:r,row_height:u.height||0,id:"timeline_placeholder_task",unscheduled:!0,lastTaskId:c,calendar_id:u.calendar||"global",$source:[],$target:[]};h.push(e)}}},function(D,E,h){var _=h(27),u=h(20),s=h(6),c=h(26),i=h(25),r=h(111);D.exports=function(e){var t={},n={};function o(g,p){return!(!t[g.id][p]||!t[g.id][p].parentNode)}function a(g,p){t[g]&&t[g][p]&&t[g][p].parentNode&&t[g][p].parentNode.removeChild(t[g][p])}function l(g){var p,v=g.$getTemplates();return v.task_cell_class!==void 0?(p=v.task_cell_class,(console.warn||console.log)("gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.")):p=v.timeline_cell_class,p}function d(g){return g.$getTemplates().timeline_cell_content}function f(g,p,v,y,m,b,k,$){var x=g.width[p],w="";if(i(p,g,y,e)){var T=b(v,g.trace_x[p]),A="";if(k&&(A=k(v,g.trace_x[p])),$.static_background){var I=!(!T&&!A);if(!$.static_background_cells||!I)return null}if(t[v.id][p])return n[v.id][p]=p,t[v.id][p];var N=document.createElement("div");return N.style.width=x+"px",w="gantt_task_cell"+(p==m-1?" gantt_last_cell":""),T&&(w+=" "+T),N.className=w,A&&(N.innerHTML=A),N.style.position="absolute",N.style.left=g.left[p]+"px",t[v.id][p]=N,n[v.id][p]=p,N}return null}return{render:function(g,p,v,y){var m=p.$getTemplates(),b=p.getScale(),k=b.count;if(v.static_background&&!v.static_background_cells)return null;var $,x=document.createElement("div"),w=l(p),T=d(p);if($=y&&v.smart_rendering&&!u(e)?c(b,y.x):{start:0,end:k-1},v.show_task_cells){t[g.id]={},n[g.id]={};for(var A=$.start;A<=$.end;A++){var I=f(b,A,g,y,k,w,T,v);I&&x.appendChild(I)}}var N=p.$config.rowStore,j=N.getIndexById(g.id)%2!=0,B=m.task_row_class(g.start_date,g.end_date,g),z="gantt_task_row"+(j?" odd":"")+(B?" "+B:"");if(N.isSelected(g.id)&&(z+=" gantt_selected"),x.className=z,v.smart_rendering?(x.style.position="absolute",x.style.top=p.getItemTop(g.id)+"px",x.style.width="100%"):x.style.position="relative",x.style.height=p.getItemHeight(g.id)+"px",g.id=="timeline_placeholder_task"){var K=0;g.lastTaskId&&(K=p.getItemTop(g.lastTaskId)+p.getItemHeight(g.lastTaskId));var J=(g.row_height||p.$task_data.offsetHeight)-K;J<0&&(J=0),v.smart_rendering&&(x.style.top=K+"px"),x.style.height=J+"px"}return p.$config.item_attribute&&(x.setAttribute(p.$config.item_attribute,g.id),x.setAttribute(p.$config.bind+"_id",g.id)),x},update:function(g,p,v,y,m){var b=v.getScale(),k=b.count,$=l(v),x=d(v);if(y.show_task_cells){t[g.id]||(t[g.id]={}),n[g.id]||(n[g.id]={});var w=c(b,m);for(var T in n[g.id]){var A=n[g.id][T];(Number(A)<w.start||Number(A)>w.end)&&a(g.id,A)}n[g.id]={};for(var I=w.start;I<=w.end;I++){var N=f(b,I,g,m,k,$,x,y);!N&&o(g,I)?a(g.id,I):N&&!N.parentNode&&p.appendChild(N)}}},getRectangle:_,getVisibleRange:s,prepareData:r}}},function(D,E,h){var _=h(28),u=h(19),s=h(6);D.exports=function(c){var i=_(c),r={};function e(o,a,l,d,f){var g=!0;return d.smart_rendering&&(g=u(o,a,l,d,f)),g}function t(o,a,l,d){var f=c.copy(c.getTask(a.id));if(f.$rendered_at=o.id,c.callEvent("onBeforeRollupTaskDisplay",[f.id,f,o.id])!==!1){var g=i(f,l);if(g){var p=l.getBarHeight(o.id,a.type==c.config.types.milestone),v=Math.floor((l.getItemHeight(o.id)-p)/2);return g.style.top=d.top+v+"px",g.classList.add("gantt_rollup_child"),g.setAttribute("data-rollup-parent-id",o.id),g}}}function n(o,a){return o+"_"+a}return{render:function(o,a,l,d){if(o.rollup!==!1&&o.$rollup&&o.$rollup.length){var f=document.createElement("div"),g=c.getTaskPosition(o);return d.y=0,d.y_end=c.$task_bg.scrollHeight,o.$rollup.forEach(function(p){if(c.isTaskExists(p)){var v=c.getTask(p);if(e(v,d,a,l,c)){var y=t(o,v,a,g);y?(r[n(v.id,o.id)]=y,f.appendChild(y)):r[n(v.id,o.id)]=!1}}}),f}return!1},update:function(o,a,l,d,f){var g=document.createElement("div"),p=c.getTaskPosition(o);f.y=0,f.y_end=c.$task_bg.scrollHeight,o.$rollup.forEach(function(v){var y=c.getTask(v),m=n(y.id,o.id),b=e(y,f,l,d,c);if(b!==!!r[m])if(b){var k=t(o,y,l,p);r[m]=k||!1}else r[m]=!1;r[m]&&g.appendChild(r[m]),a.innerHTML="",a.appendChild(g)})},isInViewPort:u,getVisibleRange:s}}},function(D,E,h){var _=h(19);D.exports=function(u,s,c,i,r){if(!r.isSplitTask(u))return!1;var e=r.getSubtaskDates(u.id);return _({id:u.id,start_date:e.start_date,end_date:e.end_date,parent:u.parent},s,c,r)}},function(D,E,h){var _=h(28),u=h(6),s=h(114),c=h(19);D.exports=function(i){var r=_(i),e={};function t(l,d,f,g,p){var v=!l.hide_bar;return g.smart_rendering&&v&&(v=c(l,d,f,g,p)),v}function n(l,d,f,g){if(!d.hide_bar){var p=i.isSummaryTask(d);p&&i.resetProjectDates(d);var v=i.copy(i.getTask(d.id));if(v.$rendered_at=l.id,i.callEvent("onBeforeSplitTaskDisplay",[v.id,v,l.id])!==!1){var y=r(v,f);if(y){var m=f.getBarHeight(l.id,d.type==i.config.types.milestone),b=Math.floor((f.getItemHeight(l.id)-m)/2);return y.style.top=g.top+b+"px",y.classList.add("gantt_split_child"),p&&y.classList.add("gantt_split_subproject"),y}}}}function o(l,d){return l+"_"+d}function a(l,d){return i.isSplitTask(l)&&(d.open_split_tasks&&!l.$open||!d.open_split_tasks)&&i.hasChild(l.id)}return{render:function(l,d,f,g){if(a(l,f)){var p=document.createElement("div"),v=i.getTaskPosition(l);return i.hasChild(l.id)&&i.eachTask(function(y){if(t(y,g,d,f,i)){var m=n(l,y,d,v);m?(e[o(y.id,l.id)]=m,p.appendChild(m)):e[o(y.id,l.id)]=!1}},l.id),p}return!1},update:function(l,d,f,g,p){if(a(l,g)){var v=document.createElement("div"),y=i.getTaskPosition(l);i.eachTask(function(m){var b=o(m.id,l.id),k=t(m,p,f,g,i);if(k!==!!e[b])if(k){var $=n(l,m,f,y);e[b]=$||!1}else e[b]=!1;e[b]&&v.appendChild(e[b]),d.innerHTML="",d.appendChild(v)},l.id)}},isInViewPort:s,getVisibleRange:u}}},function(D,E,h){var _=h(19),u=h(6),s=h(28);D.exports=function(c){return{render:s(c),update:null,isInViewPort:_,getVisibleRange:u}}},function(D,E){D.exports=function(h){return function(u,s,c){c=="keepDates"?function(i,r){r=="duration"?i.end_date=h.calculateEndDate(i):r!="end_date"&&r!="start_date"||(i.duration=h.calculateDuration(i))}(u,s):c=="keepDuration"?function(i,r){r=="end_date"?i.start_date=_(i):r!="start_date"&&r!="duration"||(i.end_date=h.calculateEndDate(i))}(u,s):function(i,r){h.config.schedule_from_end?r=="end_date"||r=="duration"?i.start_date=_(i):r=="start_date"&&(i.duration=h.calculateDuration(i)):r=="start_date"||r=="duration"?i.end_date=h.calculateEndDate(i):r=="end_date"&&(i.duration=h.calculateDuration(i))}(u,s)};function _(u){return h.calculateEndDate({start_date:u.end_date,duration:-u.duration,task:u})}}},function(D,E,h){D.exports=function(_){var u=h(10)(_),s=h(0);function c(){return u.apply(this,arguments)||this}function i(r){return r.formatter||_.ext.formatters.durationFormatter()}return h(3)(c,u),s.mixin(c.prototype,{show:function(r,e,t,n){var o="<div role='cell'><input type='text' name='".concat(e.name,"' title='").concat(e.name,"'></div>");n.innerHTML=o},set_value:function(r,e,t,n){this.get_input(n).value=i(t.editor).format(r)},get_value:function(r,e,t){return i(e.editor).parse(this.get_input(t).value||"")}},!0),c}},function(D,E,h){D.exports=function(_){var u=h(10)(_),s=h(0);function c(){return u.apply(this,arguments)||this}function i(o){return o.formatter||_.ext.formatters.linkFormatter()}function r(o,a){for(var l=(o||"").split(a.delimiter||","),d=0;d<l.length;d++){var f=l[d].trim();f?l[d]=f:(l.splice(d,1),d--)}return l.sort(),l}function e(o,a,l){for(var d=o.$target,f=[],g=0;g<d.length;g++){var p=l.getLink(d[g]);f.push(i(a).format(p))}return f.join((a.delimiter||",")+" ")}function t(o){return o.source+"_"+o.target+"_"+o.type+"_"+(o.lag||0)}function n(o,a,l){var d=function(y,m,b){var k=[];return m.forEach(function($){var x=i(b).parse($);x&&(x.target=y,x.id="predecessor_generated",_.isLinkAllowed(x)&&(x.id=void 0,k.push(x)))}),k}(o.id,a,l),f={};o.$target.forEach(function(y){var m=_.getLink(y);f[t(m)]=m.id});var g=[];d.forEach(function(y){var m=t(y);f[m]?delete f[m]:g.push(y)});var p=[];for(var v in f)p.push(f[v]);return{add:g,remove:p}}return h(3)(c,u),s.mixin(c.prototype,{show:function(o,a,l,d){var f="<div role='cell'><input type='text' name='".concat(a.name,"' title='").concat(a.name,"'></div>");d.innerHTML=f},hide:function(){},set_value:function(o,a,l,d){this.get_input(d).value=e(o,l.editor,_)},get_value:function(o,a,l){return r(this.get_input(l).value||"",a.editor)},save:function(o,a,l){var d=n(_.getTask(o),this.get_value(o,a,l),a.editor);(d.add.length||d.remove.length)&&_.batchUpdate(function(){d.add.forEach(function(f){_.addLink(f)}),d.remove.forEach(function(f){_.deleteLink(f)}),_.autoSchedule&&_.autoSchedule()})},is_changed:function(o,a,l,d){var f=this.get_value(a,l,d),g=r(e(o,l.editor,_),l.editor);return f.join()!==g.join()}},!0),c}},function(D,E,h){D.exports=function(_){var u=h(10)(_),s=h(0),c="%Y-%m-%d",i=null,r=null;function e(){return u.apply(this,arguments)||this}return h(3)(e,u),s.mixin(e.prototype,{show:function(t,n,o,a){i||(i=_.date.date_to_str(c)),r||(r=_.date.str_to_date(c));var l=null,d=null;l=typeof o.min=="function"?o.min(t,n):o.min,d=typeof o.max=="function"?o.max(t,n):o.max;var f=l?" min='"+i(l)+"' ":"",g=d?" max='"+i(d)+"' ":"",p="<div style='width:140px' role='cell'><input type='date' ".concat(f," ").concat(g," name='").concat(n.name,"' title='").concat(n.name,"'></div>");a.innerHTML=p},set_value:function(t,n,o,a){t&&t.getFullYear?this.get_input(a).value=i(t):this.get_input(a).value=t},is_valid:function(t,n,o,a){return!(!t||isNaN(t.getTime()))},get_value:function(t,n,o){var a;try{a=r(this.get_input(o).value||"")}catch{a=null}return a}},!0),e}},function(D,E,h){D.exports=function(_){var u=h(10)(_),s=h(0);function c(){return u.apply(this,arguments)||this}return h(3)(c,u),s.mixin(c.prototype,{show:function(i,r,e,t){for(var n="<div role='cell'><select name='".concat(r.name,"' title='").concat(r.name,"'>"),o=[],a=e.options||[],l=0;l<a.length;l++)o.push("<option value='"+e.options[l].key+"'>"+a[l].label+"</option>");n+=o.join("")+"</select></div>",t.innerHTML=n},get_input:function(i){return i.querySelector("select")}},!0),c}},function(D,E,h){D.exports=function(_){var u=h(10)(_),s=h(0);function c(){return u.apply(this,arguments)||this}return h(3)(c,u),s.mixin(c.prototype,{show:function(i,r,e,t){var n=e.min||0,o=e.max||100,a="<div role='cell'><input type='number' min='".concat(n,"' max='").concat(o,"' name='").concat(r.name,"' title='").concat(r.name,"'></div>");t.innerHTML=a},get_value:function(i,r,e){return this.get_input(e).value||""},is_valid:function(i,r,e,t){return!isNaN(parseInt(i,10))}},!0),c}},function(D,E,h){D.exports=function(_){var u=h(10)(_),s=h(0);function c(){return u.apply(this,arguments)||this}return h(3)(c,u),s.mixin(c.prototype,{show:function(i,r,e,t){var n="<div role='cell'><input type='text' name='".concat(r.name,"' title='").concat(r.name,"'></div>");t.innerHTML=n}},!0),c}},function(D,E){D.exports={init:function(h,_){var u=h,s=_.$gantt,c=null,i=s.ext.keyboardNavigation;i.attachEvent("onBeforeFocus",function(r){var e=h.locateCell(r);if(clearTimeout(c),e){var t=e.columnName,n=e.id,o=u.getState();if(u.isVisible()&&o.id==n&&o.columnName===t)return!1}return!0}),i.attachEvent("onFocus",function(r){var e=h.locateCell(r),t=h.getState();return clearTimeout(c),!e||e.id==t.id&&e.columnName==t.columnName||u.isVisible()&&u.save(),!0}),h.attachEvent("onHide",function(){clearTimeout(c)}),i.attachEvent("onBlur",function(){return c=setTimeout(function(){u.save()}),!0}),s.attachEvent("onTaskDblClick",function(r,e){var t=h.getState(),n=h.locateCell(e.target);return!n||!h.isVisible()||n.columnName!=t.columnName}),s.attachEvent("onTaskClick",function(r,e){if(s._is_icon_open_click(e))return!0;var t=h.getState(),n=h.locateCell(e.target);return!n||!h.getEditorConfig(n.columnName)||(h.isVisible()&&t.id==n.id&&t.columnName==n.columnName||h.startEdit(n.id,n.columnName),!1)}),s.attachEvent("onEmptyClick",function(){return u.save(),!0}),i.attachEvent("onKeyDown",function(r,e){var t=h.locateCell(e.target),n=!!t&&h.getEditorConfig(t.columnName),o=h.getState(),a=s.constants.KEY_CODES,l=e.keyCode,d=!1;switch(l){case a.ENTER:h.isVisible()?(h.save(),e.preventDefault(),d=!0):n&&!(e.ctrlKey||e.metaKey||e.shiftKey)&&(u.startEdit(t.id,t.columnName),e.preventDefault(),d=!0);break;case a.ESC:h.isVisible()&&(h.hide(),e.preventDefault(),d=!0);break;case a.UP:case a.DOWN:break;case a.LEFT:case a.RIGHT:(n&&h.isVisible()||o.editorType==="date")&&(d=!0);break;case a.SPACE:h.isVisible()&&(d=!0),n&&!h.isVisible()&&(u.startEdit(t.id,t.columnName),e.preventDefault(),d=!0);break;case a.DELETE:n&&!h.isVisible()?(u.startEdit(t.id,t.columnName),d=!0):n&&h.isVisible()&&(d=!0);break;case a.TAB:if(h.isVisible()){e.shiftKey?h.editPrevCell(!0):h.editNextCell(!0);var f=h.getState();f.id&&i.focus({type:"taskCell",id:f.id,column:f.columnName}),e.preventDefault(),d=!0}break;default:if(h.isVisible())d=!0;else if(l>=48&&l<=57||l>95&&l<112||l>=64&&l<=91||l>185&&l<193||l>218&&l<223){var g=r.modifiers,p=g.alt||g.ctrl||g.meta||g.shift;g.alt||p&&i.getCommandHandler(r,"taskCell")||n&&!h.isVisible()&&(u.startEdit(t.id,t.columnName),d=!0)}}return!d})},onShow:function(h,_,u){},onHide:function(h,_,u){u.$gantt.focus()},destroy:function(){}}},function(D,E){D.exports={init:function(h,_){var u=_.$gantt;u.attachEvent("onTaskClick",function(s,c){if(u._is_icon_open_click(c))return!0;var i=h.getState(),r=h.locateCell(c.target);return!r||!h.getEditorConfig(r.columnName)||(h.isVisible()&&i.id==r.id&&i.columnName==r.columnName||h.startEdit(r.id,r.columnName),!1)}),u.attachEvent("onEmptyClick",function(){return h.isVisible()&&h.isChanged()?h.save():h.hide(),!0}),u.attachEvent("onTaskDblClick",function(s,c){var i=h.getState(),r=h.locateCell(c.target);return!r||!h.isVisible()||r.columnName!=i.columnName})},onShow:function(h,_,u){var s=u.$gantt;s.ext&&s.ext.keyboardNavigation&&s.ext.keyboardNavigation.attachEvent("onKeyDown",function(c,i){var r=s.constants.KEY_CODES,e=!1;switch(i.keyCode){case r.SPACE:h.isVisible()&&(e=!0)}return!e}),_.onkeydown=function(c){c=c||window.event;var i=s.constants.KEY_CODES;if(!(c.defaultPrevented||c.shiftKey&&c.keyCode!=i.TAB)){var r=!0;switch(c.keyCode){case s.keys.edit_save:h.save();break;case s.keys.edit_cancel:h.hide();break;case i.UP:case i.DOWN:h.isVisible()&&(h.hide(),r=!1);break;case i.TAB:c.shiftKey?h.editPrevCell(!0):h.editNextCell(!0);break;default:r=!1}r&&c.preventDefault()}}},onHide:function(){},destroy:function(){}}},function(D,E,h){var _=h(125),u=h(124);D.exports=function(s){var c=null;return{setMapping:function(i){c=i},getMapping:function(){return c||(s.config.keyboard_navigation_cells&&s.ext.keyboardNavigation?u:_)}}}},function(D,E,h){var _=h(126),u=h(123),s=h(122),c=h(121),i=h(120),r=h(119),e=h(118),t=h(0),n=h(1),o=h(5),a=h(117);function l(d){d.config.editor_types={text:new(u(d)),number:new(s(d)),select:new(c(d)),date:new(i(d)),predecessor:new(r(d)),duration:new(e(d))}}D.exports=function(d){var f=_(d),g={};o(g);var p={init:l,createEditors:function(v){function y(w,T){var A=v.$getConfig(),I=function(B,z){for(var K=v.$getConfig(),J=v.getItemTop(B),R=v.getItemHeight(B),P=v.getGridColumns(),G=0,O=0,Y=0,q=0;q<P.length;q++){if(P[q].name==z){Y=P[q].width;break}K.rtl?O+=P[q].width:G+=P[q].width}return K.rtl?{top:J,right:O,height:R,width:Y}:{top:J,left:G,height:R,width:Y}}(w,T),N=document.createElement("div");N.className="gantt_grid_editor_placeholder",N.setAttribute(v.$config.item_attribute,w),N.setAttribute(v.$config.bind+"_id",w),N.setAttribute("data-column-name",T);var j=function(B,z){for(var K=B.getGridColumns(),J=0;J<K.length;J++)if(K[J].name==z)return J;return 0}(v,T);return N.setAttribute("data-column-index",j),d._waiAria.inlineEditorAttr(N),A.rtl?N.style.cssText=["top:"+I.top+"px","right:"+I.right+"px","width:"+I.width+"px","height:"+I.height+"px"].join(";"):N.style.cssText=["top:"+I.top+"px","left:"+I.left+"px","width:"+I.width+"px","height:"+I.height+"px"].join(";"),N}var m=a(d),b=[],k=[],$=null,x={_itemId:null,_columnName:null,_editor:null,_editorType:null,_placeholder:null,locateCell:function(w){if(!n.isChildOf(w,v.$grid))return null;var T=n.locateAttribute(w,v.$config.item_attribute),A=n.locateAttribute(w,"data-column-name");if(T&&A){var I=A.getAttribute("data-column-name");return{id:T.getAttribute(v.$config.item_attribute),columnName:I}}return null},getEditorConfig:function(w){return v.getColumn(w).editor},init:function(){var w=f.getMapping();w.init&&w.init(this,v),$=v.$gantt.getDatastore(v.$config.bind);var T=this;b.push($.attachEvent("onIdChange",function(A,I){T._itemId==A&&(T._itemId=I)})),b.push($.attachEvent("onStoreUpdated",function(){v.$gantt.getState("batchUpdate").batch_update||T.isVisible()&&!$.isVisible(T._itemId)&&T.hide()})),k.push(d.attachEvent("onDataRender",function(){T._editor&&T._placeholder&&!n.isChildOf(T._placeholder,d.$root)&&v.$grid_data.appendChild(T._placeholder)})),this.init=function(){}},getState:function(){return{editor:this._editor,editorType:this._editorType,placeholder:this._placeholder,id:this._itemId,columnName:this._columnName}},startEdit:function(w,T){if(this.isVisible()&&this.save(),$.exists(w)){var A={id:w,columnName:T};d.isReadonly($.getItem(w))?this.callEvent("onEditPrevent",[A]):this.callEvent("onBeforeEditStart",[A])!==!1?(this.show(A.id,A.columnName),this.setValue(),this.callEvent("onEditStart",[A])):this.callEvent("onEditPrevent",[A])}},isVisible:function(){return!(!this._editor||!n.isChildOf(this._placeholder,d.$root))},show:function(w,T){this.isVisible()&&this.save();var A={id:w,columnName:T},I=v.getColumn(A.columnName),N=this.getEditorConfig(I.name);if(N){var j=v.$getConfig().editor_types[N.type],B=y(A.id,A.columnName);v.$grid_data.appendChild(B),j.show(A.id,I,N,B),this._editor=j,this._placeholder=B,this._itemId=A.id,this._columnName=A.columnName,this._editorType=N.type;var z=f.getMapping();z.onShow&&z.onShow(this,B,v)}},setValue:function(){var w=this.getState(),T=w.id,A=w.columnName,I=v.getColumn(A),N=$.getItem(T),j=this.getEditorConfig(A);if(j){var B=N[j.map_to];j.map_to=="auto"&&(B=$.getItem(T)),this._editor.set_value(B,T,I,this._placeholder),this.focus()}},focus:function(){this._editor.focus(this._placeholder)},getValue:function(){var w=v.getColumn(this._columnName);return this._editor.get_value(this._itemId,w,this._placeholder)},_getItemValue:function(){var w=this.getEditorConfig(this._columnName);if(w){var T=d.getTask(this._itemId)[w.map_to];return w.map_to=="auto"&&(T=$.getItem(this._itemId)),T}},isChanged:function(){var w=v.getColumn(this._columnName),T=this._getItemValue();return this._editor.is_changed(T,this._itemId,w,this._placeholder)},hide:function(){if(this._itemId){var w=this._itemId,T=this._columnName,A=f.getMapping();A.onHide&&A.onHide(this,this._placeholder,v),this._itemId=null,this._columnName=null,this._editorType=null,this._placeholder&&(this._editor&&this._editor.hide&&this._editor.hide(this._placeholder),this._editor=null,this._placeholder.parentNode&&this._placeholder.parentNode.removeChild(this._placeholder),this._placeholder=null,this.callEvent("onEditEnd",[{id:w,columnName:T}]))}},save:function(){if(this.isVisible()&&$.exists(this._itemId)&&this.isChanged()){var w=this._itemId,T=this._columnName;if($.exists(w)){var A=$.getItem(w),I=this.getEditorConfig(T),N={id:w,columnName:T,newValue:this.getValue(),oldValue:this._getItemValue()};if(this.callEvent("onBeforeSave",[N])!==!1&&(!this._editor.is_valid||this._editor.is_valid(N.newValue,N.id,v.getColumn(T),this._placeholder))){var j=I.map_to,B=N.newValue;j!="auto"?(A[j]=B,m(A,j,d.config.inline_editors_date_processing),$.updateItem(w)):this._editor.save(w,v.getColumn(T),this._placeholder),this.callEvent("onSave",[N])}this.hide()}}else this.hide()},_findEditableCell:function(w,T){var A=w,I=v.getGridColumns()[A],N=I?I.name:null;if(N){for(;N&&!this.getEditorConfig(N);)N=this._findEditableCell(w+T,T);return N}return null},getNextCell:function(w){return this._findEditableCell(v.getColumnIndex(this._columnName,!0)+w,w)},getFirstCell:function(){return this._findEditableCell(0,1)},getLastCell:function(){return this._findEditableCell(v.getGridColumns().length-1,-1)},editNextCell:function(w){var T=this.getNextCell(1);if(T){var A=this.getNextCell(1);A&&this.getEditorConfig(A)&&this.startEdit(this._itemId,A)}else if(w&&this.moveRow(1)){var I=this.moveRow(1);(T=this.getFirstCell())&&this.getEditorConfig(T)&&this.startEdit(I,T)}},editPrevCell:function(w){var T=this.getNextCell(-1);if(T){var A=this.getNextCell(-1);A&&this.getEditorConfig(A)&&this.startEdit(this._itemId,A)}else if(w&&this.moveRow(-1)){var I=this.moveRow(-1);(T=this.getLastCell())&&this.getEditorConfig(T)&&this.startEdit(I,T)}},moveRow:function(w){for(var T=w>0?d.getNext:d.getPrev,A=(T=d.bind(T,d))(this._itemId);d.isTaskExists(A)&&d.isReadonly(d.getTask(A));)A=T(A);return A},editNextRow:function(w){var T=this.getState().id;if(d.isTaskExists(T)){var A=null;A=w?this.moveRow(1):d.getNext(T),d.isTaskExists(A)&&this.startEdit(A,this._columnName)}},editPrevRow:function(w){var T=this.getState().id;if(d.isTaskExists(T)){var A=null;A=w?this.moveRow(-1):d.getPrev(T),d.isTaskExists(A)&&this.startEdit(A,this._columnName)}},destructor:function(){b.forEach(function(w){$.detachEvent(w)}),k.forEach(function(w){d.detachEvent(w)}),b=[],k=[],$=null,this.hide(),this.detachAllEvents()}};return t.mixin(x,f),t.mixin(x,g),x}};return t.mixin(p,f),t.mixin(p,g),p}},function(D,E){D.exports={create:function(){return{render:function(){},destroy:function(){}}}}},function(D,E,h){var _=h(3),u=h(1),s=h(0),c=h(11),i=function(r){var e=["altKey","shiftKey","metaKey"];function t(n,o,a,l){var d=r.apply(this,arguments)||this;this.$config=s.mixin(o,{scroll:"x"}),d._scrollHorizontalHandler=s.bind(d._scrollHorizontalHandler,d),d._scrollVerticalHandler=s.bind(d._scrollVerticalHandler,d),d._outerScrollVerticalHandler=s.bind(d._outerScrollVerticalHandler,d),d._outerScrollHorizontalHandler=s.bind(d._outerScrollHorizontalHandler,d),d._mouseWheelHandler=s.bind(d._mouseWheelHandler,d),this.$config.hidden=!0;var f=l.config.scroll_size;return l.env.isIE&&(f+=1),this._isHorizontal()?(d.$config.height=f,d.$parent.$config.height=f):(d.$config.width=f,d.$parent.$config.width=f),this.$config.scrollPosition=0,d.$name="scroller",d}return _(t,r),t.prototype.init=function(n){n.innerHTML=this.$toHTML(),this.$view=n.firstChild,this.$view||this.init(),this._isVertical()?this._initVertical():this._initHorizontal(),this._initMouseWheel(),this._initLinkedViews()},t.prototype.$toHTML=function(){return"<div class='gantt_layout_cell "+(this._isHorizontal()?"gantt_hor_scroll":"gantt_ver_scroll")+"'><div style='"+(this._isHorizontal()?"width:2000px":"height:2000px")+"'></div></div>"},t.prototype._getRootParent=function(){for(var n=this.$parent;n&&n.$parent;)n=n.$parent;if(n)return n},t.prototype._eachView=function(){var n=[];return function o(a,l){if(l.push(a),a.$cells)for(var d=0;d<a.$cells.length;d++)o(a.$cells[d],l)}(this._getRootParent(),n),n},t.prototype._getLinkedViews=function(){for(var n=this._eachView(),o=[],a=0;a<n.length;a++)n[a].$config&&(this._isVertical()&&n[a].$config.scrollY==this.$id||this._isHorizontal()&&n[a].$config.scrollX==this.$id)&&o.push(n[a]);return o},t.prototype._initHorizontal=function(){this.$scroll_hor=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollHorizontalHandler)},t.prototype._initLinkedViews=function(){for(var n=this._getLinkedViews(),o=this._isVertical()?"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical":"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal",a=0;a<n.length;a++)u.addClassName(n[a].$view||n[a].getNode(),o)},t.prototype._initVertical=function(){this.$scroll_ver=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollVerticalHandler)},t.prototype._updateLinkedViews=function(){},t.prototype._initMouseWheel=function(){c.isFF?this.$domEvents.attach(this._getRootParent().$view,"wheel",this._mouseWheelHandler,{passive:!1}):this.$domEvents.attach(this._getRootParent().$view,"mousewheel",this._mouseWheelHandler,{passive:!1})},t.prototype.scrollHorizontally=function(n){if(!this._scrolling){this._scrolling=!0,this.$scroll_hor.scrollLeft=n,this.$config.codeScrollLeft=n,n=this.$scroll_hor.scrollLeft;for(var o=this._getLinkedViews(),a=0;a<o.length;a++)o[a].scrollTo&&o[a].scrollTo(n,void 0);var l=this.$config.scrollPosition;this.$config.scrollPosition=n,this.callEvent("onScroll",[l,n,this.$config.scroll]),this._scrolling=!1}},t.prototype.scrollVertically=function(n){if(!this._scrolling){this._scrolling=!0,this.$scroll_ver.scrollTop=n,n=this.$scroll_ver.scrollTop;for(var o=this._getLinkedViews(),a=0;a<o.length;a++)o[a].scrollTo&&o[a].scrollTo(void 0,n);var l=this.$config.scrollPosition;this.$config.scrollPosition=n,this.callEvent("onScroll",[l,n,this.$config.scroll]),this._scrolling=!1}},t.prototype._isVertical=function(){return this.$config.scroll=="y"},t.prototype._isHorizontal=function(){return this.$config.scroll=="x"},t.prototype._scrollHorizontalHandler=function(n){if(!this._isVertical()&&!this._scrolling){if(new Date-(this._wheel_time||0)<100)return!0;var o=this.$scroll_hor.scrollLeft;this.scrollHorizontally(o),this._oldLeft=this.$scroll_hor.scrollLeft}},t.prototype._outerScrollHorizontalHandler=function(n){this._isVertical()},t.prototype.show=function(){this.$parent.show()},t.prototype.hide=function(){this.$parent.hide()},t.prototype._getScrollSize=function(){for(var n,o=0,a=0,l=this._isHorizontal(),d=this._getLinkedViews(),f=l?"scrollWidth":"scrollHeight",g=l?"contentX":"contentY",p=l?"x":"y",v=this._getScrollOffset(),y=0;y<d.length;y++)if((n=d[y])&&n.$content&&n.$content.getSize&&!n.$config.hidden){var m,b=n.$content.getSize();if(m=b.hasOwnProperty(f)?b[f]:b[g],v)b[g]>b[p]&&b[g]>o&&m>b[p]-v+2&&(o=m+(l?0:2),a=b[p]);else{var k=Math.max(b[g]-m,0);(m+=k)>Math.max(b[p]-k,0)&&m>o&&(o=m,a=b[p])}}return{outerScroll:a,innerScroll:o}},t.prototype.scroll=function(n){this._isHorizontal()?this.scrollHorizontally(n):this.scrollVertically(n)},t.prototype.getScrollState=function(){return{visible:this.isVisible(),direction:this.$config.scroll,size:this.$config.outerSize,scrollSize:this.$config.scrollSize||0,position:this.$config.scrollPosition||0}},t.prototype.setSize=function(n,o){r.prototype.setSize.apply(this,arguments);var a=this._getScrollSize(),l=(this._isVertical()?o:n)-this._getScrollOffset()+(this._isHorizontal()?1:0);a.innerScroll&&l>a.outerScroll&&(a.innerScroll+=l-a.outerScroll),this.$config.scrollSize=a.innerScroll,this.$config.width=n,this.$config.height=o,this._setScrollSize(a.innerScroll)},t.prototype.isVisible=function(){return!(!this.$parent||!this.$parent.$view.parentNode)},t.prototype.shouldShow=function(){var n=this._getScrollSize();return!(!n.innerScroll&&this.$parent&&this.$parent.$view.parentNode)&&!(!n.innerScroll||this.$parent&&this.$parent.$view.parentNode)},t.prototype.shouldHide=function(){return!(this._getScrollSize().innerScroll||!this.$parent||!this.$parent.$view.parentNode)},t.prototype.toggleVisibility=function(){this.shouldHide()?this.hide():this.shouldShow()&&this.show()},t.prototype._getScaleOffset=function(n){var o=0;return!n||n.$config.view!="timeline"&&n.$config.view!="grid"||(o=n.$content.$getConfig().scale_height),o},t.prototype._getScrollOffset=function(){var n=0;if(this._isVertical()){var o=this.$parent.$parent;n=Math.max(this._getScaleOffset(o.getPrevSibling(this.$parent.$id)),this._getScaleOffset(o.getNextSibling(this.$parent.$id)))}else for(var a=this._getLinkedViews(),l=0;l<a.length;l++){var d=a[l].$parent.$cells,f=d[d.length-1];if(f&&f.$config.view=="scrollbar"&&f.$config.hidden===!1){n=f.$config.width;break}}return n||0},t.prototype._setScrollSize=function(n){var o=this._isHorizontal()?"width":"height",a=this._isHorizontal()?this.$scroll_hor:this.$scroll_ver,l=this._getScrollOffset(),d=a.firstChild;l?this._isVertical()?(this.$config.outerSize=this.$config.height-l+3,a.style.height=this.$config.outerSize+"px",a.style.top=l-1+"px",u.addClassName(a,this.$parent._borders.top),u.addClassName(a.parentNode,"gantt_task_vscroll")):(this.$config.outerSize=this.$config.width-l+1,a.style.width=this.$config.outerSize+"px"):(a.style.top="auto",u.removeClassName(a,this.$parent._borders.top),u.removeClassName(a.parentNode,"gantt_task_vscroll"),this.$config.outerSize=this.$config.height),d.style[o]=n+"px"},t.prototype._scrollVerticalHandler=function(n){if(!this._scrollHorizontalHandler()&&!this._scrolling){var o=this.$scroll_ver.scrollTop;o!=this._oldTop&&(this.scrollVertically(o),this._oldTop=this.$scroll_ver.scrollTop)}},t.prototype._outerScrollVerticalHandler=function(n){this._scrollHorizontalHandler()},t.prototype._checkWheelTarget=function(n){for(var o=this._getLinkedViews().concat(this),a=0;a<o.length;a++){var l=o[a].$view;if(u.isChildOf(n,l))return!0}return!1},t.prototype._mouseWheelHandler=function(n){var o=n.target||n.srcElement;if(this._checkWheelTarget(o)){this._wheel_time=new Date;var a={},l={x:1,y:1},d=this.$gantt.config.wheel_scroll_sensitivity;typeof d=="number"&&d?l={x:d,y:d}:{}.toString.apply(d)=="[object Object]"&&(l={x:d.x,y:d.y});var f=c.isFF,g=f?n.deltaX:n.wheelDeltaX,p=f?n.deltaY:n.wheelDelta,v=-20;f&&(v=n.deltaMode!==0?-40:-10);var y=f?g*v*l.x:2*g*l.x,m=f?p*v*l.y:p*l.y,b=this.$gantt.config.horizontal_scroll_key;if(b!==!1&&e.indexOf(b)>=0&&(!n[b]||n.deltaX||n.wheelDeltaX||(y=2*m,m=0)),y&&Math.abs(y)>Math.abs(m)){if(this._isVertical())return;if(a.x||!this.$scroll_hor||!this.$scroll_hor.offsetWidth)return!0;var k=y/-40,$=this._oldLeft,x=$+30*k;if(this.scrollHorizontally(x),this.$scroll_hor.scrollLeft=x,$==this.$scroll_hor.scrollLeft)return!0;this._oldLeft=this.$scroll_hor.scrollLeft}else{if(this._isHorizontal())return;if(a.y||!this.$scroll_ver||!this.$scroll_ver.offsetHeight)return!0;k=m/-40,m===void 0&&(k=n.detail);var w=this._oldTop,T=this.$scroll_ver.scrollTop+30*k;if(this.scrollVertically(T),this.$scroll_ver.scrollTop=T,w==this.$scroll_ver.scrollTop)return!0;this._oldTop=this.$scroll_ver.scrollTop}return n.preventDefault&&n.preventDefault(),n.cancelBubble=!0,!1}},t}(h(14));D.exports=i},function(D,E){D.exports=null},function(D,E,h){var _=h(3),u=h(0),s=function(c){function i(r,e,t){var n=c.apply(this,arguments)||this;if(e.view){e.id&&(this.$id=u.uid());var o=u.copy(e);if(delete o.config,delete o.templates,this.$content=this.$factory.createView(e.view,this,o,this),!this.$content)return!1}return n.$name="viewCell",n}return _(i,c),i.prototype.destructor=function(){this.clear(),c.prototype.destructor.call(this)},i.prototype.clear=function(){if(this.$initialized=!1,this.$content){var r=this.$content.unload||this.$content.destructor;r&&r.call(this.$content)}c.prototype.clear.call(this)},i.prototype.scrollTo=function(r,e){this.$content&&this.$content.scrollTo?this.$content.scrollTo(r,e):c.prototype.scrollTo.call(this,r,e)},i.prototype._setContentSize=function(r,e){var t=this._getBorderSizes();if(typeof r=="number"){var n=r+t.horizontal;this.$config.width=n}if(typeof e=="number"){var o=e+t.vertical;this.$config.height=o}},i.prototype.setSize=function(r,e){if(c.prototype.setSize.call(this,r,e),!this.$preResize&&this.$content&&!this.$initialized){this.$initialized=!0;var t=this.$view.childNodes[0],n=this.$view.childNodes[1];n||(n=t),this.$content.init(n)}},i.prototype.setContentSize=function(){!this.$preResize&&this.$content&&this.$initialized&&this.$content.setSize(this.$lastSize.contentX,this.$lastSize.contentY)},i.prototype.getContentSize=function(){var r=c.prototype.getContentSize.call(this);if(this.$content&&this.$initialized){var e=this.$content.getSize();r.width=e.contentX===void 0?e.width:e.contentX,r.height=e.contentY===void 0?e.height:e.contentY}var t=this._getBorderSizes();return r.width+=t.horizontal,r.height+=t.vertical,r},i}(h(14));D.exports=s},function(D,E,h){var _=h(3),u=h(38),s=h(14),c=function(i){function r(e,t,n){for(var o=i.apply(this,arguments)||this,a=0;a<o.$cells.length;a++)o.$cells[a].$config.hidden=a!==0;return o.$cell=o.$cells[0],o.$name="viewLayout",o}return _(r,i),r.prototype.cell=function(e){var t=i.prototype.cell.call(this,e);return t.$view||this.$fill(null,this),t},r.prototype.moveView=function(e){var t=this.$view;this.$cell&&(this.$cell.$config.hidden=!0,t.removeChild(this.$cell.$view)),this.$cell=e,t.appendChild(e.$view)},r.prototype.setSize=function(e,t){s.prototype.setSize.call(this,e,t)},r.prototype.setContentSize=function(){var e=this.$lastSize;this.$cell.setSize(e.contentX,e.contentY)},r.prototype.getSize=function(){var e=i.prototype.getSize.call(this);if(this.$cell){var t=this.$cell.getSize();if(this.$config.byMaxSize)for(var n=0;n<this.$cells.length;n++){var o=this.$cells[n].getSize();for(var a in t)t[a]=Math.max(t[a],o[a])}for(var l in e)e[l]=e[l]||t[l];e.gravity=Math.max(e.gravity,t.gravity)}return e},r}(u);D.exports=c},function(D,E){D.exports=function(h,_,u){if(!h.start_date||!h.end_date)return null;var s=_.posFromDate(h.start_date),c=_.posFromDate(h.end_date),i=Math.min(s,c)-200,r=Math.max(s,c)+200;return{top:_.getItemTop(h.id),height:_.getItemHeight(h.id),left:i,width:r-i}}},function(D,E,h){var _=h(133);D.exports=function(u,s,c,i){if(!i.isTaskExists(u.source)||!i.isTaskExists(u.target))return null;var r=_(i.getTask(u.source),s,i),e=_(i.getTask(u.target),s,i);if(!r||!e)return null;var t=Math.min(r.left,e.left)-100,n=Math.max(r.left+r.width,e.left+e.width)+100,o=Math.min(r.top,e.top)-100,a=Math.max(r.top+r.height,e.top+e.height)+100;return{top:o,height:a-o,bottom:a,left:t,width:n-t,right:n}}},function(D,E){D.exports=function(h,_){return!!_&&!(_.left>h.x_end||_.left+_.width<h.x)&&!(_.top>h.y_end||_.top+_.height<h.y)}},function(D,E,h){var _=h(135),u=h(20),s=h(30),c=h(6);D.exports=function(i){var r={},e={};function t(o){var a=null;return typeof o.view=="string"?a=i.$ui.getView(o.view):o.view&&(a=o.view),a}function n(o,a,l){if(e[o])return e[o];a.renderer||i.assert(!1,"Invalid renderer call");var d=null,f=null,g=null,p=null,v=null;typeof a.renderer=="function"?(d=a.renderer,g=s):(d=a.renderer.render,f=a.renderer.update,p=a.renderer.onrender,a.renderer.isInViewPort?v=a.renderer.isInViewPort:g=a.renderer.getRectangle,g||g===null||(g=s));var y=a.filter;return l&&l.setAttribute(i.config.layer_attribute,!0),e[o]={render_item:function(m,b,k,$,x){if(b=b||l,!y||y(m)){var w=$||t(a),T=x||(w?w.$getConfig():null),A=k;!A&&T&&T.smart_rendering&&(A=w.getViewPort());var I=null;!u(i)&&(g||v)&&A?(v?v(m,A,w,T,i):_(A,g(m,w,T,i)))&&(I=d.call(i,m,w,T,A)):I=d.call(i,m,w,T,A),this.append(m,I,b);var N=b.nodeType==11;p&&!N&&I&&p.call(i,m,I,w)}else this.remove_item(m.id)},clear:function(m){this.rendered=r[o]={},a.append||this.clear_container(m)},clear_container:function(m){(m=m||l)&&(m.innerHTML="")},get_visible_range:function(m){var b,k,$=t(a),x=$?$.$getConfig():null;return x&&x.smart_rendering&&(b=$.getViewPort()),$&&b&&(typeof a.renderer=="function"?k=c(i,$,x,m,b):a.renderer&&a.renderer.getVisibleRange&&(k=a.renderer.getVisibleRange(i,$,x,m,b))),k||(k={start:0,end:m.count()}),k},prepare_data:function(m){if(a.renderer&&a.renderer.prepareData)return a.renderer.prepareData(m,i,a)},render_items:function(m,b){b=b||l;var k=document.createDocumentFragment();this.clear(b);var $=null,x=t(a),w=x?x.$getConfig():null;w&&w.smart_rendering&&($=x.getViewPort());for(var T=0,A=m.length;T<A;T++)this.render_item(m[T],k,$,x,w);b.appendChild(k,b);var I={};m.forEach(function(B){I[B.id]=B});var N={};if(p){var j={};for(var T in this.rendered)N[T]||(j[T]=this.rendered[T],p.call(i,I[T],this.rendered[T],x))}},update_items:function(m,b){var k=t(a),$=k?k.$getConfig():null;if(k&&k.$getConfig().smart_rendering&&!u(i)&&this.rendered&&(g||v)){b=b||l;var x=document.createDocumentFragment(),w=null;k&&(w=k.getViewPort());var T={};m.forEach(function(R){T[R.id]=R});var A={},I={};for(var N in this.rendered)I[N]=!0,A[N]=!0;for(var j={},B=(N=0,m.length);N<B;N++){var z=m[N],K=this.rendered[z.id];I[z.id]=!1,K&&K.parentNode?(v?v(z,w,k,$,i):_(w,g(z,k,$,i)))?(f&&f.call(i,z,K,k,$,w),this.restore(z,x)):I[z.id]=!0:(j[m[N].id]=!0,this.render_item(m[N],x,w,k,$))}for(var N in I)I[N]&&this.hide(N);if(x.childNodes.length&&b.appendChild(x,b),p){var J={};for(var N in this.rendered)A[N]&&!j[N]||(J[N]=this.rendered[N],p.call(i,T[N],this.rendered[N],k))}}},append:function(m,b,k){this.rendered&&(b?(this.rendered[m.id]&&this.rendered[m.id].parentNode?this.replace_item(m.id,b):k.appendChild(b),this.rendered[m.id]=b):this.rendered[m.id]&&this.remove_item(m.id))},replace_item:function(m,b){var k=this.rendered[m];k&&k.parentNode&&k.parentNode.replaceChild(b,k),this.rendered[m]=b},remove_item:function(m){this.hide(m),delete this.rendered[m]},hide:function(m){var b=this.rendered[m];b&&b.parentNode&&b.parentNode.removeChild(b)},restore:function(m,b){var k=this.rendered[m.id];k?k.parentNode||this.append(m,k,b||l):this.render_item(m,b||l)},change_id:function(m,b){this.rendered[b]=this.rendered[m],delete this.rendered[m]},rendered:r[o],node:l,destructor:function(){this.clear(),delete e[o],delete r[o]}},e[o]}return{getRenderer:n,clearRenderers:function(){for(var o in e)n(o).destructor()}}}},function(D,E,h){var _=h(136),u=h(0),s=h(1),c=h(20);function i(r){return r instanceof Array||(r=Array.prototype.slice.call(arguments,0)),function(e){for(var t=!0,n=0,o=r.length;n<o;n++){var a=r[n];a&&(t=t&&a(e.id,e)!==!1)}return t}}D.exports=function(r){var e=_(r);return{createGroup:function(t,n,o,a){var l={tempCollection:[],renderers:{},container:t,filters:[],getLayers:function(){this._add();var d=[];for(var f in this.renderers)d.push(this.renderers[f]);return d},getLayer:function(d){return this.renderers[d]},_add:function(d){d&&(d.id=d.id||u.uid(),this.tempCollection.push(d));for(var f=this.container(),g=this.tempCollection,p=0;p<g.length;p++)if(d=g[p],this.container()||d&&d.container&&s.isChildOf(d.container,document.body)){var v=d.container,y=d.id,m=d.topmost;if(!v.parentNode)if(m)f.appendChild(v);else{var b=n?n():f.firstChild;b&&b.parentNode==f?f.insertBefore(v,b):f.appendChild(v)}this.renderers[y]=e.getRenderer(y,d,v),a&&a(d,r),this.tempCollection.splice(p,1),p--}},addLayer:function(d){if(d){typeof d=="function"&&(d={renderer:d}),d.filter===void 0?d.filter=i(o||[]):d.filter instanceof Array&&(d.filter.push(o),d.filter=i(d.filter)),d.container||(d.container=document.createElement("div"));var f=this;d.requestUpdate=function(){r.config.smart_rendering&&!c(r)&&f.renderers[d.id]&&f.onUpdateRequest(f.renderers[d.id])}}return this._add(d),d?d.id:void 0},onUpdateRequest:function(d){},eachLayer:function(d){for(var f in this.renderers)d(this.renderers[f])},removeLayer:function(d){this.renderers[d]&&(this.renderers[d].destructor(),delete this.renderers[d])},clear:function(){for(var d in this.renderers)this.renderers[d].destructor();this.renderers={}}};return r.attachEvent("onDestroy",function(){l.clear(),l=null}),l}}}},function(D,E,h){var _=h(137),u=h(6),s=h(40),c=h(39);function i(r,e){if(r.view){var t=r.view;typeof t=="string"&&(t=e.$ui.getView(t)),t&&t.attachEvent&&t.attachEvent("onScroll",function(){e.$services.getService("state").getState("batchUpdate").batch_update||t.$config.$skipSmartRenderOnScroll||r.requestUpdate&&r.requestUpdate()})}}D.exports=function(r){var e=_(r);return{getDataRender:function(t){return r.$services.getService("layer:"+t)||null},createDataRender:function(t){var n=t.name,o=t.defaultContainer,a=t.defaultContainerSibling,l=e.createGroup(o,a,function(d,f){if(!l.filters)return!0;for(var g=0;g<l.filters.length;g++)if(l.filters[g](d,f)===!1)return!1},i);return r.$services.setService("layer:"+n,function(){return l}),r.attachEvent("onGanttReady",function(){l.addLayer()}),l},init:function(){var t=this.createDataRender({name:"task",defaultContainer:function(){return r.$task_data?r.$task_data:r.$ui.getView("timeline")?r.$ui.getView("timeline").$task_data:void 0},defaultContainerSibling:function(){return r.$task_links?r.$task_links:r.$ui.getView("timeline")?r.$ui.getView("timeline").$task_links:void 0},filter:function(o){}},r),n=this.createDataRender({name:"link",defaultContainer:function(){return r.$task_data?r.$task_data:r.$ui.getView("timeline")?r.$ui.getView("timeline").$task_data:void 0}},r);return{addTaskLayer:function(o){var a=u;return typeof o=="function"?o={renderer:{render:o,getVisibleRange:a}}:o.renderer&&!o.renderer.getVisibleRange&&(o.renderer.getVisibleRange=a),o.view="timeline",t.addLayer(o)},_getTaskLayers:function(){return t.getLayers()},removeTaskLayer:function(o){t.removeLayer(o)},_clearTaskLayers:function(){t.clear()},addLinkLayer:function(o){var a=s();return typeof o=="function"?o={renderer:{render:o,getVisibleRange:a}}:o.renderer&&!o.renderer.getVisibleRange&&(o.renderer.getVisibleRange=a),o.view="timeline",o&&o.renderer&&(o.renderer.getRectangle||o.renderer.isInViewPort||(o.renderer.isInViewPort=c)),n.addLayer(o)},_getLinkLayers:function(){return n.getLayers()},removeLinkLayer:function(o){n.removeLayer(o)},_clearLinkLayers:function(){n.clear()}}}}}},function(D,E,h){var _=function(u){return function(s){var c={click:{},doubleclick:{},contextMenu:{}};function i(f,g,p,v){c[f][g]||(c[f][g]=[]),c[f][g].push({handler:p,root:v})}function r(f){f=f||window.event;var g=s.locate(f),p=t(f,c.click),v=!0;if(g!==null?v=!s.checkEvent("onTaskClick")||s.callEvent("onTaskClick",[g,f]):s.callEvent("onEmptyClick",[f]),v){if(!n(p,f,g))return;switch(f.target.nodeName){case"SELECT":case"INPUT":return}g&&s.getTask(g)&&!s._multiselect&&s.config.select_task&&s.selectTask(g)}}function e(f){var g=(f=f||window.event).target||f.srcElement,p=s.locate(g),v=s.locate(g,s.config.link_attribute),y=!s.checkEvent("onContextMenu")||s.callEvent("onContextMenu",[p,v,f]);return y||(f.preventDefault?f.preventDefault():f.returnValue=!1),y}function t(f,g){for(var p=f.target||f.srcElement,v=[];p;){var y=u.getClassName(p);if(y){y=y.split(" ");for(var m=0;m<y.length;m++)if(y[m]&&g[y[m]])for(var b=g[y[m]],k=0;k<b.length;k++)b[k].root&&!u.isChildOf(p,b[k].root)||v.push(b[k].handler)}p=p.parentNode}return v}function n(f,g,p){for(var v=!0,y=0;y<f.length;y++){var m=f[y].call(s,g,p,g.target||g.srcElement);v=v&&!(m!==void 0&&m!==!0)}return v}function o(f){f=f||window.event;var g=s.locate(f),p=t(f,c.doubleclick),v=!s.checkEvent("onTaskDblClick")||g===null||s.callEvent("onTaskDblClick",[g,f]);if(v){if(!n(p,f,g))return;g!==null&&s.getTask(g)&&v&&s.config.details_on_dblclick&&!s.isReadonly(g)&&s.showLightbox(g)}}function a(f){if(s.checkEvent("onMouseMove")){var g=s.locate(f);s._last_move_event=f,s.callEvent("onMouseMove",[g,f])}}var l=s._createDomEventScope();function d(f){l.detachAll(),f&&(l.attach(f,"click",r),l.attach(f,"dblclick",o),l.attach(f,"mousemove",a),l.attach(f,"contextmenu",e))}return{reset:d,global:function(f,g,p){i(f,g,p,null)},delegate:i,detach:function(f,g,p,v){if(c[f]&&c[f][g]){for(var y=c[f],m=y[g],b=0;b<m.length;b++)m[b].root==v&&(m.splice(b,1),b--);m.length||delete y[g]}},callHandler:function(f,g,p,v){var y=c[f][g];if(y)for(var m=0;m<y.length;m++)(p||y[m].root)&&y[m].root!==p||y[m].handler.apply(this,v)},onDoubleClick:o,onMouseMove:a,onContextMenu:e,onClick:r,destructor:function(){d(),c=null,l=null}}}}(h(1));D.exports={init:_}},function(D,E,h){var _=h(0);function u(s,c){var i=this.$config[s];return i?(i.$extendedConfig||(i.$extendedConfig=!0,Object.setPrototypeOf(i,c)),i):c}D.exports=function(s,c){_.mixin(s,function(i){var r,e;return{$getConfig:function(){return r||(r=i?i.$getConfig():this.$gantt.config),this.$config.config?u.call(this,"config",r):r},$getTemplates:function(){return e||(e=i?i.$getTemplates():this.$gantt.templates),this.$config.templates?u.call(this,"templates",e):e}}}(c))}},function(D,E,h){function _(c){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(c)}var u=h(0),s=h(140);D.exports={createFactory:function(c){var i={},r={};function e(t,n,o,a){var l=i[t];if(!l||!l.create)return!1;t!="resizer"||o.mode||(a.$config.cols?o.mode="x":o.mode="y"),t!="viewcell"||o.view!="scrollbar"||o.scroll||(a.$config.cols?o.scroll="y":o.scroll="x"),(o=u.copy(o)).id||r[o.view]||(o.id=o.view),o.id&&!o.css&&(o.css=o.id+"_cell");var d=new l.create(n,o,this,c);return l.configure&&l.configure(d),s(d,a),d.$id||(d.$id=o.id||c.uid()),d.$parent||_(n)!="object"||(d.$parent=n),d.$config||(d.$config=o),r[d.$id]&&(d.$id=c.uid()),r[d.$id]=d,d}return{initUI:function(t,n){var o="cell";return t.view?o="viewcell":t.resizer?o="resizer":t.rows||t.cols?o="layout":t.views&&(o="multiview"),e.call(this,o,null,t,n)},reset:function(){r={}},registerView:function(t,n,o){i[t]={create:n,configure:o}},createView:e,getView:function(t){return r[t]}}}}},function(D,E,h){var _=h(141),u=h(139),s=h(138),c=h(14),i=h(38),r=h(132),e=h(131),t=h(130),n=h(129),o=h(29),a=h(32),l=h(32),d=h(29),f=h(29),g=h(127),p=h(116),v=h(115),y=h(113),m=h(112),b=h(110),k=h(109),$=h(108),x=h(107),w=h(106),T=h(105),A=h(99),I=h(96);D.exports={init:function(N){function j(J,R){var P=R(N);P.onCreated&&P.onCreated(J),J.attachEvent("onReady",function(){P.onInitialized&&P.onInitialized(J)}),J.attachEvent("onDestroy",function(){P.onDestroyed&&P.onDestroyed(J)})}var B=_.createFactory(N);B.registerView("cell",c),B.registerView("resizer",t),B.registerView("scrollbar",n),B.registerView("layout",i,function(J){(J.$config?J.$config.id:null)==="main"&&j(J,I)}),B.registerView("viewcell",e),B.registerView("multiview",r),B.registerView("timeline",o,function(J){(J.$config?J.$config.id:null)!=="timeline"&&J.$config.bind!="task"||j(J,A)}),B.registerView("grid",a,function(J){(J.$config?J.$config.id:null)!=="grid"&&J.$config.bind!="task"||j(J,T)}),B.registerView("resourceGrid",l),B.registerView("resourceTimeline",d),B.registerView("resourceHistogram",f);var z=s(N),K=g(N);return N.ext.inlineEditors=K,N.ext._inlineEditors=K,K.init(N),{factory:B,mouseEvents:u.init(N),layersApi:z.init(),render:{gridLine:function(){return k(N)},taskBg:function(){return m(N)},taskBar:function(){return p(N)},taskRollupBar:function(){return y(N)},taskSplitBar:function(){return v(N)},link:function(){return b(N)},resourceRow:function(){return $(N)},resourceHistogram:function(){return x(N)},gridTaskRowResizer:function(){return w(N)}},layersService:{getDataRender:function(J){return z.getDataRender(J,N)},createDataRender:function(J){return z.createDataRender(J,N)}}}}}},function(D,E,h){function _(c){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(c)}var u=h(0),s=h(1);D.exports=function(c){var i="data-dhxbox",r=null;function e(x,w){var T=x.callback;b.hide(x.box),r=x.box=null,T&&T(w)}function t(x){if(r){var w=x.which||x.keyCode,T=!1;if(k.keyboard){if(w==13||w==32){var A=x.target||x.srcElement;s.getClassName(A).indexOf("gantt_popup_button")>-1&&A.click?A.click():(e(r,!0),T=!0)}w==27&&(e(r,!1),T=!0)}return T?(x.preventDefault&&x.preventDefault(),!(x.cancelBubble=!0)):void 0}}var n=s.getRootNode(c.$root)||document;function o(x){o.cover||(o.cover=document.createElement("div"),o.cover.onkeydown=t,o.cover.className="dhx_modal_cover",document.body.appendChild(o.cover)),o.cover.style.display=x?"inline-block":"none"}function a(x,w,T){return"<div "+c._waiAria.messageButtonAttrString(x)+" class='gantt_popup_button "+("gantt_"+w.toLowerCase().replace(/ /g,"_")+"_button")+"' data-result='"+T+"' result='"+T+"' ><div>"+x+"</div></div>"}function l(x){k.area||(k.area=document.createElement("div"),k.area.className="gantt_message_area",k.area.style[k.position]="5px",document.body.appendChild(k.area)),k.hide(x.id);var w=document.createElement("div");return w.innerHTML="<div>"+x.text+"</div>",w.className="gantt-info gantt-"+x.type,w.onclick=function(){k.hide(x.id),x=null},c._waiAria.messageInfoAttr(w),k.position=="bottom"&&k.area.firstChild?k.area.insertBefore(w,k.area.firstChild):k.area.appendChild(w),x.expire>0&&(k.timers[x.id]=window.setTimeout(function(){k&&k.hide(x.id)},x.expire)),k.pull[x.id]=w,w=null,x.id}function d(){for(var x=[].slice.apply(arguments,[0]),w=0;w<x.length;w++)if(x[w])return x[w]}function f(x,w,T){var A=x.tagName?x:function(j,B,z){var K=document.createElement("div"),J=u.uid();c._waiAria.messageModalAttr(K,J),K.className=" gantt_modal_box gantt-"+j.type,K.setAttribute(i,1);var R="";if(j.width&&(K.style.width=j.width),j.height&&(K.style.height=j.height),j.title&&(R+='<div class="gantt_popup_title">'+j.title+"</div>"),R+='<div class="gantt_popup_text" id="'+J+'"><span>'+(j.content?"":j.text)+'</span></div><div  class="gantt_popup_controls">',B&&(R+=a(d(j.ok,c.locale.labels.message_ok,"OK"),"ok",!0)),z&&(R+=a(d(j.cancel,c.locale.labels.message_cancel,"Cancel"),"cancel",!1)),j.buttons)for(var P=0;P<j.buttons.length;P++){var G=j.buttons[P];_(G)=="object"?R+=a(G.label,G.css||"gantt_"+G.label.toLowerCase()+"_button",G.value||P):R+=a(G,G,P)}if(R+="</div>",K.innerHTML=R,j.content){var O=j.content;typeof O=="string"&&(O=document.getElementById(O)),O.style.display=="none"&&(O.style.display=""),K.childNodes[j.title?1:0].appendChild(O)}return K.onclick=function(Y){var q=Y.target||Y.srcElement;if(q.className||(q=q.parentNode),s.closest(q,".gantt_popup_button")){var U=q.getAttribute("data-result");e(j,U=U=="true"||U!="false"&&U)}},j.box=K,(B||z)&&(r=j),K}(x,w,T);x.hidden||o(!0),document.body.appendChild(A);var I=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-A.offsetWidth)/2)),N=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-A.offsetHeight)/2));return x.position=="top"?A.style.top="-3px":A.style.top=N+"px",A.style.left=I+"px",A.onkeydown=t,b.focus(A),x.hidden&&b.hide(A),c.callEvent("onMessagePopup",[A]),A}function g(x){return f(x,!0,!1)}function p(x){return f(x,!0,!0)}function v(x){return f(x)}function y(x,w,T){return _(x)!="object"&&(typeof w=="function"&&(T=w,w=""),x={text:x,type:w,callback:T}),x}function m(x,w,T,A){return _(x)!="object"&&(x={text:x,type:w,expire:T,id:A}),x.id=x.id||u.uid(),x.expire=x.expire||k.expire,x}c.event(n,"keydown",t,!0);var b=function(){var x=y.apply(this,arguments);return x.type=x.type||"alert",v(x)};b.hide=function(x){for(;x&&x.getAttribute&&!x.getAttribute(i);)x=x.parentNode;x&&(x.parentNode.removeChild(x),o(!1),c.callEvent("onAfterMessagePopup",[x]))},b.focus=function(x){setTimeout(function(){var w=s.getFocusableNodes(x);w.length&&w[0].focus&&w[0].focus()},1)};var k=function(x,w,T,A){switch((x=m.apply(this,arguments)).type=x.type||"info",x.type.split("-")[0]){case"alert":return g(x);case"confirm":return p(x);case"modalbox":return v(x);default:return l(x)}};k.seed=new Date().valueOf(),k.uid=u.uid,k.expire=4e3,k.keyboard=!0,k.position="top",k.pull={},k.timers={},k.hideAll=function(){for(var x in k.pull)k.hide(x)},k.hide=function(x){var w=k.pull[x];w&&w.parentNode&&(window.setTimeout(function(){w.parentNode.removeChild(w),w=null},2e3),w.className+=" hidden",k.timers[x]&&window.clearTimeout(k.timers[x]),delete k.pull[x])};var $=[];return c.attachEvent("onMessagePopup",function(x){$.push(x)}),c.attachEvent("onAfterMessagePopup",function(x){for(var w=0;w<$.length;w++)$[w]===x&&($.splice(w,1),w--)}),c.attachEvent("onDestroy",function(){o.cover&&o.cover.parentNode&&o.cover.parentNode.removeChild(o.cover);for(var x=0;x<$.length;x++)$[x].parentNode&&$[x].parentNode.removeChild($[x]);$=null,k.area&&k.area.parentNode&&k.area.parentNode.removeChild(k.area),k=null}),{alert:function(){var x=y.apply(this,arguments);return x.type=x.type||"confirm",g(x)},confirm:function(){var x=y.apply(this,arguments);return x.type=x.type||"alert",p(x)},message:k,modalbox:b}}},function(D,E,h){D.exports=function(_){var u=h(0),s=h(11),c=h(15);if(!s.isNode){var i=h(1),r=h(2);_.utils={arrayFind:r.arrayFind,dom:i};var e=h(51)();_.event=e.attach,_.eventRemove=e.detach,_._eventRemoveAll=e.detachAll,_._createDomEventScope=e.extend,u.mixin(_,h(143)(_));var t=h(142).init(_);_.$ui=t.factory,_.$ui.layers=t.render,_.$mouseEvents=t.mouseEvents,_.$services.setService("mouseEvents",function(){return _.$mouseEvents}),_.mixin(_,t.layersApi),h(95)(_),_.$services.setService("layers",function(){return t.layersService});var n=h(94);_.mixin(_,n()),h(93)(_),h(92)(_),h(91)(_),h(90)(_),h(89)(_),h(88)(_),h(87)(_),h(86)(_),h(85)(_),h(80)(_),h(79)(_),h(69)(_),h(68)(_),_.locate=function(o){var a=i.getTargetNode(o);if(i.closest(a,".gantt_task_row"))return null;var l=arguments[1]||this.config.task_attribute,d=i.locateAttribute(a,l);return d?d.getAttribute(l):null},_._locate_css=function(o,a,l){return i.locateClassName(o,a,l)},_._locateHTML=function(o,a){return i.locateAttribute(o,a||this.config.task_attribute)}}_.attachEvent("onParse",function(){c(_)||_.attachEvent("onGanttRender",function(){if(_.config.initial_scroll){var o=_.getTaskByIndex(0),a=o?o.id:_.config.root_id;_.isTaskExists(a)&&_.$task&&_.utils.dom.isChildOf(_.$task,_.$container)&&_.showTask(a)}},{once:!0})}),_.attachEvent("onBeforeGanttReady",function(){this.config.scroll_size||(this.config.scroll_size=i.getScrollSize()||1),c(_)||(this._eventRemoveAll(),this.$mouseEvents.reset(),this.resetLightbox())}),_.attachEvent("onGanttReady",function(){!c(_)&&_.config.rtl&&_.$layout.getCellsByType("viewCell").forEach(function(o){var a=o.$config.scrollX;if(a){var l=_.$ui.getView(a);l&&l.scrollTo(l.$config.scrollSize,0)}})}),_.attachEvent("onGanttReady",function(){if(!c(_)){var o=_.plugins(),a={auto_scheduling:_.autoSchedule,click_drag:_.ext.clickDrag,critical_path:_.isCriticalTask,drag_timeline:_.ext.dragTimeline,export_api:_.exportToPDF,fullscreen:_.ext.fullscreen,grouping:_.groupBy,keyboard_navigation:_.ext.keyboardNavigation,marker:_.addMarker,multiselect:_.eachSelectedTask,overlay:_.ext.overlay,quick_info:_.templates.quick_info_content,tooltip:_.ext.tooltips,undo:_.undo};for(var l in a)a[l]&&!o[l]&&console.warn("You connected the '".concat(l,`' extension via an obsolete file. 
To fix it, you need to remove the obsolete file and connect the extension via the plugins method: https://docs.dhtmlx.com/gantt/api__gantt_plugins.html`))}})}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["","","","","","","","","","","",""],month_short:["","","","","","","","","","","",""],day_full:["","","","","","'",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"  .  ?",section_description:"",section_time:" ",section_type:"",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],month_short:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],day_short:["Paz","Pzt","Sal","ar","Per","Cum","Cmt"]},labels:{new_task:"Yeni grev",icon_save:"Kaydet",icon_cancel:"ptal",icon_details:"Detaylar",icon_edit:"Dzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"Grev silinecek, emin misiniz?",section_description:"Aklama",section_time:"Zaman Aral",section_type:"Tip",column_wbs:"WBS",column_text:"Grev Ad",column_start_date:"Balang",column_duration:"Sre",column_add:"",link:"Balant",confirm_link_deleting:"silinecek",link_start:" (balang)",link_end:" (biti)",type_task:"Grev",type_project:"Proje",type_milestone:"Kilometreta",minutes:"Dakika",hours:"Saat",days:"Gn",weeks:"Hafta",months:"Ay",years:"Yl",message_ok:"OK",message_cancel:"ptal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Sndag","Mndag","Tisdag","Onsdag","Torsdag","Fredag","Lrdag"],day_short:["Sn","Mn","Tis","Ons","Tor","Fre","Lr"]},labels:{new_task:"Ny uppgift",icon_save:"Spara",icon_cancel:"Avbryt",icon_details:"Detajer",icon_edit:"ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"r du sker p att du vill ta bort hndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",section_type:"Typ",column_wbs:"WBS",column_text:"Uppgiftsnamn",column_start_date:"Starttid",column_duration:"Varaktighet",column_add:"",link:"Lnk",confirm_link_deleting:"kommer tas bort",link_start:" (start)",link_end:" (slut)",type_task:"Uppgift",type_project:"Projekt",type_milestone:"Milstolpe",minutes:"Minuter",hours:"Timmar",days:"Dagar",weeks:"Veckor",months:"Mnader",years:"r",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Janur","Februr","Marec","Aprl","Mj","Jn","Jl","August","September","Oktber","November","December"],month_short:["Jan","Feb","Mar","Apr","Mj","Jn","Jl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nedea","Pondelok","Utorok","Streda","tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","t","Pi","So"]},labels:{new_task:"Nov loha",icon_save:"Uloi",icon_cancel:"Sp",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza",confirm_closing:"Vae zmeny nebud uloen. Skutone?",confirm_deleting:"Udalos bude natrvalo vymazan. Skutone?",section_description:"Poznmky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Sp",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","etrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","et","Pet","Sob"]},labels:{new_task:"Nova naloga",icon_save:"Shrani",icon_cancel:"Preklii",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbrii",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. elite nadaljevati?",section_description:"Opis",section_time:"asovni okvir",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Preklii",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["","","","","Ma","","","","","O","",""],month_short:["","","Ma","A","Ma","","","A","","","",""],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"   , ?",section_description:"",section_time:" ",section_type:"",column_wbs:"",column_text:"",column_start_date:"",column_duration:"",column_add:"",link:"",confirm_link_deleting:" ",link_start:" ()",link_end:" ()",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"",hours:"",days:"",weeks:"",months:"",years:"",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"    ",resources_filter_label:"  ",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{new_task:"Sarcina noua",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Anuleaza",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{new_task:"Nova tarefa",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Excluir",confirm_closing:"",confirm_deleting:"As tarefas sero excluidas permanentemente, confirme?",section_description:"Descrio",section_time:"Perodo",section_type:"Tipo",column_wbs:"EAP",column_text:"Nome tarefa",column_start_date:"Data incio",column_duration:"Durao",column_add:"",link:"Link",confirm_link_deleting:"Ser excludo!",link_start:" (incio)",link_end:" (fim)",type_task:"Task",type_project:"Projeto",type_milestone:"Marco",minutes:"Minutos",hours:"Horas",days:"Dias",weeks:"Semanas",months:"Meses",years:"Anos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Restrio",constraint_type:"Tipo Restrio",constraint_date:"Data restrio",asap:"Mais breve possvel",alap:"Mais tarde possvel",snet:"No comear antes de",snlt:"No comear depois de",fnet:"No terminar antes de",fnlt:"No terminar depois de",mso:"Precisa comear em",mfo:"Precisa terminar em",resources_filter_placeholder:"Tipo de filtros",resources_filter_label:"Ocultar vazios",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],day_full:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"],day_short:["Nie","Pon","Wto","ro","Czw","Pi","Sob"]},labels:{new_task:"Nowe zadanie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczegy",icon_edit:"Edytuj",icon_delete:"Usu",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usunite na zawsze, kontynuowa?",section_description:"Opis",section_time:"Okres czasu",section_type:"Typ",column_wbs:"WBS",column_text:"Nazwa zadania",column_start_date:"Pocztek",column_duration:"Czas trwania",column_add:"",link:"Link",confirm_link_deleting:"zostanie usunity",link_start:" (pocztek)",link_end:" (koniec)",type_task:"Zadanie",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minuty",hours:"Godziny",days:"Dni",weeks:"Tydzie",months:"Miesice",years:"Lata",message_ok:"OK",message_cancel:"Anuluj",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],day_short:["Sn","Man","Tir","Ons","Tor","Fre","Lr"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppfringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{new_task:"Nieuwe taak",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",section_type:"Type",column_wbs:"WBS",column_text:"Taak omschrijving",column_start_date:"Startdatum",column_duration:"Duur",column_add:"",link:"Koppeling",confirm_link_deleting:"zal worden verwijderd",link_start:" (start)",link_end:" (eind)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"minuten",hours:"uren",days:"dagen",weeks:"weken",months:"maanden",years:"jaren",message_ok:"OK",message_cancel:"Annuleren",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],day_short:["Sn","Mon","Tir","Ons","Tor","Fre","Lr"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){return function(u){var s=this;for(var c in this.addLocale=function(i,r){s._locales[i]=r},this.getLocale=function(i){return s._locales[i]},this._locales={},u)this._locales[c]=u[c]}}();E.default=_},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["1","2","3","4","5","6","7","8","9","10","11","12"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:" ",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:" ?",section_description:"",section_time:"",section_type:"Type",column_wbs:"WBS",column_text:"",column_start_date:"",column_duration:"",column_add:"",link:"",confirm_link_deleting:" ?",link_start:" (start)",link_end:" (end)",type_task:"",type_project:"",type_milestone:"",minutes:"",hours:"",days:"",weeks:"",months:"",years:"",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["1","2","3","4","5","6","7","8","9","10","11","12"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:"",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"",section_description:"",section_time:"",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{new_task:"Nuovo compito",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"Sei sicuro di confermare l'eliminazione?",section_description:"Descrizione",section_time:"Periodo di tempo",section_type:"Tipo",column_wbs:"WBS",column_text:"Nome Attivit",column_start_date:"Inizio",column_duration:"Durata",column_add:"",link:"Link",confirm_link_deleting:"sar eliminato",link_start:" (inizio)",link_end:" (fine)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuti",hours:"Ore",days:"Giorni",weeks:"Settimane",months:"Mesi",years:"Anni",message_ok:"OK",message_cancel:"Chiudi",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{new_task:"Tugas baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Batal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Janur","Februr","Mrcius","prilis","Mjus","Jnius","Jlius","Augusztus","Szeptember","Oktber","November","December"],month_short:["Jan","Feb","Mr","pr","Mj","Jn","Jl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vasrnap","Htf","Kedd","Szerda","Cstrtk","Pntek","szombat"],day_short:["Va","H","Ke","Sze","Cs","P","Szo"]},labels:{new_task:"j feladat",icon_save:"Ments",icon_cancel:"Mgse",icon_details:"Rszletek",icon_edit:"Szerkeszts",icon_delete:"Trls",confirm_closing:"",confirm_deleting:"Az esemny trlve lesz, biztosan folytatja?",section_description:"Lers",section_time:"Idszak",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Mgse",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Sijeanj","Veljaa","Oujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],month_short:["Sij","Velj","Ou","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],day_full:["Nedjelja","Ponedjeljak","Utorak","Srijeda","etvrtak","Petak","Subota"],day_short:["Ned","Pon","Uto","Sri","et","Pet","Sub"]},labels:{new_task:"Novi Zadatak",icon_save:"Spremi",icon_cancel:"Odustani",icon_details:"Detalji",icon_edit:"Izmjeni",icon_delete:"Obrii",confirm_closing:"",confirm_deleting:"Zadatak e biti trajno izbrisan, jeste li sigurni?",section_description:"Opis",section_time:"Vremenski Period",section_type:"Tip",column_wbs:"WBS",column_text:"Naziv Zadatka",column_start_date:"Poetno Vrijeme",column_duration:"Trajanje",column_add:"",link:"Poveznica",confirm_link_deleting:"e biti izbrisan",link_start:" (poetak)",link_end:" (kraj)",type_task:"Zadatak",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minute",hours:"Sati",days:"Dani",weeks:"Tjedni",months:"Mjeseci",years:"Godine",message_ok:"OK",message_cancel:"Odustani",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["","","","","","","","","","","",""],month_short:["","","","","","","","","","","",""],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"  .?",section_description:"",section_time:"",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],month_short:["Jan","Fv","Mar","Avr","Mai","Juin","Juil","Ao","Sep","Oct","Nov","Dc"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{new_task:"Nouvelle tche",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"Dtails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'vnement sera effac sans appel, tes-vous sr ?",section_description:"Description",section_time:"Priode",section_type:"Type",column_wbs:"OTP",column_text:"Nom de la tche",column_start_date:"Date initiale",column_duration:"Dure",column_add:"",link:"Le lien",confirm_link_deleting:"sera supprim",link_start:"(dbut)",link_end:"(fin)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Annes",message_ok:"OK",message_cancel:"Annuler",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{new_task:"Uusi tehtv",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Peru",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["","","","","","","","","","","",""],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"       ",confirm_deleting:"         ",section_description:"",section_time:" ",section_type:"",column_wbs:"WBS",column_text:"",column_start_date:" ",column_duration:"",column_add:"",link:"",confirm_link_deleting:"  ",link_start:" ()",link_end:" ()",type_task:"",type_project:"",type_milestone:"",minutes:"",hours:"",days:"",weeks:"",months:"",years:"",message_ok:"",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],day_short:["Dom","Lun","Mar","Mi","Jue","Vie","Sb"]},labels:{new_task:"Nueva tarea",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar definitivamente, continuar?",section_description:"Descripcin",section_time:"Perodo",section_type:"Tipo",column_wbs:"EDT",column_text:"Tarea",column_start_date:"Inicio",column_duration:"Duracin",column_add:"",link:"Enlace",confirm_link_deleting:"ser borrada",link_start:" (inicio)",link_end:" (fin)",type_task:"Tarea",type_project:"Proyecto",type_milestone:"Hito",minutes:"Minutos",hours:"Horas",days:"Das",weeks:"Semanas",months:"Meses",years:"Aos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{new_task:"New task",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Task will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["","","","","","","","","","","",""],month_short:["","","","","","","","","","","",""],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"    .   ;",section_description:"",section_time:" ",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:[" Januar"," Februar"," Mrz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{new_task:"Neue Aufgabe",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"ndern",icon_delete:"Lschen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gelscht",section_description:"Beschreibung",section_time:"Zeitspanne",section_type:"Type",column_wbs:"PSP",column_text:"Task-Namen",column_start_date:"Startzeit",column_duration:"Dauer",column_add:"",link:"Link",confirm_link_deleting:"werden gelscht",link_start:"(starten)",link_end:"(ende)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuten",hours:"Stunden",days:"Tage",weeks:"Wochen",months:"Monate",years:"Jahre",message_ok:"OK",message_cancel:"Abbrechen",section_constraint:"Regel",constraint_type:"Regel",constraint_date:"Regel - Datum",asap:"So bald wie mglich",alap:"So spt wie mglich",snet:"Beginn nicht vor",snlt:"Beginn nicht spter als",fnet:"Fertigstellung nicht vor",fnlt:"Fertigstellung nicht spter als",mso:"Muss beginnen am",mfo:"Muss fertig sein am",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],day_short:["Sn","Man","Tir","Ons","Tor","Fre","Lr"]},labels:{new_task:"Ny opgave",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Fortryd",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Leden","nor","Bezen","Duben","Kvten","erven","ervenec","Srpen","Z","jen","Listopad","Prosinec"],month_short:["Led","n","Be","Dub","Kv","er","ec","Srp","Z","j","List","Pro"],day_full:["Nedle","Pondl","ter","Steda","tvrtek","Ptek","Sobota"],day_short:["Ne","Po","t","St","t","P","So"]},labels:{new_task:"Nov prce",icon_save:"Uloit",icon_cancel:"Zpt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Udlost bude trvale smazna, opravdu?",section_description:"Poznmky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Zpt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["","","","","","","","","","","",""],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:"",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"!",confirm_deleting:"?",section_description:"",section_time:"",section_type:"",column_wbs:"",column_text:"",column_start_date:"",column_duration:"",column_add:"",link:"",confirm_link_deleting:"",link_start:" ()",link_end:" ()",type_task:"",type_project:"",type_milestone:"",minutes:"",hours:"",days:"",weeks:"",months:"",years:"",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["Gener","Febrer","Mar","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{new_task:"Nova tasca",icon_save:"Guardar",icon_cancel:"Cancellar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar definitivament, continuar ?",section_description:"Descripci",section_time:"Periode de temps",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancellar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:["","","","","Ma","","","","","","",""],month_short:["","","","","Ma","","","","","","",""],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"   , ?",section_description:"",section_time:" ",section_type:"",column_wbs:"",column_text:"",column_start_date:"",column_duration:"",column_add:"",link:"",confirm_link_deleting:" ",link_start:"()",link_end:"()",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"ii",hours:"i",days:"",weeks:"",months:"",years:"",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default={date:{month_full:[" ","","","","","","","",""," "," "," "],month_short:["","","","","","","","","","","",""],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"  ,   ",confirm_deleting:"       ",section_description:"",section_time:" ",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(177),u=h(176),s=h(175),c=h(174),i=h(173),r=h(172),e=h(171),t=h(170),n=h(169),o=h(168),a=h(167),l=h(166),d=h(165),f=h(164),g=h(163),p=h(162),v=h(161),y=h(160),m=h(159),b=h(158),k=h(157),$=h(156),x=h(155),w=h(154),T=h(153),A=h(152),I=h(151),N=h(150),j=h(149),B=h(148),z=h(147),K=h(146),J=h(145);E.default=function(){return new k.default({en:n.default,ar:_.default,be:u.default,ca:s.default,cn:c.default,cs:i.default,da:r.default,de:e.default,el:t.default,es:o.default,fa:a.default,fi:l.default,fr:d.default,he:f.default,hr:g.default,hu:p.default,id:v.default,it:y.default,jp:m.default,kr:b.default,nb:$.default,nl:x.default,no:w.default,pl:T.default,pt:A.default,ro:I.default,ru:N.default,si:j.default,sk:B.default,sv:z.default,tr:K.default,ua:J.default})}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(){}},function(D,E){D.exports=function(h){h.destructor=function(){for(var _ in this.clearAll(),this.callEvent("onDestroy",[]),this.$root&&delete this.$root.gantt,this._eventRemoveAll&&this._eventRemoveAll(),this.$layout&&this.$layout.destructor(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.$services.destructor(),this.detachAllEvents(),this)_.indexOf("$")===0&&delete this[_];this.$destroyed=!0}}},function(D,E){D.exports=function(h){return function(_,u){_||h.config.show_errors&&h.callEvent("onError",[u])!==!1&&(h.message?h.message({type:"error",text:u,expire:-1}):console.log(u))}}},function(D,E){function h(_,u){var s,c=_.config.container_resize_timeout||20;if(_.config.container_resize_method=="timeout")t();else try{_.event(u,"resize",function(){_.$scrollbarRepaint?_.$scrollbarRepaint=null:i()})}catch{t()}function i(){clearTimeout(s),s=setTimeout(function(){_.$destroyed||_.render()},c)}var r=_.$root.offsetHeight,e=_.$root.offsetWidth;function t(){_.$root.offsetHeight==r&&_.$root.offsetWidth==e||i(),r=_.$root.offsetHeight,e=_.$root.offsetWidth,setTimeout(t,c)}}D.exports=function(_){window.getComputedStyle(_.$root).getPropertyValue("position")=="static"&&(_.$root.style.position="relative");var u=document.createElement("iframe");u.className="gantt_container_resize_watcher",u.tabIndex=-1,_.config.wai_aria_attributes&&(u.setAttribute("role","none"),u.setAttribute("aria-hidden",!0)),(window.Sfdc||window.$A||window.Aura)&&(_.config.container_resize_method="timeout"),_.$root.appendChild(u),u.contentWindow?h(_,u.contentWindow):(_.$root.removeChild(u),h(_,window))}},function(D,E,h){function _(r){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}var u=h(1),s=h(2),c=h(15),i=h(182);D.exports=function(r){var e=h(46);r.assert=h(181)(r);var t="Invalid value of the first argument of `gantt.init`. Supported values: HTMLElement, String (element id).This error means that either invalid object is passed into `gantt.init` or that the element with the specified ID doesn't exist on the page when `gantt.init` is called.";function n(l){if(!l||typeof l=="string"&&document.getElementById(l)||function(d){try{d.cloneNode(!1)}catch{return!1}return!0}(l))return!0;throw r.assert(!1,t),new Error(t)}r.init=function(l,d,f){r.env.isNode?l=null:n(l),d&&f&&(this.config.start_date=this._min_date=new Date(d),this.config.end_date=this._max_date=new Date(f)),this.date.init(),this.init=function(g){r.env.isNode?g=null:n(g),this.$container&&this.$container.parentNode&&(this.$container.parentNode.removeChild(this.$container),this.$container=null),this.$layout&&this.$layout.clear(),this._reinit(g)},this._reinit(l)},r._quickRefresh=function(l){for(var d=this._getDatastores.call(this),f=0;f<d.length;f++)d[f]._quick_refresh=!0;for(l(),f=0;f<d.length;f++)d[f]._quick_refresh=!1};var o=function(){this._clearTaskLayers&&this._clearTaskLayers(),this._clearLinkLayers&&this._clearLinkLayers(),this.$layout&&(this.$layout.destructor(),this.$layout=null,this.$ui.reset())}.bind(r),a=function(){c(r)||(this.$root.innerHTML="",this.$root.gantt=this,e(this),this.config.layout.id="main",this.$layout=this.$ui.createView("layout",this.$root,this.config.layout),this.$layout.attachEvent("onBeforeResize",function(){for(var l=r.$services.getService("datastores"),d=0;d<l.length;d++)r.getDatastore(l[d]).filter(),r.$data.tasksStore._skipTaskRecalculation?r.$data.tasksStore._skipTaskRecalculation!="lightbox"&&(r.$data.tasksStore._skipTaskRecalculation=!1):r.getDatastore(l[d]).callEvent("onBeforeRefreshAll",[])}),this.$layout.attachEvent("onResize",function(){r._quickRefresh(function(){r.refreshData()})}),this.callEvent("onGanttLayoutReady",[]),this.$layout.render(),this.$container=this.$layout.$container.firstChild,i(this))}.bind(r);r.resetLayout=function(){o(),a(),this.render()},r._reinit=function(l){this.callEvent("onBeforeGanttReady",[]),this._update_flags(),this.$services.getService("templateLoader").initTemplates(this),o(),this.$root=null,l&&(this.$root=u.toNode(l),a(),this.$mouseEvents.reset(this.$root)),this.callEvent("onTemplatesReady",[]),this.callEvent("onGanttReady",[]),this.render()},r.$click={buttons:{edit:function(l){r.isReadonly(r.getTask(l))||r.showLightbox(l)},delete:function(l){var d=r.getTask(l);if(!r.isReadonly(d)){var f=r.locale.labels.confirm_deleting,g=r.locale.labels.confirm_deleting_title;r._simple_confirm(f,g,function(){r.isTaskExists(l)&&(d.$new?(r.$data.tasksStore._skipTaskRecalculation="lightbox",r.silent(function(){r.deleteTask(l,!0)}),r.$data.tasksStore._skipTaskRecalculation=!1,r.refreshData()):(r.$data.tasksStore._skipTaskRecalculation=!0,r.deleteTask(l))),r.hideLightbox()})}}}},r.render=function(){var l;if(this.callEvent("onBeforeGanttRender",[]),!c(r)){!this.config.sort&&this._sort&&(this._sort=void 0),this.$root&&(this.config.rtl?(this.$root.classList.add("gantt_rtl"),this.$root.firstChild.classList.add("gantt_rtl")):(this.$root.classList.remove("gantt_rtl"),this.$root.firstChild.classList.remove("gantt_rtl")));var d=this.getScrollState(),f=d?d.x:0;this._getHorizontalScrollbar()&&(f=this._getHorizontalScrollbar().$config.codeScrollLeft||f||0),l=null,f&&(l=r.dateFromPos(f+this.config.task_scroll_offset))}if(e(this),c(r))r.refreshData();else{this.$layout.$config.autosize=this.config.autosize;var g=this.config.preserve_scroll;if(this.config.preserve_scroll=!1,this.$layout.resize(),this.config.preserve_scroll=g,this.config.preserve_scroll&&d){if(f||d.y){var p=r.getScrollState();if(+l!=+r.dateFromPos(p.x)||p.y!=d.y){f=null;var v=null;l&&(f=Math.max(r.posFromDate(l)-r.config.task_scroll_offset,0)),d.y&&(v=d.y),r.scrollTo(f,v)}}var y=r.$ui.getView("grid");if(y){var m=y.$config.scrollY,b=r.$ui.getView(m);b&&(r.utils.dom.isChildOf(b.$view,r.$container)||y.scrollTo(void 0,0))}}}this.callEvent("onGanttRender",[])},r.setSizes=r.render,r.getTaskRowNode=function(l){for(var d=this.$grid_data.childNodes,f=this.config.task_attribute,g=0;g<d.length;g++)if(d[g].getAttribute&&d[g].getAttribute(f)==l)return d[g];return null},r.changeLightboxType=function(l){if(this.getLightboxType()==l)return!0;r._silent_redraw_lightbox(l)},r._get_link_type=function(l,d){var f=null;return l&&d?f=r.config.links.start_to_start:!l&&d?f=r.config.links.finish_to_start:l||d?l&&!d&&(f=r.config.links.start_to_finish):f=r.config.links.finish_to_finish,f},r.isLinkAllowed=function(l,d,f,g){var p=null;if(!(p=_(l)=="object"?l:{source:l,target:d,type:this._get_link_type(f,g)})||!(p.source&&p.target&&p.type)||p.source==p.target)return!1;var v=!0;return this.checkEvent("onLinkValidation")&&(v=this.callEvent("onLinkValidation",[p])),v},r._correct_dst_change=function(l,d,f,g){var p=s.getSecondsInUnit(g)*f;if(p>3600&&p<86400){var v=l.getTimezoneOffset()-d;v&&(l=r.date.add(l,v,"minute"))}return l},r.isSplitTask=function(l){return r.assert(l&&l instanceof Object,"Invalid argument <b>task</b>="+l+" of gantt.isSplitTask. Task object was expected"),this.$data.tasksStore._isSplitItem(l)},r._is_icon_open_click=function(l){if(!l)return!1;var d=l.target||l.srcElement;if(!d||!d.className)return!1;var f=u.getClassName(d);return f.indexOf("gantt_tree_icon")!==-1&&(f.indexOf("gantt_close")!==-1||f.indexOf("gantt_open")!==-1)}}},function(D,E){D.exports=function(h){function _(){return h._cached_functions.update_if_changed(h),h._cached_functions.active||h._cached_functions.activate(),!0}h._cached_functions={cache:{},mode:!1,critical_path_mode:!1,wrap_methods:function(s,c){if(c._prefetch_originals)for(var i in c._prefetch_originals)c[i]=c._prefetch_originals[i];for(c._prefetch_originals={},i=0;i<s.length;i++)this.prefetch(s[i],c)},prefetch:function(s,c){var i=c[s];if(i){var r=this;c._prefetch_originals[s]=i,c[s]=function(){for(var e=new Array(arguments.length),t=0,n=arguments.length;t<n;t++)e[t]=arguments[t];if(r.active){var o=r.get_arguments_hash(Array.prototype.slice.call(e));r.cache[s]||(r.cache[s]={});var a=r.cache[s];if(r.has_cached_value(a,o))return r.get_cached_value(a,o);var l=i.apply(this,e);return r.cache_value(a,o,l),l}return i.apply(this,e)}}return i},cache_value:function(s,c,i){this.is_date(i)&&(i=new Date(i)),s[c]=i},has_cached_value:function(s,c){return s.hasOwnProperty(c)},get_cached_value:function(s,c){var i=s[c];return this.is_date(i)&&(i=new Date(i)),i},is_date:function(s){return s&&s.getUTCDate},get_arguments_hash:function(s){for(var c=[],i=0;i<s.length;i++)c.push(this.stringify_argument(s[i]));return"("+c.join(";")+")"},stringify_argument:function(s){return(s.id?s.id:this.is_date(s)?s.valueOf():s)+""},activate:function(){this.clear(),this.active=!0},deactivate:function(){this.clear(),this.active=!1},clear:function(){this.cache={}},setup:function(s){var c=[],i=["_isProjectEnd","_getProjectEnd","_getSlack"];this.mode=="auto"?s.config.highlight_critical_path&&(c=i):this.mode===!0&&(c=i),this.wrap_methods(c,s)},update_if_changed:function(s){(this.critical_path_mode!=s.config.highlight_critical_path||this.mode!==s.config.optimize_render)&&(this.critical_path_mode=s.config.highlight_critical_path,this.mode=s.config.optimize_render,this.setup(s))}},h.attachEvent("onBeforeGanttRender",_),h.attachEvent("onBeforeDataRender",_),h.attachEvent("onBeforeSmartRender",function(){_()}),h.attachEvent("onBeforeParse",_),h.attachEvent("onDataRender",function(){h._cached_functions.deactivate()});var u=null;h.attachEvent("onSmartRender",function(){u&&clearTimeout(u),u=setTimeout(function(){h._cached_functions.deactivate()},1e3)}),h.attachEvent("onBeforeGanttReady",function(){return h._cached_functions.update_if_changed(h),!0})}},function(D,E){function h(_){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}D.exports=function(_){_.getTaskType=function(u){var s=u;for(var c in u&&h(u)=="object"&&(s=u.type),this.config.types)if(this.config.types[c]==s)return s;return _.config.types.task}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(){}},function(D,E,h){var _=h(2);D.exports=function(u){u.isUnscheduledTask=function(e){return u.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isUnscheduledTask. Task object was expected"),!!e.unscheduled||!e.start_date},u._isAllowedUnscheduledTask=function(e){return!(!e.unscheduled||!u.config.show_unscheduled)},u._isTaskInTimelineLimits=function(e){var t=e.start_date?e.start_date.valueOf():null,n=e.end_date?e.end_date.valueOf():null;return!!(t&&n&&t<=this._max_date.valueOf()&&n>=this._min_date.valueOf())},u.isTaskVisible=function(e){if(!this.isTaskExists(e))return!1;var t=this.getTask(e);return!(!this._isAllowedUnscheduledTask(t)&&!this._isTaskInTimelineLimits(t))&&this.getGlobalTaskIndex(e)>=0},u._getProjectEnd=function(){if(u.config.project_end)return u.config.project_end;var e=u.getTaskByTime();return(e=e.sort(function(t,n){return+t.end_date>+n.end_date?1:-1})).length?e[e.length-1].end_date:null},u._getProjectStart=function(){if(u.config.project_start)return u.config.project_start;if(u.config.start_date)return u.config.start_date;if(u.getState().min_date)return u.getState().min_date;var e=u.getTaskByTime();return(e=e.sort(function(t,n){return+t.start_date>+n.start_date?1:-1})).length?e[0].start_date:null};var s=function(e,t){var n=!!(t&&t!=u.config.root_id&&u.isTaskExists(t))&&u.getTask(t),o=null;if(n)o=u.config.schedule_from_end?u.calculateEndDate({start_date:n.end_date,duration:-u.config.duration_step,task:e}):n.start_date;else if(u.config.schedule_from_end)o=u.calculateEndDate({start_date:u._getProjectEnd(),duration:-u.config.duration_step,task:e});else{var a=u.getTaskByIndex(0);o=a?a.start_date?a.start_date:a.end_date?u.calculateEndDate({start_date:a.end_date,duration:-u.config.duration_step,task:e}):null:u.config.start_date||u.getState().min_date}return u.assert(o,"Invalid dates"),new Date(o)};u._set_default_task_timing=function(e){e.start_date=e.start_date||s(e,u.getParent(e)),e.duration=e.duration||u.config.duration_step,e.end_date=e.end_date||u.calculateEndDate(e)},u.createTask=function(e,t,n){return e=e||{},u.defined(e.id)||(e.id=u.uid()),e.start_date||(e.start_date=s(e,t)),e.text===void 0&&(e.text=u.locale.labels.new_task),e.duration===void 0&&(e.duration=1),this.isTaskExists(t)&&(this.setParent(e,t,!0),this.getTask(t).$open=!0),this.callEvent("onTaskCreated",[e])?(this.config.details_on_create?(u.isTaskExists(e.id)?u.getTask(e.id).$index!=e.$index&&(e.start_date&&typeof e.start_date=="string"&&(e.start_date=this.date.parseDate(e.start_date,"parse_date")),e.end_date&&typeof e.end_date=="string"&&(e.end_date=this.date.parseDate(e.end_date,"parse_date")),this.$data.tasksStore.updateItem(e.id,e)):(e.$new=!0,this.silent(function(){u.$data.tasksStore.addItem(e,n)})),this.selectTask(e.id),this.refreshData(),this.showLightbox(e.id)):this.addTask(e,t,n)&&(this.showTask(e.id),this.selectTask(e.id)),e.id):null},u._update_flags=function(e,t){var n=u.$data.tasksStore;e===void 0?(this._lightbox_id=null,n.silent(function(){n.unselect()}),this.getSelectedTasks&&this._multiselect.reset(),this._tasks_dnd&&this._tasks_dnd.drag&&(this._tasks_dnd.drag.id=null)):(this._lightbox_id==e&&(this._lightbox_id=t),n.getSelectedId()==e&&n.silent(function(){n.unselect(e),n.select(t)}),this._tasks_dnd&&this._tasks_dnd.drag&&this._tasks_dnd.drag.id==e&&(this._tasks_dnd.drag.id=t))};var c=function(e,t){var n=u.getTaskType(e.type),o={type:n,$no_start:!1,$no_end:!1};return t||n!=e.$rendered_type?(n==u.config.types.project?o.$no_end=o.$no_start=!0:n!=u.config.types.milestone&&(o.$no_end=!(e.end_date||e.duration),o.$no_start=!e.start_date,u._isAllowedUnscheduledTask(e)&&(o.$no_end=o.$no_start=!1)),o):(o.$no_start=e.$no_start,o.$no_end=e.$no_end,o)};function i(e){e.$effective_calendar=u.getTaskCalendar(e).id,e.start_date=u.getClosestWorkTime({dir:"future",date:e.start_date,unit:u.config.duration_unit,task:e}),e.end_date=u.calculateEndDate(e)}function r(e){var t=null,n=null,o=e!==void 0?e:u.config.root_id,a=[];return u.eachTask(function(l){u.getTaskType(l.type)==u.config.types.project||u.isUnscheduledTask(l)||(l.rollup&&a.push(l.id),l.start_date&&!l.$no_start&&(!t||t>l.start_date.valueOf())&&(t=l.start_date.valueOf()),l.end_date&&!l.$no_end&&(!n||n<l.end_date.valueOf())&&(n=l.end_date.valueOf()))},o),{start_date:t?new Date(t):null,end_date:n?new Date(n):null,rollup:a}}u._init_task_timing=function(e){var t=c(e,!0),n=e.$rendered_type!=t.type,o=t.type;n&&(e.$no_start=t.$no_start,e.$no_end=t.$no_end,e.$rendered_type=t.type),n&&o!=this.config.types.milestone&&o==this.config.types.project&&(this._set_default_task_timing(e),e.$calculate_duration=!1),o==this.config.types.milestone&&(e.end_date=e.start_date),e.start_date&&e.end_date&&e.$calculate_duration!==!1&&(e.duration=this.calculateDuration(e)),e.$calculate_duration||(e.$calculate_duration=!0),e.end_date||(e.end_date=e.start_date),e.duration=e.duration||0,this.config.min_duration===0&&e.duration===0&&(e.$no_end=!1);var a=this.getTaskCalendar(e);e.$effective_calendar&&e.$effective_calendar!==a.id&&(i(e),this.config.inherit_calendar&&this.isSummaryTask(e)&&this.eachTask(function(l){i(l)},e.id)),e.$effective_calendar=a.id},u.isSummaryTask=function(e){u.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isSummaryTask. Task object was expected");var t=c(e);return!(!t.$no_end&&!t.$no_start)},u.resetProjectDates=function(e){var t=c(e);if(t.$no_end||t.$no_start){var n=r(e.id);(function(o,a,l,d){a.$no_start&&(o.start_date=l?new Date(l):s(o,this.getParent(o))),a.$no_end&&(o.end_date=d?new Date(d):this.calculateEndDate({start_date:o.start_date,duration:this.config.duration_step,task:o})),(a.$no_start||a.$no_end)&&this._init_task_timing(o)}).call(this,e,t,n.start_date,n.end_date),e.$rollup=n.rollup}},u.getSubtaskDuration=function(e){var t=0,n=e!==void 0?e:u.config.root_id;return this.eachTask(function(o){this.getTaskType(o.type)==u.config.types.project||this.isUnscheduledTask(o)||(t+=o.duration)},n),t},u.getSubtaskDates=function(e){var t=r(e);return{start_date:t.start_date,end_date:t.end_date}},u._update_parents=function(e,t,n){if(e){var o=this.getTask(e);o.rollup&&(n=!0);var a=this.getParent(o),l=c(o),d=!0;if(n||o.start_date&&o.end_date&&(l.$no_start||l.$no_end)){var f=o.start_date.valueOf(),g=o.end_date.valueOf();u.resetProjectDates(o),n||f!=o.start_date.valueOf()||g!=o.end_date.valueOf()||(d=!1),d&&!t&&this.refreshTask(o.id,!0)}d&&a&&this.isTaskExists(a)&&this._update_parents(a,t,n)}},u.roundDate=function(e){var t=u.getScale();_.isDate(e)&&(e={date:e,unit:t?t.unit:u.config.duration_unit,step:t?t.step:u.config.duration_step});var n,o,a,l=e.date,d=e.step,f=e.unit;if(!t)return l;if(f==t.unit&&d==t.step&&+l>=+t.min_date&&+l<=+t.max_date)a=Math.floor(u.columnIndexByDate(l)),t.trace_x[a]||(a-=1,t.rtl&&(a=0)),o=new Date(t.trace_x[a]),n=u.date.add(o,d,f);else{for(a=Math.floor(u.columnIndexByDate(l)),n=u.date[f+"_start"](new Date(t.min_date)),t.trace_x[a]&&(n=u.date[f+"_start"](t.trace_x[a]));+n<+l;){var g=(n=u.date[f+"_start"](u.date.add(n,d,f))).getTimezoneOffset();n=u._correct_dst_change(n,g,n,f),u.date[f+"_start"]&&(n=u.date[f+"_start"](n))}o=u.date.add(n,-1*d,f)}return e.dir&&e.dir=="future"?n:e.dir&&e.dir=="past"||Math.abs(l-o)<Math.abs(n-l)?o:n},u.correctTaskWorkTime=function(e){u.config.work_time&&u.config.correct_work_time&&(this.isWorkTime(e.start_date,void 0,e)?this.isWorkTime(new Date(+e.end_date-1),void 0,e)||(e.end_date=this.calculateEndDate(e)):(e.start_date=this.getClosestWorkTime({date:e.start_date,dir:"future",task:e}),e.end_date=this.calculateEndDate(e)))},u.attachEvent("onBeforeTaskUpdate",function(e,t){return u._init_task_timing(t),!0}),u.attachEvent("onBeforeTaskAdd",function(e,t){return u._init_task_timing(t),!0}),u.attachEvent("onAfterTaskMove",function(e,t,n){return u._init_task_timing(u.getTask(e)),!0})}},function(D,E,h){var _=h(0);D.exports={create:function(u,s){return{getWorkHours:function(c){return s.getWorkHours(c)},setWorkTime:function(c){return s.setWorkTime(c)},unsetWorkTime:function(c){s.unsetWorkTime(c)},isWorkTime:function(c,i,r){return s.isWorkTime(c,i,r)},getClosestWorkTime:function(c){return s.getClosestWorkTime(c)},calculateDuration:function(c,i,r){return s.calculateDuration(c,i,r)},_hasDuration:function(c,i,r){return s.hasDuration(c,i,r)},calculateEndDate:function(c,i,r,e){return s.calculateEndDate(c,i,r,e)},mergeCalendars:_.bind(u.mergeCalendars,u),createCalendar:_.bind(u.createCalendar,u),addCalendar:_.bind(u.addCalendar,u),getCalendar:_.bind(u.getCalendar,u),getCalendars:_.bind(u.getCalendars,u),getResourceCalendar:_.bind(u.getResourceCalendar,u),getTaskCalendar:_.bind(u.getTaskCalendar,u),deleteCalendar:_.bind(u.deleteCalendar,u)}}}},function(D,E){function h(_,u){this.argumentsHelper=u,this.$gantt=_}h.prototype={getWorkHours:function(){return[0,24]},setWorkTime:function(){return!0},unsetWorkTime:function(){return!0},isWorkTime:function(){return!0},getClosestWorkTime:function(_){return this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments).date},calculateDuration:function(){var _=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),u=_.start_date,s=_.end_date,c=_.unit,i=_.step;return this._calculateDuration(u,s,c,i)},_calculateDuration:function(_,u,s,c){var i=this.$gantt.date,r={week:6048e5,day:864e5,hour:36e5,minute:6e4},e=0;if(r[s])e=Math.round((u-_)/(c*r[s]));else{for(var t=new Date(_),n=new Date(u);t.valueOf()<n.valueOf();)e+=1,t=i.add(t,c,s);t.valueOf()!=u.valueOf()&&(e+=(n-t)/(i.add(t,c,s)-t))}return Math.round(e)},hasDuration:function(){var _=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),u=_.start_date,s=_.end_date;return!!_.unit&&(u=new Date(u),s=new Date(s),u.valueOf()<s.valueOf())},hasWorkTime:function(){return!0},equals:function(_){return _ instanceof h},calculateEndDate:function(){var _=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),u=_.start_date,s=_.duration,c=_.unit,i=_.step;return this.$gantt.date.add(u,i*s,c)}},D.exports=h},function(D,E,h){var _=h(42),u=h(189);function s(c){this.$gantt=c.$gantt,this.argumentsHelper=_(this.$gantt),this.calendarManager=c,this.$disabledCalendar=new u(this.$gantt,this.argumentsHelper)}s.prototype={_getCalendar:function(c){var i;if(this.$gantt.config.work_time){var r=this.calendarManager;c.task?i=r.getTaskCalendar(c.task):c.id?i=r.getTaskCalendar(c):c.calendar&&(i=c.calendar),i||(i=r.getTaskCalendar())}else i=this.$disabledCalendar;return i},getWorkHours:function(c){return c=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments),this._getCalendar(c).getWorkHours(c.date)},setWorkTime:function(c,i){return c=this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper,arguments),i||(i=this.calendarManager.getCalendar()),i.setWorkTime(c)},unsetWorkTime:function(c,i){return c=this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper,arguments),i||(i=this.calendarManager.getCalendar()),i.unsetWorkTime(c)},isWorkTime:function(c,i,r,e){var t=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(t).isWorkTime(t)},getClosestWorkTime:function(c){return c=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments),this._getCalendar(c).getClosestWorkTime(c)},calculateDuration:function(){var c=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(c).calculateDuration(c)},hasDuration:function(){var c=this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(c).hasDuration(c)},calculateEndDate:function(c){return c=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),this._getCalendar(c).calculateEndDate(c)}},D.exports=s},function(D,E){D.exports=function(){var h={};return{getCalendarIdFromMultipleResources:function(_,u){var s=function(i){return i.map(function(r){return r&&r.resource_id?r.resource_id:r}).sort().join("-")}(_);if(_.length){if(_.length===1)return u.getResourceCalendar(s).id;if(h[s])return h[s].id;var c=function(i,r){return r.mergeCalendars(i.map(function(e){var t=e&&e.resource_id?e.resource_id:e;return r.getResourceCalendar(t)}))}(_,u);return h[s]=c,u.addCalendar(c)}return null}}}},function(D,E){function h(_){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}D.exports={isLegacyResourceCalendarFormat:function(_){if(!_)return!1;for(var u in _)if(_[u]&&h(_[u])==="object")return!0;return!1},getResourceProperty:function(_){var u=_.resource_calendars,s=_.resource_property;if(this.isLegacyResourceCalendarFormat(u))for(var c in _){s=c;break}return s},getCalendarIdFromLegacyConfig:function(_,u){if(u)for(var s in u){var c=u[s];if(_[s]){var i=c[_[s]];if(i)return i}}return null}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(){this.clear()}return u.prototype._getCacheObject=function(s,c,i){var r=this._cache;r[c]||(r[c]=[]);var e=r[c];e||(e=r[c]={});var t=e[i];t||(t=e[i]={});var n=s.getFullYear(),o=t[n];return o||(o=t[n]={durations:{},endDates:{}}),o},u.prototype._endDateCacheKey=function(s,c){return String(s)+"-"+String(c)},u.prototype._durationCacheKey=function(s,c){return String(s)+"-"+String(c)},u.prototype.getEndDate=function(s,c,i,r,e){var t,n=this._getCacheObject(s,i,r),o=s.valueOf(),a=this._endDateCacheKey(o,c);if(n.endDates[a]===void 0){var l=e(),d=l.valueOf();n.endDates[a]=d,n.durations[this._durationCacheKey(o,d)]=c,t=l}else t=new Date(n.endDates[a]);return t},u.prototype.getDuration=function(s,c,i,r,e){var t,n=this._getCacheObject(s,i,r),o=s.valueOf(),a=c.valueOf(),l=this._durationCacheKey(o,a);if(n.durations[l]===void 0){var d=e();n.durations[l]=d.valueOf(),t=d}else t=n.durations[l];return t},u.prototype.clear=function(){this._cache={}},u}();E.DateDurationCache=_},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){return function(u){var s=this;this.getMinutesPerWeek=function(c){var i=c.valueOf();if(s._weekCache.has(i))return s._weekCache.get(i);for(var r=s._calendar,e=s._calendar.$gantt,t=0,n=e.date.week_start(new Date(c)),o=0;o<7;o++)t+=60*r.getHoursPerDay(n),n=e.date.add(n,1,"day");return s._weekCache.set(i,t),t},this.getMinutesPerMonth=function(c){var i=c.valueOf();if(s._monthCache.has(i))return s._monthCache.get(i);for(var r=s._calendar,e=s._calendar.$gantt,t=0,n=e.date.week_start(new Date(c)),o=e.date.add(n,1,"month").valueOf();n.valueOf()<o;)t+=60*r.getHoursPerDay(n),n=e.date.add(n,1,"day");return s._monthCache.set(i,t),t},this.clear=function(){s._weekCache=new Map,s._monthCache=new Map},this.clear(),this._calendar=u}}();E.LargerUnitsCache=_},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(){this.clear()}return u.prototype.getItem=function(s,c,i){var r=this._cache;if(r&&r[s]){var e=r[s];if(e===void 0)return-1;var t=e[i.getFullYear()];if(t&&t[c]!==void 0)return t[c]}return-1},u.prototype.setItem=function(s,c,i,r){if(s&&c){var e=this._cache;if(e){e[s]||(e[s]=[]);var t=e[s],n=r.getFullYear(),o=t[n];o||(o=t[n]={}),o[c]=i}}},u.prototype.clear=function(){this._cache={}},u}();E.WorkUnitsObjectCache=_},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(){this.clear()}return u.prototype.getItem=function(s,c,i){if(this._cache.has(s)){var r=this._cache.get(s)[i.getFullYear()];if(r&&r.has(c))return r.get(c)}return-1},u.prototype.setItem=function(s,c,i,r){if(s&&c){var e,t=this._cache,n=r.getFullYear();t.has(s)?e=t.get(s):(e=[],t.set(s,e));var o=e[n];o||(o=e[n]=new Map),o.set(c,i)}},u.prototype.clear=function(){this._cache=new Map},u}();E.WorkUnitsMapCache=_},function(D,E,h){function _(e){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var u=h(41).createCacheObject,s=h(41).LargerUnitsCache,c=h(0),i=h(193).DateDurationCache;function r(e,t){this.argumentsHelper=t,this.$gantt=e,this._workingUnitsCache=u(),this._largeUnitsCache=new s(this),this._dateDurationCache=new i,this._worktime=null,this._cached_timestamps={},this._cached_timestamps_count=0}r.prototype={units:["year","month","week","day","hour","minute"],_clearCaches:function(){this._workingUnitsCache.clear(),this._largeUnitsCache.clear(),this._dateDurationCache.clear()},_getUnitOrder:function(e){for(var t=0,n=this.units.length;t<n;t++)if(this.units[t]==e)return t},_resetTimestampCache:function(){this._cached_timestamps={},this._cached_timestamps_count=0},_timestamp:function(e){this._cached_timestamps_count>1e6&&this._resetTimestampCache();var t=null;if(e.day||e.day===0)t=e.day;else if(e.date){var n=String(e.date.valueOf());this._cached_timestamps[n]?t=this._cached_timestamps[n]:(t=Date.UTC(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()),this._cached_timestamps[n]=t,this._cached_timestamps_count++)}return t},_checkIfWorkingUnit:function(e,t){if(!this["_is_work_"+t]){var n=this.$gantt.date["".concat(t,"_start")](new Date(e)),o=this.$gantt.date.add(n,1,t);return this.hasDuration(n,o)}return this["_is_work_"+t](e)},_is_work_day:function(e){var t=this._getWorkHours(e);return!!Array.isArray(t)&&t.length>0},_is_work_hour:function(e){for(var t=this._getWorkHours(e),n=e.getHours(),o=0;o<t.length;o++)if(n>=t[o].startHour&&n<t[o].endHour)return!0;return!1},_getTimeOfDayStamp:function(e,t){var n=e.getHours();return e.getHours()||e.getMinutes()||!t||(n=24),60*n*60+60*e.getMinutes()},_is_work_minute:function(e){for(var t=this._getWorkHours(e),n=this._getTimeOfDayStamp(e),o=0;o<t.length;o++)if(n>=t[o].start&&n<t[o].end)return!0;return!1},_nextDate:function(e,t,n){return this.$gantt.date.add(e,n,t)},_getWorkUnitsBetweenGeneric:function(e,t,n,o){var a=this.$gantt.date,l=new Date(e),d=new Date(t);o=o||1;var f,g,p=0,v=null,y=!1;(f=a[n+"_start"](new Date(l))).valueOf()!=l.valueOf()&&(y=!0);var m=!1;(g=a[n+"_start"](new Date(t))).valueOf()!=t.valueOf()&&(m=!0);for(var b=!1;l.valueOf()<d.valueOf();){if(b=(v=this._nextDate(l,n,o)).valueOf()>d.valueOf(),this._isWorkTime(l,n))(y||m&&b)&&(f=a[n+"_start"](new Date(l)),g=a.add(f,o,n)),y?(y=!1,v=this._nextDate(f,n,o),p+=(g.valueOf()-l.valueOf())/(g.valueOf()-f.valueOf())):m&&b?(m=!1,p+=(d.valueOf()-l.valueOf())/(g.valueOf()-f.valueOf())):p++;else{var k=this._getUnitOrder(n),$=this.units[k-1];$&&!this._isWorkTime(l,$)&&(v=this._getClosestWorkTimeFuture(l,$))}l=v}return p},_getMinutesPerHour:function(e){var t=this._getTimeOfDayStamp(e),n=this._getTimeOfDayStamp(this._nextDate(e,"hour",1));n===0&&(n=86400);for(var o=this._getWorkHours(e),a=0;a<o.length;a++){var l=o[a];if(t>=l.start&&n<=l.end)return 60;if(t<l.end&&n>l.start)return(Math.min(n,l.end)-Math.max(t,l.start))/60}return 0},_getMinutesPerDay:function(e){var t=0;return this._getWorkHours(e).forEach(function(n){t+=n.durationMinutes}),t},getHoursPerDay:function(e){var t=0;return this._getWorkHours(e).forEach(function(n){t+=n.durationHours}),t},_getWorkUnitsForRange:function(e,t,n,o){var a,l=0,d=new Date(e),f=new Date(t);for(a=n=="minute"?c.bind(this._getMinutesPerDay,this):c.bind(this.getHoursPerDay,this);d.valueOf()<f.valueOf();)if(f-d>27648e5&&d.getDate()===0){var g=this._largeUnitsCache.getMinutesPerMonth(d);n=="hour"&&(g/=60),l+=g,d=this.$gantt.date.add(d,1,"month")}else{if(f-d>13824e5){var p=this.$gantt.date.week_start(new Date(d));if(d.valueOf()===p.valueOf()){g=this._largeUnitsCache.getMinutesPerWeek(d),n=="hour"&&(g/=60),l+=g,d=this.$gantt.date.add(d,7,"day");continue}}l+=a(d),d=this._nextDate(d,"day",1)}return l/o},_getMinutesBetweenSingleDay:function(e,t){for(var n=this._getIntervalTimestamp(e,t),o=this._getWorkHours(e),a=0,l=0;l<o.length;l++){var d=o[l];if(n.end>=d.start&&n.start<=d.end){var f=Math.max(d.start,n.start),g=Math.min(d.end,n.end);a+=(g-f)/60,n.start=g}}return Math.floor(a)},_getMinutesBetween:function(e,t,n,o){var a=new Date(e),l=new Date(t);o=o||1;var d=new Date(a),f=this.$gantt.date.add(this.$gantt.date.day_start(new Date(a)),1,"day");if(l.valueOf()<=f.valueOf())return this._getMinutesBetweenSingleDay(e,t);var g=this.$gantt.date.day_start(new Date(l)),p=l,v=this._getMinutesBetweenSingleDay(d,f),y=this._getMinutesBetweenSingleDay(g,p);return v+this._getWorkUnitsForRange(f,g,n,o)+y},_getHoursBetween:function(e,t,n,o){var a=new Date(e),l=new Date(t);o=o||1;var d=new Date(a),f=this.$gantt.date.add(this.$gantt.date.day_start(new Date(a)),1,"day");if(l.valueOf()<=f.valueOf())return Math.round(this._getMinutesBetweenSingleDay(e,t)/60);var g=this.$gantt.date.day_start(new Date(l)),p=l,v=this._getMinutesBetweenSingleDay(d,f,n,o)/60,y=this._getMinutesBetweenSingleDay(g,p,n,o)/60,m=v+this._getWorkUnitsForRange(f,g,n,o)+y;return Math.round(m)},getConfig:function(){return this._worktime},_setConfig:function(e){this._worktime=e,this._parseSettings(),this._clearCaches()},_parseSettings:function(){var e=this.getConfig();for(var t in e.parsed={dates:{},hours:null,haveCustomWeeks:!1,customWeeks:{},customWeeksRangeStart:null,customWeeksRangeEnd:null,customWeeksBoundaries:[]},e.parsed.hours=this._parseHours(e.hours),e.dates)e.parsed.dates[t]=this._parseHours(e.dates[t]);if(e.customWeeks){var n=null,o=null;for(var t in e.customWeeks){var a=e.customWeeks[t];if(a.from&&a.to){var l=a.from,d=a.to;(!n||n>l.valueOf())&&(n=l.valueOf()),(!o||o<d.valueOf())&&(o=d.valueOf()),e.parsed.customWeeksBoundaries.push({from:l.valueOf(),fromReadable:new Date(l),to:d.valueOf(),toReadable:new Date(d),name:t}),e.parsed.haveCustomWeeks=!0;var f=e.parsed.customWeeks[t]={from:a.from,to:a.to,hours:this._parseHours(a.hours),dates:{}};for(var g in a.dates)f.dates[g]=this._parseHours(a.dates[g])}}e.parsed.customWeeksRangeStart=n,e.parsed.customWeeksRangeEnd=o}},_tryChangeCalendarSettings:function(e){var t=JSON.stringify(this.getConfig());return e(),!!this.hasWorkTime()||(this._setConfig(JSON.parse(t)),this._clearCaches(),!1)},_arraysEqual:function(e,t){if(e===t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},_compareSettings:function(e,t){if(!this._arraysEqual(e.hours,t.hours))return!1;var n=Object.keys(e.dates),o=Object.keys(t.dates);if(n.sort(),o.sort(),!this._arraysEqual(n,o))return!1;for(var a=0;a<n.length;a++){var l=n[a],d=e.dates[l],f=e.dates[l];if(d!==f&&!(Array.isArray(d)&&Array.isArray(f)&&this._arraysEqual(d,f)))return!1}return!0},equals:function(e){if(!(e instanceof r))return!1;var t=this.getConfig(),n=e.getConfig();if(!this._compareSettings(t,n))return!1;if(t.parsed.haveCustomWeeks&&n.parsed.haveCustomWeeks){if(t.parsed.customWeeksBoundaries.length!=n.parsed.customWeeksBoundaries.length)return!1;for(var o in t.parsed.customWeeks){var a=t.parsed.customWeeks[o],l=n.parsed.customWeeks[o];if(!l||!this._compareSettings(a,l))return!1}}else if(t.parse.haveCustomWeeks!==n.parsed.haveCustomWeeks)return!1;return!0},getWorkHours:function(){var e=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments);return this._getWorkHours(e.date,!1)},_getWorkHours:function(e,t){var n=this.getConfig();if(t!==!1&&(n=n.parsed),!e)return n.hours;var o=this._timestamp({date:e});if(n.haveCustomWeeks&&n.customWeeksRangeStart<=o&&n.customWeeksRangeEnd>o){for(var a=0;a<n.customWeeksBoundaries.length;a++)if(n.customWeeksBoundaries[a].from<=o&&n.customWeeksBoundaries[a].to>o){n=n.customWeeks[n.customWeeksBoundaries[a].name];break}}var l=!0;return n.dates[o]!==void 0?l=n.dates[o]:n.dates[e.getDay()]!==void 0&&(l=n.dates[e.getDay()]),l===!0?n.hours:l||[]},_getIntervalTimestamp:function(e,t){var n={start:0,end:0};n.start=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds();var o=t.getHours();return!o&&!t.getMinutes()&&!t.getSeconds()&&e.valueOf()<t.valueOf()&&(o=24),n.end=60*o*60+60*t.getMinutes()+t.getSeconds(),n},_parseHours:function(e){if(Array.isArray(e)){var t=[];e.forEach(function(f){typeof f=="number"?t.push(60*f*60):typeof f=="string"&&f.split("-").map(function(g){return g.trim()}).forEach(function(g){var p=g.split(":").map(function(y){return y.trim()}),v=parseInt(60*p[0]*60);p[1]&&(v+=parseInt(60*p[1])),p[2]&&(v+=parseInt(p[2])),t.push(v)})});for(var n=[],o=0;o<t.length;o+=2){var a=t[o],l=t[o+1],d=l-a;n.push({start:a,end:l,startHour:Math.floor(a/3600),startMinute:Math.floor(a/60),endHour:Math.ceil(l/3600),endMinute:Math.ceil(l/60),durationSeconds:d,durationMinutes:d/60,durationHours:d/3600})}return n}return e},setWorkTime:function(e){return this._tryChangeCalendarSettings(c.bind(function(){var t=e.hours===void 0||e.hours,n=this._timestamp(e),o=this.getConfig();if(n!==null?o.dates[n]=t:e.customWeeks||(o.hours=t),e.customWeeks){if(o.customWeeks||(o.customWeeks={}),typeof e.customWeeks=="string")n!==null?o.customWeeks[e.customWeeks].dates[n]=t:e.customWeeks||(o.customWeeks[e.customWeeks].hours=t);else if(_(e.customWeeks)==="object"&&Function.prototype.toString.call(e.customWeeks.constructor)==="function Object() { [native code] }")for(var a in e.customWeeks)o.customWeeks[a]=e.customWeeks[a]}this._parseSettings(),this._clearCaches()},this))},unsetWorkTime:function(e){return this._tryChangeCalendarSettings(c.bind(function(){if(e){var t=this._timestamp(e);t!==null&&delete this.getConfig().dates[t]}else this.reset_calendar();this._parseSettings(),this._clearCaches()},this))},_isWorkTime:function(e,t){var n=-1,o=null;return o=String(e.valueOf()),(n=this._workingUnitsCache.getItem(t,o,e))==-1&&(n=this._checkIfWorkingUnit(e,t),this._workingUnitsCache.setItem(t,o,n,e)),n},isWorkTime:function(){var e=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._isWorkTime(e.date,e.unit)},calculateDuration:function(){var e=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);if(!e.unit)return!1;var t=this;return this._dateDurationCache.getDuration(e.start_date,e.end_date,e.unit,e.step,function(){return t._calculateDuration(e.start_date,e.end_date,e.unit,e.step)})},_calculateDuration:function(e,t,n,o){var a=0,l=1;if(e.valueOf()>t.valueOf()){var d=t;t=e,e=d,l=-1}return a=n=="hour"&&o==1?this._getHoursBetween(e,t,n,o):n=="minute"&&o==1?this._getMinutesBetween(e,t,n,o):this._getWorkUnitsBetweenGeneric(e,t,n,o),l*Math.round(a)},hasDuration:function(){var e=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),t=e.start_date,n=e.end_date,o=e.unit,a=e.step;if(!o)return!1;var l=new Date(t),d=new Date(n);for(a=a||1;l.valueOf()<d.valueOf();){if(this._isWorkTime(l,o))return!0;l=this._nextDate(l,o,a)}return!1},calculateEndDate:function(){var e=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),t=e.start_date,n=e.duration,o=e.unit,a=e.step;if(!o)return!1;var l=e.duration>=0?1:-1;n=Math.abs(1*n);var d=this;return this._dateDurationCache.getEndDate(t,n,o,a*l,function(){return d._calculateEndDate(t,n,o,a*l)})},_calculateEndDate:function(e,t,n,o){return!!n&&(o==1&&n=="minute"?this._calculateMinuteEndDate(e,t,o):o==-1&&n=="minute"?this._subtractMinuteDate(e,t,o):o==1&&n=="hour"?this._calculateHourEndDate(e,t,o):this._addInterval(e,t,n,o,null).end)},_addInterval:function(e,t,n,o,a){for(var l=0,d=e,f=!1;l<t&&(!a||!a(d));){var g=this._nextDate(d,n,o);n=="day"&&(f=f||!d.getHours()&&g.getHours())&&(g.setHours(0),g.getHours()||(f=!1));var p=new Date(g.valueOf()+1);o>0&&(p=new Date(g.valueOf()-1)),this._isWorkTime(p,n)&&!f&&l++,d=g}return{end:d,start:e,added:l}},_addHoursUntilDayEnd:function(e,t){for(var n=this.$gantt.date.add(this.$gantt.date.day_start(new Date(e)),1,"day"),o=0,a=t,l=this._getIntervalTimestamp(e,n),d=this._getWorkHours(e),f=0;f<d.length&&o<t;f++){var g=d[f];if(l.end>=g.start&&l.start<=g.end){var p=Math.max(g.start,l.start),v=Math.min(g.end,l.end),y=(v-p)/3600;y>a&&(y=a,v=p+60*a*60);var m=Math.round((v-p)/3600);o+=m,a-=m,l.start=v}}var b=n;return o===t&&(b=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,l.start)),{added:o,end:b}},_calculateHourEndDate:function(e,t,n){var o=new Date(e),a=0;n=n||1,t=Math.abs(1*t);var l=this._addHoursUntilDayEnd(o,t);if(a=l.added,o=l.end,p=t-a){for(var d=o;a<t;){var f=this._nextDate(d,"day",n);f.setHours(0),f.setMinutes(0),f.setSeconds(0);var g=0;if(a+(g=n>0?this.getHoursPerDay(new Date(f.valueOf()-1)):this.getHoursPerDay(new Date(f.valueOf()+1)))>=t)break;a+=g,d=f}o=d}if(a<t){var p=t-a;o=(l=this._addHoursUntilDayEnd(o,p)).end}return o},_addMinutesUntilHourEnd:function(e,t){if(e.getMinutes()===0)return{added:0,end:new Date(e)};for(var n=this.$gantt.date.add(this.$gantt.date.hour_start(new Date(e)),1,"hour"),o=0,a=t,l=this._getIntervalTimestamp(e,n),d=this._getWorkHours(e),f=0;f<d.length&&o<t;f++){var g=d[f];if(l.end>=g.start&&l.start<=g.end){var p=Math.max(g.start,l.start),v=Math.min(g.end,l.end),y=(v-p)/60;y>a&&(y=a,v=p+60*a);var m=Math.round((v-p)/60);a-=m,o+=m,l.start=v}}var b=n;return o===t&&(b=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,l.start)),{added:o,end:b}},_subtractMinutesUntilHourStart:function(e,t){for(var n=this.$gantt.date.hour_start(new Date(e)),o=0,a=t,l=60*n.getHours()*60+60*n.getMinutes()+n.getSeconds(),d=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds(),f=this._getWorkHours(e),g=f.length-1;g>=0&&o<t;g--){var p=f[g];if(d>p.start&&l<=p.end){var v=Math.min(d,p.end),y=Math.max(l,p.start),m=(v-y)/60;m>a&&(m=a,y=v-60*a);var b=Math.abs(Math.round((v-y)/60));a-=b,o+=b,d=y}}var k=n;return o===t&&(k=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,d)),{added:o,end:k}},_subtractMinuteDate:function(e,t,n){var o=new Date(e),a=0;n=n||-1,t=Math.abs(1*t),t=Math.round(t);var l=this._isMinutePrecision(o),d=this._subtractMinutesUntilHourStart(o,t);a+=d.added,o=d.end;for(var f=0,g=[],p=0;a<t;){var v=this.$gantt.date.day_start(new Date(o)),y=!1;o.valueOf()===v.valueOf()&&(v=this.$gantt.date.add(v,-1,"day"),y=!0);var m=new Date(v.getFullYear(),v.getMonth(),v.getDate(),23,59,59,999).valueOf();m!==f&&(g=this._getWorkHours(v),p=this._getMinutesPerDay(v),f=m);var b=t-a,k=this._getTimeOfDayStamp(o,y);if(g.length&&p)if(g[g.length-1].end<=k&&b>p)a+=p,o=this.$gantt.date.add(o,-1,"day");else{for(var $=!1,x=null,w=null,T=g.length-1;T>=0;T--)if(g[T].start<k-1&&g[T].end>=k-1){$=!0,x=g[T],w=g[T-1];break}if($)if(k===x.end&&b>=x.durationMinutes)a+=x.durationMinutes,o=this.$gantt.date.add(o,-x.durationMinutes,"minute");else if(!l&&b<=k/60-x.startMinute)a+=b,o=this.$gantt.date.add(o,-b,"minute");else if(l)b<=k/60-x.startMinute?(a+=b,o=this.$gantt.date.add(o,-b,"minute")):(a+=k/60-x.startMinute,o=w?new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,w.end):this.$gantt.date.day_start(o));else{var A=this._getMinutesPerHour(o);A<=b?(a+=A,o=this._nextDate(o,"hour",n)):(a+=(d=this._subtractMinutesUntilHourStart(o,b)).added,o=d.end)}else if(o.getHours()===0&&o.getMinutes()===0&&o.getSeconds()===0){if((I=this._getClosestWorkTimePast(o,"hour")).valueOf()===o.valueOf()){var I=this.$gantt.date.add(o,-1,"day"),N=this._getWorkHours(I);if(N.length){var j=N[N.length-1];I.setSeconds(j.durationSeconds)}}o=I}else o=this._getClosestWorkTimePast(new Date(o-1),"hour")}else o=this.$gantt.date.add(o,-1,"day")}if(a<t){var B=t-a;a+=(d=this._subtractMinutesUntilHourStart(o,B)).added,o=d.end}return o},_calculateMinuteEndDate:function(e,t,n){var o=new Date(e),a=0;n=n||1,t=Math.abs(1*t),t=Math.round(t);var l=this._addMinutesUntilHourEnd(o,t);a+=l.added,o=l.end;for(var d=0,f=[],g=0,p=this._isMinutePrecision(o);a<t;){var v=this.$gantt.date.day_start(new Date(o)).valueOf();v!==d&&(f=this._getWorkHours(o),g=this._getMinutesPerDay(o),d=v);var y=t-a,m=this._getTimeOfDayStamp(o);if(f.length&&g)if(f[0].start>=m&&y>=g){if(a+=g,y==g){o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,f[f.length-1].end);break}o=this.$gantt.date.add(o,1,"day"),o=this.$gantt.date.day_start(o)}else{for(var b=!1,k=null,$=0;$<f.length;$++)if(f[$].start<=m&&f[$].end>m){b=!0,k=f[$];break}if(b)if(m===k.start&&y>=k.durationMinutes)a+=k.durationMinutes,o=this.$gantt.date.add(o,k.durationMinutes,"minute");else if(y<=k.endMinute-m/60)a+=y,o=this.$gantt.date.add(o,y,"minute");else{var x=this._getMinutesPerHour(o);x<=y?(a+=x,o=p?this.$gantt.date.add(o,x,"minute"):this._nextDate(o,"hour",n)):(a+=(l=this._addMinutesUntilHourEnd(o,y)).added,o=l.end)}else o=this._getClosestWorkTimeFuture(o,"hour")}else o=this.$gantt.date.add(this.$gantt.date.day_start(o),1,"day")}if(a<t){var w=t-a;a+=(l=this._addMinutesUntilHourEnd(o,w)).added,o=l.end}return o},getClosestWorkTime:function(){var e=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getClosestWorkTime(e.date,e.unit,e.dir)},_getClosestWorkTime:function(e,t,n){var o=new Date(e);if(this._isWorkTime(o,t))return o;if(o=this.$gantt.date[t+"_start"](o),n!="any"&&n)o=n=="past"?this._getClosestWorkTimePast(o,t):this._getClosestWorkTimeFuture(o,t);else{var a=this._getClosestWorkTimeFuture(o,t),l=this._getClosestWorkTimePast(o,t);o=Math.abs(a-e)<=Math.abs(e-l)?a:l}return o},_getClosestWorkTimeFuture:function(e,t){return this._getClosestWorkTimeGeneric(e,t,1)},_getClosestWorkTimePast:function(e,t){var n=this._getClosestWorkTimeGeneric(e,t,-1);return this.$gantt.date.add(n,1,t)},_findClosestTimeInDay:function(e,t,n){var o=new Date(e),a=null,l=!1;this._getWorkHours(o).length||(o=this._getClosestWorkTime(o,"day",t<0?"past":"future"),t<0&&(o=new Date(o.valueOf()-1),l=!0),n=this._getWorkHours(o));var d=this._getTimeOfDayStamp(o);if(l&&(d=this._getTimeOfDayStamp(new Date(o.valueOf()+1),l)),t>0){for(var f=0;f<n.length;f++)if(n[f].start>=d){a=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,n[f].start);break}}else for(f=n.length-1;f>=0;f--){if(n[f].end<=d){a=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,n[f].end);break}if(n[f].end>d&&n[f].start<=d){a=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,d);break}}return a},_getClosestWorkMinute:function(e,t,n){var o=new Date(e),a=this._getWorkHours(o),l=this._findClosestTimeInDay(o,n,a);return l||(o=this.calculateEndDate(o,n,"day"),n>0?o=this.$gantt.date.day_start(o):(o=this.$gantt.date.day_start(o),o=this.$gantt.date.add(o,1,"day"),o=new Date(o.valueOf()-1)),a=this._getWorkHours(o),l=this._findClosestTimeInDay(o,n,a)),n<0&&(l=this.$gantt.date.add(l,-1,t)),l},_getClosestWorkTimeGeneric:function(e,t,n){if(t==="hour"||t==="minute")return this._getClosestWorkMinute(e,t,n);for(var o=this._getUnitOrder(t),a=this.units[o-1],l=e,d=0;!this._isWorkTime(l,t)&&(!a||this._isWorkTime(l,a)||(l=n>0?this._getClosestWorkTimeFuture(l,a):this._getClosestWorkTimePast(l,a),!this._isWorkTime(l,t)));){if(++d>3e3)return this.$gantt.assert(!1,"Invalid working time check"),!1;var f=l.getTimezoneOffset();l=this.$gantt.date.add(l,n,t),l=this.$gantt._correct_dst_change(l,f,n,t),this.$gantt.date[t+"_start"]&&(l=this.$gantt.date[t+"_start"](l))}return l},hasWorkTime:function(){var e=this.getConfig(),t=e.dates,n=[];for(var o in e.dates)Number(o)>6&&n.push(Number(o));var a=this._checkWorkHours(e.hours),l=!1;return[0,1,2,3,4,5,6].forEach(function(d){if(!l){var f=t[d];f===!0?l=a:Array.isArray(f)&&(l=this._checkWorkHours(f))}}.bind(this)),l},_checkWorkHours:function(e){if(e.length===0)return!1;for(var t=!1,n=0;n<e.length;n+=2)e[n]!==e[n+1]&&(t=!0);return t},_isMinutePrecision:function(e){var t=!1;return this._getWorkHours(e).forEach(function(n){(n.startMinute%60||n.endMinute%60)&&(t=!0)}),t}},D.exports=r},function(D,E,h){var _=h(0);function u(){}u.prototype={_getIntervals:function(s){for(var c=[],i=0;i<s.length;i+=2)c.push({start:s[i],end:s[i+1]});return c},_toHoursArray:function(s){var c=[];function i(e){var t=Math.floor(e/3600),n=e-60*t*60;return t+":"+function(o){var a=String(o);return a.length<2&&(a="0"+a),a}(Math.floor(n/60))}for(var r=0;r<s.length;r++)c.push(i(s[r].start)+"-"+i(s[r].end));return c},_intersectHourRanges:function(s,c){var i=[],r=s.length>c.length?s:c,e=s===r?c:s;r=r.slice(),e=e.slice(),i=[];for(var t=0;t<r.length;t++)for(var n=r[t],o=0;o<e.length;o++){var a=e[o];a.start<n.end&&a.end>n.start&&(i.push({start:Math.max(n.start,a.start),end:Math.min(n.end,a.end)}),n.end>a.end&&(e.splice(o,1),o--,t--))}return i},_mergeAdjacentIntervals:function(s){var c=s.slice();c.sort(function(t,n){return t.start-n.start});for(var i=c[0],r=1;r<c.length;r++){var e=c[r];e.start<=i.end?(e.end>i.end&&(i.end=e.end),c.splice(r,1),r--):i=e}return c},_mergeHoursConfig:function(s,c){return this._mergeAdjacentIntervals(this._intersectHourRanges(s,c))},merge:function(s,c){var i=_.copy(s.getConfig().parsed),r=_.copy(c.getConfig().parsed),e={hours:this._toHoursArray(this._mergeHoursConfig(i.hours,r.hours)),dates:{},customWeeks:{}};for(var t in i.dates){var n=i.dates[t],o=r.dates[t];if(n&&o)if(Array.isArray(n)||Array.isArray(o)){var a=Array.isArray(n)?n:i.hours,l=Array.isArray(o)?o:r.hours;e.dates[t]=this._toHoursArray(this._mergeHoursConfig(a,l))}else e.dates[t]=!0;else e.dates[t]=!1}if(i.customWeeks)for(var t in i.customWeeks)e.customWeeks[t]=i.customWeeks[t];if(r.customWeeks)for(var t in r.customWeeks)e.customWeeks[t]=r.customWeeks[t];return e}},D.exports=u},function(D,E,h){var _=h(0),u=h(42),s=h(198),c=h(197),i=h(192),r=h(191)();function e(t){this.$gantt=t,this._calendars={},this._legacyConfig=void 0,this.$gantt.attachEvent("onGanttReady",function(){this.$gantt.config.resource_calendars&&(this._isLegacyConfig=i.isLegacyResourceCalendarFormat(this.$gantt.config.resource_calendars))}.bind(this)),this.$gantt.attachEvent("onBeforeGanttReady",function(){this.createDefaultCalendars()}.bind(this)),this.$gantt.attachEvent("onBeforeGanttRender",function(){this.createDefaultCalendars()}.bind(this))}e.prototype={_calendars:{},_convertWorkTimeSettings:function(t){var n=t.days;if(n&&!t.dates){t.dates=t.dates||{};for(var o=0;o<n.length;o++)t.dates[o]=n[o],n[o]instanceof Array||(t.dates[o]=!!n[o])}return delete t.days,t},mergeCalendars:function(){var t=[],n=arguments;if(Array.isArray(n[0]))t=n[0].slice();else for(var o=0;o<arguments.length;o++)t.push(arguments[o]);var a,l=new s;return t.forEach(function(d){a=a?this._createCalendarFromConfig(l.merge(a,d)):d}.bind(this)),this.createCalendar(a)},_createCalendarFromConfig:function(t){var n=new c(this.$gantt,u(this.$gantt));n.id=String(_.uid());var o=this._convertWorkTimeSettings(t);if(o.customWeeks)for(var a in o.customWeeks)o.customWeeks[a]=this._convertWorkTimeSettings(o.customWeeks[a]);return n._setConfig(o),n},createCalendar:function(t){var n;t||(t={}),n=t.getConfig?_.copy(t.getConfig()):t.worktime?_.copy(t.worktime):_.copy(t);var o=_.copy(this.defaults.fulltime.worktime);return _.mixin(n,o),this._createCalendarFromConfig(n)},getCalendar:function(t){t=t||"global";var n=this._calendars[t];return n||(this.createDefaultCalendars(),n=this._calendars[t]),n},getCalendars:function(){var t=[];for(var n in this._calendars)t.push(this.getCalendar(n));return t},_getOwnCalendar:function(t){var n=this.$gantt.config;if(t[n.calendar_property])return this.getCalendar(t[n.calendar_property]);if(n.resource_calendars){var o;if(o=this._legacyConfig===!1?n.resource_property:i.getResourceProperty(n),Array.isArray(t[o]))n.dynamic_resource_calendars&&(a=r.getCalendarIdFromMultipleResources(t[o],this));else if(this._legacyConfig===void 0&&(this._legacyConfig=i.isLegacyResourceCalendarFormat(n.resource_calendars)),this._legacyConfig)var a=i.getCalendarIdFromLegacyConfig(t,n.resource_calendars);else if(o&&t[o]&&n.resource_calendars[t[o]])var l=this.getResourceCalendar(t[o]);if(a&&(l=this.getCalendar(a)),l)return l}return null},getResourceCalendar:function(t){if(t==null)return this.getCalendar();var n=null;n=typeof t=="number"||typeof t=="string"?t:t.id||t.key;var o=this.$gantt.config,a=o.resource_calendars,l=null;if(a){if(this._legacyConfig===void 0&&(this._legacyConfig=i.isLegacyResourceCalendarFormat(o.resource_calendars)),this._legacyConfig){for(var d in a)if(a[d][n]){l=a[d][n];break}}else l=a[n];if(l)return this.getCalendar(l)}return this.getCalendar()},getTaskCalendar:function(t){var n,o=this.$gantt;if(t==null)return this.getCalendar();if(!(n=typeof t!="number"&&typeof t!="string"||!o.isTaskExists(t)?t:o.getTask(t)))return this.getCalendar();var a=this._getOwnCalendar(n),l=!!o.getState().group_mode;if(!a&&o.config.inherit_calendar&&o.isTaskExists(n.parent)){for(var d=n;o.isTaskExists(d.parent)&&(d=o.getTask(d.parent),!o.isSummaryTask(d)||!(a=this._getOwnCalendar(d))););l&&!a&&t.$effective_calendar&&(a=this.getCalendar(t.$effective_calendar))}return a||this.getCalendar()},addCalendar:function(t){if(!this.isCalendar(t)){var n=t.id;(t=this.createCalendar(t)).id=n}if(t._tryChangeCalendarSettings(function(){})){var o=this.$gantt.config;return t.id=t.id||_.uid(),this._calendars[t.id]=t,o.worktimes||(o.worktimes={}),o.worktimes[t.id]=t.getConfig(),t.id}return this.$gantt.callEvent("onCalendarError",[{message:"Invalid calendar settings, no worktime available"},t]),null},deleteCalendar:function(t){var n=this.$gantt.config;return!!t&&!!this._calendars[t]&&(delete this._calendars[t],n.worktimes&&n.worktimes[t]&&delete n.worktimes[t],!0)},restoreConfigCalendars:function(t){for(var n in t)if(!this._calendars[n]){var o=t[n],a=this.createCalendar(o);a.id=n,this.addCalendar(a)}},defaults:{global:{id:"global",worktime:{hours:[8,12,13,17],days:[0,1,1,1,1,1,0]}},fulltime:{id:"fulltime",worktime:{hours:[0,24],days:[1,1,1,1,1,1,1]}}},createDefaultCalendars:function(){var t=this.$gantt.config;this.restoreConfigCalendars(this.defaults),this.restoreConfigCalendars(t.worktimes)},isCalendar:function(t){return[t.isWorkTime,t.setWorkTime,t.getWorkHours,t.unsetWorkTime,t.getClosestWorkTime,t.calculateDuration,t.hasDuration,t.calculateEndDate].every(function(n){return n instanceof Function})}},D.exports=e},function(D,E,h){var _=h(199),u=h(190),s=h(188),c=h(0);D.exports=function(i){var r=new _(i),e=new u(r),t=s.create(r,e);c.mixin(i,t)}},function(D,E,h){function _(s){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(s)}var u=h(2);D.exports=function(s){function c(i){throw s.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(i)),new Error("Invalid argument for gantt.parse or gantt.load. An object or a JSON string of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#json is expected. Actual argument value: "+JSON.stringify(i))}s.load=function(i,r,e){this._load_url=i,this.assert(arguments.length,"Invalid load arguments");var t="json",n=null;return arguments.length>=3?(t=r,n=e):typeof arguments[1]=="string"?t=arguments[1]:typeof arguments[1]=="function"&&(n=arguments[1]),this._load_type=t,this.callEvent("onLoadStart",[i,t]),this.ajax.get(i,s.bind(function(o){this.on_load(o,t),this.callEvent("onLoadEnd",[i,t]),typeof n=="function"&&n.call(this)},this))},s.parse=function(i,r){this.on_load({xmlDoc:{responseText:i}},r)},s.serialize=function(i){return this[i=i||"json"].serialize()},s.on_load=function(i,r){if(i.xmlDoc&&i.xmlDoc.status===404)this.assert(!1,"Failed to load the data from <a href='"+i.xmlDoc.responseURL+"' target='_blank'>"+i.xmlDoc.responseURL+"</a>, server returns 404");else if(!s.$destroyed){this.callEvent("onBeforeParse",[]),r||(r="json"),this.assert(this[r],"Invalid data type:'"+r+"'");var e=i.xmlDoc.responseText,t=this[r].parse(e,i);this._process_loading(t)}},s._process_loading=function(i){i.collections&&this._load_collections(i.collections),i.resources&&this.$data.resourcesStore&&this.$data.resourcesStore.parse(i.resources);var r=i.data||i.tasks;i.assignments&&function(t,n){var o={};n.forEach(function(a){o[a.task_id]||(o[a.task_id]=[]),o[a.task_id].push(a)}),t.forEach(function(a){a[s.config.resource_property]=o[a.id]||[]})}(r,i.assignments),this.$data.tasksStore.parse(r);var e=i.links||(i.collections?i.collections.links:[]);this.$data.linksStore.parse(e),this.callEvent("onParse",[]),this.render()},s._load_collections=function(i){var r=!1;for(var e in i)if(i.hasOwnProperty(e)){r=!0;var t=i[e];this.serverList[e]=this.serverList[e]||[];var n=this.serverList[e];if(!n)continue;n.splice(0,n.length);for(var o=0;o<t.length;o++){var a=t[o],l=this.copy(a);for(var d in l.key=l.value,a)if(a.hasOwnProperty(d)){if(d=="value"||d=="label")continue;l[d]=a[d]}n.push(l)}}r&&this.callEvent("onOptionsLoad",[])},s.attachEvent("onBeforeTaskDisplay",function(i,r){return!r.$ignore}),s.json={parse:function(i){if(i||c(i),typeof i=="string")if((typeof JSON>"u"?"undefined":_(JSON))!=null)try{i=JSON.parse(i)}catch{c(i)}else s.assert(!1,"JSON is not supported");return i.data||i.tasks||c(i),i.dhx_security&&(s.security_key=i.dhx_security),i},serializeTask:function(i){return this._copyObject(i)},serializeLink:function(i){return this._copyLink(i)},_copyLink:function(i){var r={};for(var e in i)r[e]=i[e];return r},_copyObject:function(i){var r={};for(var e in i)e.charAt(0)!="$"&&(r[e]=i[e],u.isDate(r[e])&&(r[e]=s.defined(s.templates.xml_format)?s.templates.xml_format(r[e]):s.templates.format_date(r[e])));return r},serialize:function(){var i=[],r=[];s.eachTask(function(n){s.resetProjectDates(n),i.push(this.serializeTask(n))},s.config.root_id,this);for(var e=s.getLinks(),t=0;t<e.length;t++)r.push(this.serializeLink(e[t]));return{data:i,links:r}}},s.xml={_xmlNodeToJSON:function(i,r){for(var e={},t=0;t<i.attributes.length;t++)e[i.attributes[t].name]=i.attributes[t].value;if(!r){for(t=0;t<i.childNodes.length;t++){var n=i.childNodes[t];n.nodeType==1&&(e[n.tagName]=n.firstChild?n.firstChild.nodeValue:"")}e.text||(e.text=i.firstChild?i.firstChild.nodeValue:"")}return e},_getCollections:function(i){for(var r={},e=s.ajax.xpath("//coll_options",i),t=0;t<e.length;t++)for(var n=r[e[t].getAttribute("for")]=[],o=s.ajax.xpath(".//item",e[t]),a=0;a<o.length;a++){for(var l=o[a].attributes,d={key:o[a].getAttribute("value"),label:o[a].getAttribute("label")},f=0;f<l.length;f++){var g=l[f];g.nodeName!="value"&&g.nodeName!="label"&&(d[g.nodeName]=g.nodeValue)}n.push(d)}return r},_getXML:function(i,r,e){e=e||"data",r.getXMLTopNode||(r=s.ajax.parse(r));var t=s.ajax.xmltop(e,r.xmlDoc);t&&t.tagName==e||function(o){throw s.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(o)),new Error("Invalid argument for gantt.parse or gantt.load. An XML of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#xmldhtmlxgantt20 is expected. Actual argument value: "+JSON.stringify(o))}(i);var n=t.getAttribute("dhx_security");return n&&(s.security_key=n),t},parse:function(i,r){r=this._getXML(i,r);for(var e={},t=e.data=[],n=s.ajax.xpath("//task",r),o=0;o<n.length;o++)t[o]=this._xmlNodeToJSON(n[o]);return e.collections=this._getCollections(r),e},_copyLink:function(i){return"<item id='"+i.id+"' source='"+i.source+"' target='"+i.target+"' type='"+i.type+"' />"},_copyObject:function(i){return"<task id='"+i.id+"' parent='"+(i.parent||"")+"' start_date='"+i.start_date+"' duration='"+i.duration+"' open='"+!!i.open+"' progress='"+i.progress+"' end_date='"+i.end_date+"'><![CDATA["+i.text+"]]></task>"},serialize:function(){for(var i=[],r=[],e=s.json.serialize(),t=0,n=e.data.length;t<n;t++)i.push(this._copyObject(e.data[t]));for(t=0,n=e.links.length;t<n;t++)r.push(this._copyLink(e.links[t]));return"<data>"+i.join("")+"<coll_options for='links'>"+r.join("")+"</coll_options></data>"}},s.oldxml={parse:function(i,r){r=s.xml._getXML(i,r,"projects");for(var e={collections:{links:[]}},t=e.data=[],n=s.ajax.xpath("//task",r),o=0;o<n.length;o++){t[o]=s.xml._xmlNodeToJSON(n[o]);var a=n[o].parentNode;a.tagName=="project"?t[o].parent="project-"+a.getAttribute("id"):t[o].parent=a.parentNode.getAttribute("id")}for(n=s.ajax.xpath("//project",r),o=0;o<n.length;o++)(l=s.xml._xmlNodeToJSON(n[o],!0)).id="project-"+l.id,t.push(l);for(o=0;o<t.length;o++){var l;(l=t[o]).start_date=l.startdate||l.est,l.end_date=l.enddate,l.text=l.name,l.duration=l.duration/8,l.open=1,l.duration||l.end_date||(l.duration=1),l.predecessortasks&&e.collections.links.push({target:l.id,source:l.predecessortasks,type:s.config.links.finish_to_start})}return e},serialize:function(){s.message("Serialization to 'old XML' is not implemented")}},s.serverList=function(i,r){return r?this.serverList[i]=r.slice(0):this.serverList[i]||(this.serverList[i]=[]),this.serverList[i]}}},function(D,E){D.exports=function(h){h.isReadonly=function(_){return typeof _!="number"&&typeof _!="string"||!h.isTaskExists(_)||(_=h.getTask(_)),(!_||!_[this.config.editable_property])&&(_&&_[this.config.readonly_property]||this.config.readonly)}}},function(D,E){D.exports=function(h){h.getGridColumn=function(_){for(var u=h.config.columns,s=0;s<u.length;s++)if(u[s].name==_)return u[s];return null},h.getGridColumns=function(){return h.config.columns.slice()}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(s){this._scrollOrder=0;var c=s.gantt,i=s.grid,r=s.dnd,e=s.getCurrentX;this.$gantt=c,this.$grid=i,this._dnd=r,this.getCurrentX=e,this._scrollView=this.$gantt.$ui.getView(this.$grid.$config.scrollX),this.attachEvents()}return u.prototype.attachEvents=function(){var s=this;this.isScrollable()&&(this._dnd.attachEvent("onDragMove",function(c,i){var r=s.$grid.$grid.getBoundingClientRect(),e=r.right,t=r.left,n=s.getCurrentX(i.clientX);return n>=e-20&&(s.autoscrollRight(),s.autoscrollStart()),n<=t+20&&(s.autoscrollLeft(),s.autoscrollStart()),n<e-20&&n>t+20&&s.autoscrollStop(),!0}),this._dnd.attachEvent("onDragEnd",function(){s.autoscrollStop()}))},u.prototype.autoscrollStart=function(){var s=this;if(this._scrollOrder!==0){var c=10*this._scrollOrder,i=this._scrollView.getScrollState();this._scrollView.scrollTo(i.position+c),setTimeout(function(){s.autoscrollStart()},50)}},u.prototype.autoscrollRight=function(){this._scrollOrder=1},u.prototype.autoscrollLeft=function(){this._scrollOrder=-1},u.prototype.autoscrollStop=function(){this._scrollOrder=0},u.prototype.getCorrection=function(){return this.isScrollable()?this._scrollView.getScrollState().position:0},u.prototype.isScrollable=function(){return!!this.$grid.$config.scrollable},u}();E.default=_},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(1),u=h(204),s=function(){function c(i,r){var e=this;this._targetMarker=null,this.calculateCurrentPosition=function(t){var n=e.$grid.$grid.getBoundingClientRect(),o=n.right,a=n.left,l=t;return l>o&&(l=o),l<a&&(l=a),l},this.$gantt=i,this.$grid=r}return c.prototype.init=function(){var i=this.$gantt.$services.getService("dnd");this._dnd=new i(this.$grid.$grid_scale,{updates_per_second:60}),this._scrollableGrid=new u.default({gantt:this.$gantt,grid:this.$grid,dnd:this._dnd,getCurrentX:this.calculateCurrentPosition}),this.attachEvents()},c.prototype.attachEvents=function(){var i=this;this._dnd.attachEvent("onBeforeDragStart",function(r,e){if(i._draggedCell=i.$gantt.utils.dom.closest(e.target,".gantt_grid_head_cell"),i._draggedCell){var t,n,o=i.$grid.$getConfig().columns,a=i._draggedCell.getAttribute("data-column-id");return o.map(function(l,d){l.name===a&&(t=l,n=d)}),i.$grid.callEvent("onBeforeColumnDragStart",[{draggedColumn:t,draggedIndex:n}])===!1?!1:!(!i._draggedCell||!t)&&(i._gridConfig=i.$grid.$getConfig(),i._originAutoscroll=i.$gantt.config.autoscroll,i.$gantt.config.autoscroll=!1,!0)}}),this._dnd.attachEvent("onAfterDragStart",function(r,e){i._draggedCell&&(i._dnd.config.column=i._draggedCell.getAttribute("data-column-id"),i._dnd.config.marker.innerHTML=i._draggedCell.outerHTML,i._dnd.config.marker.classList.add("gantt_column_drag_marker"),i._dnd.config.marker.style.height=i._gridConfig.scale_height+"px",i._dnd.config.marker.style.lineHeight=i._gridConfig.scale_height+"px",i._draggedCell.classList.add("gantt_grid_head_cell_dragged"))}),this._dnd.attachEvent("onDragMove",function(r,e){if(i._draggedCell){i._dragX=e.clientX;var t=i.calculateCurrentPosition(e.clientX),n=i.findColumnsIndexes(),o=n.targetIndex,a=n.draggedIndex,l=i.$grid.$getConfig().columns,d=l[a],f=l[o];return i.$grid.callEvent("onColumnDragMove",[{draggedColumn:d,targetColumn:f,draggedIndex:a,targetIndex:o}])===!1?(i.cleanTargetMarker(),!1):(i.setMarkerPosition(t),i.drawTargetMarker(n),!0)}}),this._dnd.attachEvent("onDragEnd",function(){i._draggedCell&&(i.$gantt.config.autoscroll=i._originAutoscroll,i._draggedCell.classList.remove("gantt_grid_head_cell_dragged"),i.cleanTargetMarker(),i.reorderColumns())})},c.prototype.reorderColumns=function(){var i=this.findColumnsIndexes(),r=i.targetIndex,e=i.draggedIndex,t=this.$grid.$getConfig().columns,n=t[e],o=t[r];this.$grid.callEvent("onBeforeColumnReorder",[{draggedColumn:n,targetColumn:o,draggedIndex:e,targetIndex:r}])!==!1&&r!==e&&(t.splice(e,1),t.splice(r,0,n),this.$gantt.render(),this.$grid.callEvent("onAfterColumnReorder",[{draggedColumn:n,targetColumn:o,draggedIndex:e,targetIndex:r}]))},c.prototype.findColumnsIndexes=function(){var i,r,e,t,n,o=this._dnd.config.column,a=this.$grid.$getConfig().columns,l={startX:0,endX:0},d=0,f=a.length-1,g=function(m,b){return m<=b},p=function(m){return++m};this.$gantt.config.rtl&&(d=a.length-1,f=0,g=function(m,b){return m>=b},p=function(m){return--m});for(var v=this._dragX-this.$grid.$grid.getBoundingClientRect().left+this._scrollableGrid.getCorrection(),y=d;g(y,f)&&(i===void 0||r===void 0);y=p(y))a[y].hide||(l.startX=l.endX,l.endX+=a[y].width,v>=l.startX&&(v<=l.endX||!g(p(y),f))&&(i=y,e=l.startX,t=l.endX,n=(v-l.startX)/(l.endX-l.startX)),o===a[y].name&&(r=y));return{targetIndex:i,draggedIndex:r,xBefore:e,xAfter:t,columnRelativePos:n}},c.prototype.setMarkerPosition=function(i,r){r===void 0&&(r=10);var e=this._dnd.config.marker,t=this._dnd._obj.getBoundingClientRect();e.style.top=t.y+r+"px",e.style.left=i+"px"},c.prototype.drawTargetMarker=function(i){var r,e=i.targetIndex,t=i.draggedIndex,n=i.xBefore,o=i.xAfter,a=i.columnRelativePos;this._targetMarker||(this._targetMarker=document.createElement("div"),_.addClassName(this._targetMarker,"gantt_grid_target_marker"),this._targetMarker.style.display="none",this._targetMarker.style.height=this._gridConfig.scale_height+"px"),this._targetMarker.parentNode||this.$grid.$grid_scale.appendChild(this._targetMarker),r=e>t?o:e<t?n:a>.5?o:n,this._targetMarker.style.left=r+"px",this._targetMarker.style.display="block"},c.prototype.cleanTargetMarker=function(){this._targetMarker&&this._targetMarker.parentNode&&this.$grid.$grid_scale.removeChild(this._targetMarker),this._targetMarker=null},c}();E.ColumnsGridDnd=s},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(205);E.default=_.ColumnsGridDnd},function(D,E,h){var _=h(1);D.exports=function(u,s){var c={row_before_start:u.bind(function(i,r,e){var t=s.$getConfig(),n=s.$config.rowStore;if(!_.locateAttribute(e,t.task_grid_row_resizer_attribute))return!1;var o=this.locate(e,t.task_grid_row_resizer_attribute),a=n.getItem(o);return s.callEvent("onBeforeRowResize",[a])!==!1&&void 0},u),row_after_start:u.bind(function(i,r,e){var t=s.$getConfig(),n=this.locate(e,t.task_grid_row_resizer_attribute);i.config.marker.innerHTML="",i.config.marker.className+=" gantt_row_grid_resize_area",i.config.marker.style.width=s.$grid.offsetWidth+"px",i.config.drag_id=n},u),row_drag_move:u.bind(function(i,r,e){var t=s.$config.rowStore,n=s.$getConfig(),o=i.config,a=o.drag_id,l=s.getItemHeight(a),d=s.getItemTop(a),f=_.getNodePosition(s.$grid_data),g=parseInt(o.marker.style.top,10),p=d+f.y,v=0,y=n.min_task_grid_row_height;return(v=g-p)<y&&(v=y),o.marker.style.left=f.x+"px",o.marker.style.top=p-1+"px",o.marker.style.height=Math.abs(v)+1+"px",o.marker_height=v,s.callEvent("onRowResize",[a,t.getItem(a),v+l]),!0},u),row_drag_end:u.bind(function(i,r,e){var t=s.$config.rowStore,n=i.config,o=n.drag_id,a=t.getItem(o),l=s.getItemHeight(o),d=n.marker_height;s.callEvent("onBeforeRowResizeEnd",[o,a,d])!==!1&&a.row_height!=d&&(a.row_height=d,u.updateTask(o),s.callEvent("onAfterRowResize",[o,a,l,d]),this.render())},u)};return{init:function(){var i=u.$services.getService("dnd"),r=s.$getConfig(),e=new i(s.$grid_data,{updates_per_second:60});u.defined(r.dnd_sensitivity)&&(e.config.sensitivity=r.dnd_sensitivity),e.attachEvent("onBeforeDragStart",function(t,n){return c.row_before_start(e,t,n)}),e.attachEvent("onAfterDragStart",function(t,n){return c.row_after_start(e,t,n)}),e.attachEvent("onDragMove",function(t,n){return c.row_drag_move(e,t,n)}),e.attachEvent("onDragEnd",function(t,n){return c.row_drag_end(e,t,n)})}}}},function(D,E){D.exports=function(h){var _=-1,u=-1;return{resetCache:function(){_=-1,u=-1},_getRowHeight:function(){return _===-1&&(_=h.$getConfig().row_height),_},_refreshState:function(){this.resetCache(),u=!0;var s=h.$config.rowStore;if(s)for(var c=this._getRowHeight(),i=0;i<s.fullOrder.length;i++){var r=s.getItem(s.fullOrder[i]);if(r&&r.row_height&&r.row_height!==c){u=!1;break}}},canUseSimpleCalculation:function(){return u===-1&&this._refreshState(),u},getRowTop:function(s){return h.$config.rowStore?s*this._getRowHeight():0},getItemHeight:function(s){return this._getRowHeight()},getTotalHeight:function(){return h.$config.rowStore?h.$config.rowStore.countVisible()*this._getRowHeight():0},getItemIndexByTopPosition:function(s){return h.$config.rowStore?Math.floor(s/this._getRowHeight()):0}}}},function(D,E){D.exports=function(h,_){return{init:function(){},doOnRender:function(){}}}},function(D,E,h){var _=h(32);D.exports=function(u){h(203)(u),_.prototype.getGridColumns=function(){for(var s=this.$getConfig().columns,c=[],i=0;i<s.length;i++)s[i].hide||c.push(s[i]);return c}}},function(D,E,h){D.exports=function(_){var u=h(47),s={};_.attachEvent("onClearAll",function(){s={}});var c=u.prototype.hasChild;_.$data.tasksStore.hasChild=function(i){return _.config.branch_loading?!!c.call(this,i)||!!this.exists(i)&&this.getItem(i)[_.config.branch_loading_property]:c.call(this,i)},_.attachEvent("onTaskOpened",function(i){if(_.config.branch_loading&&_._load_url&&function(o){return!(!_.config.branch_loading||!_._load_url||s[o]||_.getChildren(o).length||!_.hasChild(o))}(i)){var r=_._load_url,e=(r=r.replace(/(\?|&)?parent_id=.+&?/,"")).indexOf("?")>=0?"&":"?",t=_.getScrollState().y||0,n={taskId:i,url:r+e+"parent_id="+encodeURIComponent(i)};if(_.callEvent("onBeforeBranchLoading",[n])===!1)return;_.load(n.url,this._load_type,function(){t&&_.scrollTo(null,t),_.callEvent("onAfterBranchLoading",[n])}),s[i]=!0}})}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(_){_.ext=_.ext||{},_.config.show_empty_state=!1,_.ext.emptyStateElement=_.ext.emptyStateElement||{isEnabled:function(){return _.config.show_empty_state===!0},isGanttEmpty:function(){return!_.getTaskByTime().length},renderContent:function(u){var s=`<div class='gantt_empty_state'><div class='gantt_empty_state_image'></div><div class='gantt_empty_state_text'>
    <div class='gantt_empty_state_text_link' data-empty-state-create-task>`+_.locale.labels.empty_state_text_link+`</div>
    <div class='gantt_empty_state_text_description'>`+_.locale.labels.empty_state_text_description+`</div>
    </div></div>`;u.innerHTML=s},clickEvents:[],attachAddTaskEvent:function(){var u=_.attachEvent("onEmptyClick",function(s){_.utils.dom.closest(s.target,"[data-empty-state-create-task]")&&_.createTask({id:_.uid(),text:"New Task"})});this.clickEvents.push(u)},detachAddTaskEvents:function(){this.clickEvents.forEach(function(u){_.detachEvent(u)}),this.clickEvents=[]},getContainer:function(){if(_.$container){var u=_.utils.dom;if(_.$container.contains(_.$grid_data))return u.closest(_.$grid_data,".gantt_layout_content");if(_.$container.contains(_.$task_data))return u.closest(_.$task_data,".gantt_layout_content")}return null},getNode:function(){var u=this.getContainer();return u?u.querySelector(".gantt_empty_state_wrapper"):null},show:function(){var u=this.getContainer();if(!u&&this.isGanttEmpty())return null;var s=document.createElement("div");s.className="gantt_empty_state_wrapper",s.style.marginTop=_.config.scale_height-u.offsetHeight+"px";var c=_.$container.querySelectorAll(".gantt_empty_state_wrapper");Array.prototype.forEach.call(c,function(i){i.parentNode.removeChild(i)}),this.detachAddTaskEvents(),this.attachAddTaskEvent(),u.appendChild(s),this.renderContent(s)},hide:function(){var u=this.getNode();if(!u)return!1;u.parentNode.removeChild(u)},init:function(){}},_.attachEvent("onDataRender",function(){var u=_.ext.emptyStateElement;u.isEnabled()&&u.isGanttEmpty()?u.show():u.hide()})}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(s){var c=this;this.format=function(i){return c._getWBSCode(i.source)},this.canParse=function(i){return c._linkReg.test(i)},this.parse=function(i){if(!c.canParse(i))return null;var r=c._linkReg.exec(i)[0].trim();return{id:void 0,source:c._findSource(r)||null,target:null,type:c._gantt.config.links.finish_to_start,lag:0}},this._getWBSCode=function(i){var r=c._gantt.getTask(i);return c._gantt.getWBSCode(r)},this._findSource=function(i){var r=new RegExp("^[0-9.]+","i");if(r.exec(i)){var e=r.exec(i)[0],t=c._gantt.getTaskByWBSCode(e);if(t)return t.id}return null},this._linkReg=/^[0-9\.]+/,this._gantt=s}return u.create=function(s,c){return new u(c)},u}();E.default=_},function(D,E,h){var _=h(44).default,u=h(213).default;D.exports=function(s){s.ext.formatters={durationFormatter:function(c){return c||(c={}),c.store||(c.store=s.config.duration_unit),c.enter||(c.enter=s.config.duration_unit),_.create(c,s)},linkFormatter:function(c){return u.create(c,s)}}}},function(D,E){D.exports=function(h){function _(o){return function(){return!h.config.auto_types||h.getTaskType(h.config.types.project)!=h.config.types.project||o.apply(this,arguments)}}function u(o,a){var l=h.getTask(o),d=i(l);d!==!1&&h.getTaskType(l)!==d&&(a.$needsUpdate=!0,a[l.id]={task:l,type:d})}function s(o){if(!h.getState().group_mode){var a=function(l,d){return u(l,d=d||{}),h.eachParent(function(f){u(f.id,d)},l),d}(o);a.$needsUpdate&&h.batchUpdate(function(){(function(l){for(var d in l)if(l[d]&&l[d].task){var f=l[d].task;f.type=l[d].type,h.updateTask(f.id)}})(a)})}}var c;function i(o){var a=h.config.types,l=h.hasChild(o.id),d=h.getTaskType(o.type);return l&&d===a.task?a.project:!l&&d===a.project&&a.task}var r,e,t=!0;function n(o){o!=h.config.root_id&&h.isTaskExists(o)&&s(o)}h.attachEvent("onParse",_(function(){t=!1,h.getState().group_mode||(h.batchUpdate(function(){h.eachTask(function(o){var a=i(o);a!==!1&&function(l,d){h.getState().group_mode||(l.type=d,h.updateTask(l.id))}(o,a)})}),t=!0)})),h.attachEvent("onAfterTaskAdd",_(function(o){t&&s(o)})),h.attachEvent("onAfterTaskUpdate",_(function(o){t&&s(o)})),h.attachEvent("onBeforeTaskDelete",_(function(o,a){return c=h.getParent(o),!0})),h.attachEvent("onAfterTaskDelete",_(function(o,a){n(c)})),h.attachEvent("onRowDragStart",_(function(o,a,l){return r=h.getParent(o),!0})),h.attachEvent("onRowDragEnd",_(function(o,a){n(r),s(o)})),h.attachEvent("onBeforeTaskMove",_(function(o,a,l){return e=h.getParent(o),!0})),h.attachEvent("onAfterTaskMove",_(function(o,a,l){document.querySelector(".gantt_drag_marker")||(n(e),s(o))}))}},function(D,E){D.exports=function(h){function _(e){return function(){return!h.config.placeholder_task||e.apply(this,arguments)}}function u(){var e=h.getTaskBy("type",h.config.types.placeholder);if(!e.length||!h.isTaskExists(e[0].id)){var t={unscheduled:!0,type:h.config.types.placeholder,duration:0,text:h.locale.labels.new_task};if(h.callEvent("onTaskCreated",[t])===!1)return;h.addTask(t)}}function s(e){var t=h.getTask(e);t.type==h.config.types.placeholder&&(t.start_date&&t.end_date&&t.unscheduled&&(t.unscheduled=!1),h.batchUpdate(function(){var n=h.copy(t);h.silent(function(){h.deleteTask(t.id)}),delete n["!nativeeditor_status"],n.type=h.config.types.task,n.id=h.uid(),h.addTask(n)}))}h.config.types.placeholder="placeholder",h.attachEvent("onDataProcessorReady",_(function(e){e&&!e._silencedPlaceholder&&(e._silencedPlaceholder=!0,e.attachEvent("onBeforeUpdate",_(function(t,n,o){return o.type!=h.config.types.placeholder||(e.setUpdated(t,!1),!1)})))}));var c=!1;function i(e){return!!(h.config.types.placeholder&&h.isTaskExists(e)&&h.getTask(e).type==h.config.types.placeholder)}function r(e){return!(!i(e.source)&&!i(e.target))}h.attachEvent("onGanttReady",function(){c||(c=!0,h.attachEvent("onAfterTaskUpdate",_(s)),h.attachEvent("onAfterTaskAdd",_(function(e,t){t.type!=h.config.types.placeholder&&(h.getTaskBy("type",h.config.types.placeholder).forEach(function(n){h.silent(function(){h.isTaskExists(n.id)&&h.deleteTask(n.id)})}),u())})),h.attachEvent("onParse",_(u)))}),h.attachEvent("onLinkValidation",function(e){return!r(e)}),h.attachEvent("onBeforeLinkAdd",function(e,t){return!r(t)}),h.attachEvent("onBeforeUndoStack",function(e){for(var t=0;t<e.commands.length;t++){var n=e.commands[t];n.entity==="task"&&n.value.type===h.config.types.placeholder&&(e.commands.splice(t,1),t--)}return!0})}},function(D,E){D.exports=function(h){var _="$resourceAssignments";h.config.resource_assignment_store="resourceAssignments",h.config.process_resource_assignments=!0;var u={auto:"auto",singleValue:"singleValue",valueArray:"valueArray",resourceValueArray:"resourceValueArray",assignmentsArray:"assignmentsArray"},s=u.auto,c={fixedDates:"fixedDates",fixedDuration:"fixedDuration",default:"default"};function i(f,g){f.start_date?f.start_date=h.date.parseDate(f.start_date,"parse_date"):f.start_date=null,f.end_date?f.end_date=h.date.parseDate(f.end_date,"parse_date"):f.end_date=null;var p=Number(f.delay),v=!1;if(isNaN(p)?(f.delay=0,v=!0):f.delay=p,h.defined(f.value)||(f.value=null),!f.task_id||!f.resource_id)return!1;if(f.mode=f.mode||c.default,f.mode===c.fixedDuration&&(isNaN(Number(f.duration))&&(g=g||h.getTask(f.task_id),f.duration=h.calculateDuration({start_date:f.start_date,end_date:f.end_date,id:g})),v&&(g=g||h.getTask(f.task_id),f.delay=h.calculateDuration({start_date:g.start_date,end_date:f.start_date,id:g}))),f.mode!==c.fixedDates&&(g||h.isTaskExists(f.task_id))){var y=e(f,g=g||h.getTask(f.task_id));f.start_date=y.start_date,f.end_date=y.end_date,f.duration=y.duration}}var r=h.createDatastore({name:h.config.resource_assignment_store,initItem:function(f){return f.id||(f.id=h.uid()),i(f),f}});function e(f,g){if(f.mode===c.fixedDates)return{start_date:f.start_date,end_date:f.end_date,duration:f.duration};var p,v,y=f.delay?h.calculateEndDate({start_date:g.start_date,duration:f.delay,task:g}):new Date(g.start_date);return f.mode===c.fixedDuration?(p=h.calculateEndDate({start_date:y,duration:f.duration,task:g}),v=f.duration):(p=new Date(g.end_date),v=g.duration-f.delay),{start_date:y,end_date:p,duration:v}}function t(f){var g=h.config.resource_property,p=f[g],v=[],y=s===u.auto;if(h.defined(p)&&p){Array.isArray(p)||(p=[p],y&&(s=u.singleValue,y=!1));var m={};p.forEach(function(b){b.resource_id||(b={resource_id:b},y&&(s=u.valueArray,y=!1)),y&&(b.id&&b.resource_id?(s=u.assignmentsArray,y=!1):(s=u.resourceValueArray,y=!1));var k,$=c.default;b.mode||(b.start_date&&b.end_date||b.start_date&&b.duration)&&($=c.fixedDuration),k=b.id||!b.$id||m[b.$id]?b.id&&!m[b.id]?b.id:h.uid():b.$id,m[k]=!0;var x={id:k,start_date:b.start_date,duration:b.duration,end_date:b.end_date,delay:b.delay,task_id:f.id,resource_id:b.resource_id,value:b.value,mode:b.mode||$};x.start_date&&x.start_date.getMonth&&x.end_date&&x.end_date.getMonth&&typeof x.duration=="number"||i(x,f),v.push(x)})}return v}function n(f){if(h.isTaskExists(f)){var g=h.getTask(f);o(g,h.getTaskAssignments(g.id))}}function o(f,g){g.sort(function(p,v){return p.start_date&&v.start_date&&p.start_date.valueOf()!=v.start_date.valueOf()?p.start_date-v.start_date:0}),s==u.assignmentsArray?f[h.config.resource_property]=g:s==u.resourceValueArray&&(f[h.config.resource_property]=g.map(function(p){return{$id:p.id,start_date:p.start_date,duration:p.duration,end_date:p.end_date,delay:p.delay,resource_id:p.resource_id,value:p.value,mode:p.mode}})),f[_]=g}function a(f){var g=t(f);return g.forEach(function(p){p.id=p.id||h.uid()}),g}function l(f,g){var p=function(v,y){var m={inBoth:[],inTaskNotInStore:[],inStoreNotInTask:[]};if(s==u.singleValue){var b=v[0],k=b?b.resource_id:null,$=!1;y.forEach(function(A){A.resource_id!=k?m.inStoreNotInTask.push(A):A.resource_id==k&&(m.inBoth.push({store:A,task:b}),$=!0)}),!$&&b&&m.inTaskNotInStore.push(b)}else if(s==u.valueArray){var x={},w={},T={};v.forEach(function(A){x[A.resource_id]=A}),y.forEach(function(A){w[A.resource_id]=A}),v.concat(y).forEach(function(A){if(!T[A.resource_id]){T[A.resource_id]=!0;var I=x[A.resource_id],N=w[A.resource_id];I&&N?m.inBoth.push({store:N,task:I}):I&&!N?m.inTaskNotInStore.push(I):!I&&N&&m.inStoreNotInTask.push(N)}})}else s!=u.assignmentsArray&&s!=u.resourceValueArray||(x={},w={},T={},v.forEach(function(A){x[A.id||A.$id]=A}),y.forEach(function(A){w[A.id]=A}),v.concat(y).forEach(function(A){var I=A.id||A.$id;if(!T[I]){T[I]=!0;var N=x[I],j=w[I];N&&j?m.inBoth.push({store:j,task:N}):N&&!j?m.inTaskNotInStore.push(N):!N&&j&&m.inStoreNotInTask.push(j)}}));return m}(t(f),g);p.inStoreNotInTask.forEach(function(v){r.removeItem(v.id)}),p.inTaskNotInStore.forEach(function(v){r.addItem(v)}),p.inBoth.forEach(function(v){if(function(m,b){var k={id:!0};for(var $ in m)if(!k[$]&&String(m[$])!==String(b[$]))return!0;return!1}(v.task,v.store))(function(m,b){var k={id:!0};for(var $ in m)k[$]||(b[$]=m[$])})(v.task,v.store),r.updateItem(v.store.id);else if(v.task.start_date&&v.task.end_date&&v.task.mode!==c.fixedDates){var y=e(v.store,f);v.store.start_date.valueOf()==y.start_date.valueOf()&&v.store.end_date.valueOf()==y.end_date.valueOf()||(v.store.start_date=y.start_date,v.store.end_date=y.end_date,v.store.duration=y.duration,r.updateItem(v.store.id))}}),n(f.id)}function d(f){var g=f[_]||r.find(function(p){return p.task_id==f.id});l(f,g)}h.$data.assignmentsStore=r,h.attachEvent("onGanttReady",function(){if(h.config.process_resource_assignments){h.attachEvent("onParse",function(){h.silent(function(){r.clearAll();var k=[];h.eachTask(function($){if($.type!==h.config.types.project){var x=a($);o($,x),x.forEach(function(w){k.push(w)})}}),r.parse(k)})});var f=!1,g=!1,p={},v=!1;h.attachEvent("onBeforeBatchUpdate",function(){f=!0}),h.attachEvent("onAfterBatchUpdate",function(){if(g){var k={};for(var $ in p)k[$]=h.getTaskAssignments(p[$].id);for(var $ in p)l(p[$],k[$])}g=!1,f=!1,p={}}),h.attachEvent("onTaskCreated",function(k){var $=a(k);return r.parse($),o(k,$),!0}),h.attachEvent("onAfterTaskUpdate",function(k,$){f?(g=!0,p[k]=$):d($)}),h.attachEvent("onAfterTaskAdd",function(k,$){f?(g=!0,p[k]=$):d($)}),h.attachEvent("onRowDragEnd",function(k){d(h.getTask(k))}),h.$data.tasksStore.attachEvent("onAfterDeleteConfirmed",function(k,$){var x=[k];h.eachTask(function(w){x.push(w.id)},k),function(w){var T={};w.forEach(function(A){T[A]=!0}),r.find(function(A){return T[A.task_id]}).forEach(function(A){r.removeItem(A.id)})}(x)}),h.$data.tasksStore.attachEvent("onClearAll",function(){return y=null,m=null,b=null,r.clearAll(),!0}),h.attachEvent("onTaskIdChange",function(k,$){r.find(function(x){return x.task_id==k}).forEach(function(x){x.task_id=$,r.updateItem(x.id)}),n($)}),h.attachEvent("onBeforeUndo",function(k){return v=!0,!0}),h.attachEvent("onAfterUndo",function(k){v=!0});var y=null,m=null,b=null;r.attachEvent("onStoreUpdated",function(){return!(!f||v)||(y=null,m=null,b=null,!0)}),h.getResourceAssignments=function(k,$){var x=h.defined($)&&$!==null;return y===null&&(y={},m={},r.eachItem(function(w){y[w.resource_id]||(y[w.resource_id]=[]),y[w.resource_id].push(w);var T=w.resource_id+"-"+w.task_id;m[T]||(m[T]=[]),m[T].push(w)})),x?(m[k+"-"+$]||[]).slice():(y[k]||[]).slice()},h.getTaskAssignments=function(k){if(b===null){var $=[];b={},r.eachItem(function(x){b[x.task_id]||(b[x.task_id]=[]),b[x.task_id].push(x),x.task_id==k&&$.push(x)})}return(b[k]||[]).slice()},h.getTaskResources=function(k){var $=h.getDatastore("resource"),x={};h.getTaskAssignments(k).forEach(function(I){x[I.resource_id]||(x[I.resource_id]=I.resource_id)});var w=[];for(var T in x){var A=$.getItem(x[T]);A&&w.push(A)}return w},h.updateTaskAssignments=n}},{once:!0})}},function(D,E,h){var _=h(2);function u(s){var c={},i=!1;s.$data.tasksStore.attachEvent("onStoreUpdated",function(){c={},i=!1}),s.attachEvent("onBeforeGanttRender",function(){c={}});var r=String(Math.random());function e(a){return a===null?r+String(a):String(a)}function t(a,l,d){return Array.isArray(a)?a.map(function(f){return e(f)}).join("_")+"_".concat(l,"_").concat(d):e(a)+"_".concat(l,"_").concat(d)}function n(a,l,d){var f,g=t(l,a,JSON.stringify(d)),p={};return _.forEach(l,function(v){p[e(v)]=!0}),c[g]?f=c[g]:(f=c[g]=[],s.eachTask(function(v){if(d){if(!d[s.getTaskType(v)])return}else if(v.type==s.config.types.project)return;var y;a in v&&(y=_.isArray(v[a])?v[a]:[v[a]],_.forEach(y,function(m){var b=m&&m.resource_id?m.resource_id:m;if(p[e(b)])f.push(v);else if(!i){var k=t(m,a);c[k]||(c[k]=[]),c[k].push(v)}}))}),i=!0),f}function o(a,l,d){var f=s.config.resource_property,g=[];if(s.getDatastore("task").exists(l)){var p=s.getTask(l);g=p[f]||[]}Array.isArray(g)||(g=[g]);for(var v=0;v<g.length;v++)g[v].resource_id==a&&d.push({task_id:p.id,resource_id:g[v].resource_id,value:g[v].value})}return{getTaskBy:function(a,l,d){return typeof a=="function"?function(f){var g=[];return s.eachTask(function(p){f(p)&&g.push(p)}),g}(a):_.isArray(l)?n(a,l,d):n(a,[l],d)},getResourceAssignments:function(a,l){var d=[],f=s.config.resource_property;return l!==void 0?o(a,l,d):s.getTaskBy(f,a).forEach(function(g){o(a,g.id,d)}),d}}}D.exports=function(s){var c=u(s);s.ext.resources=function(e){var t={renderEditableLabel:function(n,o,a,l,d){var f=e.config.readonly?"":"contenteditable";if(n<a.end_date&&o>a.start_date){for(var g=0;g<d.length;g++){var p=d[g];return"<div "+f+" data-assignment-cell data-assignment-id='"+p.id+"' data-row-id='"+a.id+"' data-task='"+a.$task_id+"' data-start-date='"+e.templates.format_date(n)+"' data-end-date='"+e.templates.format_date(o)+"'>"+p.value+"</div>"}return"<div "+f+" data-assignment-cell data-empty  data-row-id='"+a.id+"' data-resource-id='"+a.$resource_id+"' data-task='"+a.$task_id+"' data-start-date='"+e.templates.format_date(n)+"''  data-end-date='"+e.templates.format_date(o)+"'>-</div>"}return""},renderSummaryLabel:function(n,o,a,l,d){var f=d.reduce(function(g,p){return g+Number(p.value)},0);return f%1&&(f=Math.round(10*f)/10),f?"<div>"+f+"</div>":""},editableResourceCellTemplate:function(n,o,a,l,d){return a.$role==="task"?t.renderEditableLabel(n,o,a,l,d):t.renderSummaryLabel(n,o,a,l,d)},editableResourceCellClass:function(n,o,a,l,d){var f=[];f.push("resource_marker"),a.$role==="task"?f.push("task_cell"):f.push("resource_cell");var g=d.reduce(function(v,y){return v+Number(y.value)},0),p=Number(a.capacity);return isNaN(p)&&(p=8),g<=p?f.push("workday_ok"):f.push("workday_over"),f.join(" ")},getSummaryResourceAssignments:function(n){var o,a=e.getDatastore(e.config.resource_store),l=a.getItem(n);return l.$role==="task"?o=e.getResourceAssignments(l.$resource_id,l.$task_id):(o=e.getResourceAssignments(n),a.eachItem&&a.eachItem(function(d){d.$role!=="task"&&(o=o.concat(e.getResourceAssignments(d.id)))},n)),o},initEditableDiagram:function(){e.config.resource_render_empty_cells=!0,function(){var n=null;function o(){return n&&cancelAnimationFrame(n),n=requestAnimationFrame(function(){Array.prototype.slice.call(e.$container.querySelectorAll(".resourceTimeline_cell [data-assignment-cell]")).forEach(function(a){a.contentEditable=!0})}),!0}e.attachEvent("onGanttReady",function(){e.getDatastore(e.config.resource_assignment_store).attachEvent("onStoreUpdated",o),e.getDatastore(e.config.resource_store).attachEvent("onStoreUpdated",o)},{once:!0}),e.attachEvent("onGanttLayoutReady",function(){e.$layout.getCellsByType("viewCell").forEach(function(a){a.$config&&a.$config.view==="resourceTimeline"&&a.$content&&a.$content.attachEvent("onScroll",o)})})}(),e.attachEvent("onGanttReady",function(){var n=!1;e.event(e.$container,"keypress",function(o){var a=o.target.closest(".resourceTimeline_cell [data-assignment-cell]");a&&(o.keyCode!==13&&o.keyCode!==27||a.blur())}),e.event(e.$container,"focusout",function(o){if(!n){n=!0,setTimeout(function(){n=!1},300);var a=o.target.closest(".resourceTimeline_cell [data-assignment-cell]");if(a){var l=(a.innerText||"").trim();l=="-"&&(l="0");var d=Number(l),f=a.getAttribute("data-row-id"),g=a.getAttribute("data-assignment-id"),p=a.getAttribute("data-task"),v=a.getAttribute("data-resource-id"),y=e.templates.parse_date(a.getAttribute("data-start-date")),m=e.templates.parse_date(a.getAttribute("data-end-date")),b=e.getDatastore(e.config.resource_assignment_store);if(isNaN(d))e.getDatastore(e.config.resource_store).refresh(f);else{var k=e.getTask(p);if(e.plugins().undo&&e.ext.undo.saveState(p,"task"),g){if(d===(x=b.getItem(g)).value)return;if(x.start_date.valueOf()===y.valueOf()&&x.end_date.valueOf()===m.valueOf())x.value=d,d?b.updateItem(x.id):b.removeItem(x.id);else{if(x.end_date.valueOf()>m.valueOf()){var $=e.copy(x);$.id=e.uid(),$.start_date=m,$.duration=e.calculateDuration({start_date:$.start_date,end_date:$.end_date,task:k}),$.delay=e.calculateDuration({start_date:k.start_date,end_date:$.start_date,task:k}),$.mode=x.mode||"default",$.duration!==0&&b.addItem($)}x.start_date.valueOf()<y.valueOf()?(x.end_date=y,x.duration=e.calculateDuration({start_date:x.start_date,end_date:x.end_date,task:k}),x.mode="fixedDuration",x.duration===0?b.removeItem(x.id):b.updateItem(x.id)):b.removeItem(x.id),d&&b.addItem({task_id:x.task_id,resource_id:x.resource_id,value:d,start_date:y,end_date:m,duration:e.calculateDuration({start_date:y,end_date:m,task:k}),delay:e.calculateDuration({start_date:k.start_date,end_date:y,task:k}),mode:"fixedDuration"})}e.updateTaskAssignments(k.id),e.updateTask(k.id)}else if(d){var x={task_id:p,resource_id:v,value:d,start_date:y,end_date:m,duration:e.calculateDuration({start_date:y,end_date:m,task:k}),delay:e.calculateDuration({start_date:k.start_date,end_date:y,task:k}),mode:"fixedDuration"};b.addItem(x),e.updateTaskAssignments(k.id),e.updateTask(k.id)}}}}})},{once:!0})}};return t}(s),s.config.resources={dataprocessor_assignments:!1,dataprocessor_resources:!1,editable_resource_diagram:!1,resource_store:{type:"treeDataStore",fetchTasks:!1,initItem:function(e){return e.parent=e.parent||s.config.root_id,e[s.config.resource_property]=e.parent,e.open=!0,e}},lightbox_resources:function(e){var t=[],n=s.getDatastore(s.config.resource_store);return e.forEach(function(o){if(!n.hasChild(o.id)){var a=s.copy(o);a.key=o.id,a.label=o.text,t.push(a)}}),t}},s.attachEvent("onBeforeGanttReady",function(){if(!s.getDatastore(s.config.resource_store)){var e=s.config.resources?s.config.resources.resource_store:void 0,t=e?e.fetchTasks:void 0;s.config.resources&&s.config.resources.editable_resource_diagram&&(t=!0);var n=function(a){return a.parent=a.parent||s.config.root_id,a[s.config.resource_property]=a.parent,a.open=!0,a};e&&e.initItem&&(n=e.initItem);var o=e&&e.type?e.type:"treeDatastore";s.$resourcesStore=s.createDatastore({name:s.config.resource_store,type:o,fetchTasks:t!==void 0&&t,initItem:n}),s.$data.resourcesStore=s.$resourcesStore,s.$resourcesStore.attachEvent("onParse",function(){var a=function(d){var f=[];return d.forEach(function(g){if(!s.$resourcesStore.hasChild(g.id)){var p=s.copy(g);p.key=g.id,p.label=g.text,f.push(p)}}),f};s.config.resources&&s.config.resources.lightbox_resources&&(a=s.config.resources.lightbox_resources);var l=a(s.$resourcesStore.getItems());s.updateCollection("resourceOptions",l)})}}),s.getTaskBy=c.getTaskBy,s.getResourceAssignments=c.getResourceAssignments,s.config.resource_property="owner_id",s.config.resource_store="resource",s.config.resource_render_empty_cells=!1,s.templates.histogram_cell_class=function(e,t,n,o,a){},s.templates.histogram_cell_label=function(e,t,n,o,a){return o.length+"/3"},s.templates.histogram_cell_allocated=function(e,t,n,o,a){return o.length/3},s.templates.histogram_cell_capacity=function(e,t,n,o,a){return 0};var i=function(e,t,n,o,a){return o.length<=1?"gantt_resource_marker_ok":"gantt_resource_marker_overtime"},r=function(e,t,n,o,a){return 8*o.length};s.templates.resource_cell_value=r,s.templates.resource_cell_class=i,s.attachEvent("onBeforeGanttReady",function(){s.config.resources&&s.config.resources.editable_resource_diagram&&(s.config.resource_render_empty_cells=!0,s.templates.resource_cell_value===r&&(s.templates.resource_cell_value=s.ext.resources.editableResourceCellTemplate),s.templates.resource_cell_class===i&&(s.templates.resource_cell_class=s.ext.resources.editableResourceCellClass),s.ext.resources.initEditableDiagram(s))})}},function(D,E){D.exports=function(h){var _=function(s){return{_needRecalc:!0,reset:function(){this._needRecalc=!0},_isRecalcNeeded:function(){return!this._isGroupSort()&&this._needRecalc},_isGroupSort:function(){return!!s.getState().group_mode},_getWBSCode:function(c){return c?(this._isRecalcNeeded()&&this._calcWBS(),c.$virtual?"":this._isGroupSort()?c.$wbs||"":(c.$wbs||(this.reset(),this._calcWBS()),c.$wbs)):""},_setWBSCode:function(c,i){c.$wbs=i},getWBSCode:function(c){return this._getWBSCode(c)},getByWBSCode:function(c){for(var i=c.split("."),r=s.config.root_id,e=0;e<i.length;e++){var t=s.getChildren(r),n=1*i[e]-1;if(!s.isTaskExists(t[n]))return null;r=t[n]}return s.isTaskExists(r)?s.getTask(r):null},_calcWBS:function(){if(this._isRecalcNeeded()){var c=!0;s.eachTask(function(i){if(c)return c=!1,void this._setWBSCode(i,"1");var r=s.getPrevSibling(i.id);if(r!==null){var e=s.getTask(r).$wbs;e&&((e=e.split("."))[e.length-1]++,this._setWBSCode(i,e.join(".")))}else{var t=s.getParent(i.id);this._setWBSCode(i,s.getTask(t).$wbs+".1")}},s.config.root_id,this),this._needRecalc=!1}}}}(h);function u(){return _.reset(),!0}h.getWBSCode=function(s){return _.getWBSCode(s)},h.getTaskByWBSCode=function(s){return _.getByWBSCode(s)},h.attachEvent("onAfterTaskMove",u),h.attachEvent("onBeforeParse",u),h.attachEvent("onAfterTaskDelete",u),h.attachEvent("onAfterTaskAdd",u),h.attachEvent("onAfterSort",u)}},function(D,E,h){var _=h(21);function u(s){var c={},i=!1;function r(o,a){a=typeof a=="function"?a:function(){},c[o]||(c[o]=this[o],this[o]=a)}function e(o){c[o]&&(this[o]=c[o],c[o]=null)}function t(){for(var o in c)e.call(this,o)}function n(o){try{o()}catch(a){_.console.error(a)}}return s.$services.getService("state").registerProvider("batchUpdate",function(){return{batch_update:i}},!1),function(o,a){if(i)n(o);else{var l,d=this._dp&&this._dp.updateMode!="off";d&&(l=this._dp.updateMode,this._dp.setUpdateMode("off"));var f={},g={render:!0,refreshData:!0,refreshTask:!0,refreshLink:!0,resetProjectDates:function(v){f[v.id]=v}};for(var p in function(v){for(var y in v)r.call(this,y,v[y])}.call(this,g),i=!0,this.callEvent("onBeforeBatchUpdate",[]),n(o),this.callEvent("onAfterBatchUpdate",[]),t.call(this),f)this.resetProjectDates(f[p]);i=!1,a||this.render(),d&&(this._dp.setUpdateMode(l),this._dp.setGanttMode("task"),this._dp.sendData(),this._dp.setGanttMode("link"),this._dp.sendData())}}}D.exports=function(s){s.batchUpdate=u(s)}},function(D,E,h){D.exports=function(_){_.ext||(_.ext={});for(var u=[h(220),h(219),h(218),h(217),h(216),h(215),h(214),h(212).default],s=0;s<u.length;s++)u[s]&&u[s](_)}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(0),u=function(){function s(){var c=this;this.clear=function(){c._storage={}},this.storeItem=function(i){c._storage[i.id]=_.copy(i)},this.getStoredItem=function(i){return c._storage[i]||null},this._storage={}}return s.create=function(){return new s},s}();E.default=u},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(_,u){_.getUserData=function(s,c,i){return this.userdata||(this.userdata={}),this.userdata[i]=this.userdata[i]||{},this.userdata[i][s]&&this.userdata[i][s][c]?this.userdata[i][s][c]:""},_.setUserData=function(s,c,i,r){this.userdata||(this.userdata={}),this.userdata[r]=this.userdata[r]||{},this.userdata[r][s]=this.userdata[r][s]||{},this.userdata[r][s][c]=i},_._change_id=function(s,c){switch(this._dp._ganttMode){case"task":this.changeTaskId(s,c);break;case"link":this.changeLinkId(s,c);break;case"assignment":this.$data.assignmentsStore.changeId(s,c);break;case"resource":this.$data.resourcesStore.changeId(s,c);break;default:throw new Error("Invalid mode of the dataProcessor after database id is received: "+this._dp._ganttMode+", new id: "+c)}},_._row_style=function(s,c){this._dp._ganttMode==="task"&&_.isTaskExists(s)&&(_.getTask(s).$dataprocessor_class=c,_.refreshTask(s))},_._delete_task=function(s,c){},_._sendTaskOrder=function(s,c){c.$drop_target&&(this._dp.setGanttMode("task"),this.getTask(s).target=c.$drop_target,this._dp.setUpdated(s,!0,"order"),delete this.getTask(s).$drop_target)},_.setDp=function(){this._dp=u},_.setDp()}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(2),u=function(){function s(c,i){this.$gantt=c,this.$dp=i,this._dataProcessorHandlers=[]}return s.prototype.attach=function(){var c=this,i=this.$dp,r=this.$gantt,e=h(45),t={},n=function(l){return c.clientSideDelete(l,i,r)};this._dataProcessorHandlers.push(r.attachEvent("onAfterTaskAdd",function(l,d){r.isTaskExists(l)&&(i.setGanttMode("tasks"),i.setUpdated(l,!0,"inserted"))})),this._dataProcessorHandlers.push(r.attachEvent("onAfterTaskUpdate",function(l,d){r.isTaskExists(l)&&(i.setGanttMode("tasks"),i.setUpdated(l,!0),r._sendTaskOrder&&r._sendTaskOrder(l,d))})),this._dataProcessorHandlers.push(r.attachEvent("onBeforeTaskDelete",function(l,d){return r.config.cascade_delete&&(t[l]={tasks:e.getSubtreeTasks(r,l),links:e.getSubtreeLinks(r,l)}),!i.deleteAfterConfirmation||(i.setGanttMode("tasks"),i.setUpdated(l,!0,"deleted"),!1)})),this._dataProcessorHandlers.push(r.attachEvent("onAfterTaskDelete",function(l,d){i.setGanttMode("tasks");var f=!n(l),g=r.config.cascade_delete&&t[l];if(f||g){if(g){var p=i.updateMode;i.setUpdateMode("off");var v=t[l];for(var y in v.tasks)n(y)||(i.storeItem(v.tasks[y]),i.setUpdated(y,!0,"deleted"));for(var y in i.setGanttMode("links"),v.links)n(y)||(i.storeItem(v.links[y]),i.setUpdated(y,!0,"deleted"));t[l]=null,p!=="off"&&i.sendAllData(),i.setGanttMode("tasks"),i.setUpdateMode(p)}f&&(i.storeItem(d),i.deleteAfterConfirmation||i.setUpdated(l,!0,"deleted")),i.updateMode==="off"||i._tSend||i.sendAllData()}})),this._dataProcessorHandlers.push(r.attachEvent("onAfterLinkUpdate",function(l,d){r.isLinkExists(l)&&(i.setGanttMode("links"),i.setUpdated(l,!0))})),this._dataProcessorHandlers.push(r.attachEvent("onAfterLinkAdd",function(l,d){r.isLinkExists(l)&&(i.setGanttMode("links"),i.setUpdated(l,!0,"inserted"))})),this._dataProcessorHandlers.push(r.attachEvent("onAfterLinkDelete",function(l,d){i.setGanttMode("links"),!n(l)&&(i.storeItem(d),i.setUpdated(l,!0,"deleted"))})),this._dataProcessorHandlers.push(r.attachEvent("onRowDragEnd",function(l,d){r._sendTaskOrder(l,r.getTask(l))}));var o=null,a=null;this._dataProcessorHandlers.push(r.attachEvent("onTaskIdChange",function(l,d){if(i._waitMode){var f=r.getChildren(d);if(f.length){o=o||{};for(var g=0;g<f.length;g++){var p=this.getTask(f[g]);o[p.id]=p}}var v=function(m){var b=[];return m.$source&&(b=b.concat(m.$source)),m.$target&&(b=b.concat(m.$target)),b}(this.getTask(d));if(v.length)for(a=a||{},g=0;g<v.length;g++){var y=this.getLink(v[g]);a[y.id]=y}}})),i.attachEvent("onAfterUpdateFinish",function(){(o||a)&&(r.batchUpdate(function(){for(var l in o)r.updateTask(o[l].id);for(var l in a)r.updateLink(a[l].id);o=null,a=null}),o?r._dp.setGanttMode("tasks"):r._dp.setGanttMode("links"))}),i.attachEvent("onBeforeDataSending",function(){if(this._tMode==="CUSTOM")return!0;var l=this._serverProcessor;if(this._tMode==="REST-JSON"||this._tMode==="REST"){var d=this._ganttMode;l=l.substring(0,l.indexOf("?")>-1?l.indexOf("?"):l.length),this.serverProcessor=l+(l.slice(-1)==="/"?"":"/")+d}else{var f=this._ganttMode+"s";this.serverProcessor=l+r.ajax.urlSeparator(l)+"gantt_mode="+f}return!0}),i.attachEvent("insertCallback",function(l,d,f,g){var p=l.data||r.xml._xmlNodeToJSON(l.firstChild),v={add:r.addTask,isExist:r.isTaskExists};g==="links"&&(v.add=r.addLink,v.isExist=r.isLinkExists),v.isExist.call(r,d)||(p.id=d,v.add.call(r,p))}),i.attachEvent("updateCallback",function(l,d){var f=l.data||r.xml._xmlNodeToJSON(l.firstChild);if(r.isTaskExists(d)){var g=r.getTask(d);for(var p in f){var v=f[p];switch(p){case"id":continue;case"start_date":case"end_date":v=r.defined(r.templates.xml_date)?r.templates.xml_date(v):r.templates.parse_date(v);break;case"duration":g.end_date=r.calculateEndDate({start_date:g.start_date,duration:v,task:g})}g[p]=v}r.updateTask(d),r.refreshData()}}),i.attachEvent("deleteCallback",function(l,d,f,g){var p={delete:r.deleteTask,isExist:r.isTaskExists};g==="links"?(p.delete=r.deleteLink,p.isExist=r.isLinkExists):g==="assignment"&&(p.delete=function(v){r.$data.assignmentsStore.remove(v)},p.isExist=function(v){return r.$data.assignmentsStore.exists(v)}),p.isExist.call(r,d)&&p.delete.call(r,d)}),this.handleResourceCRUD(i,r),this.handleResourceAssignmentCRUD(i,r)},s.prototype.clientSideDelete=function(c,i,r){var e=i.updatedRows.slice(),t=!1;r.getUserData(c,"!nativeeditor_status",i._ganttMode)==="true_deleted"&&(t=!0,i.setUpdated(c,!1));for(var n=0;n<e.length&&!i._in_progress[c];n++)e[n]===c&&(r.getUserData(c,"!nativeeditor_status",i._ganttMode)==="inserted"&&(t=!0),i.setUpdated(c,!1));return t},s.prototype.handleResourceAssignmentCRUD=function(c,i){var r=this;if(i.config.resources&&i.config.resources.dataprocessor_assignments===!0){var e=i.getDatastore(i.config.resource_assignment_store),t={},n={};i.attachEvent("onBeforeTaskAdd",function(a,l){return t[a]=!0,!0}),i.attachEvent("onTaskIdChange",function(a,l){delete t[a]}),e.attachEvent("onAfterAdd",function(a,l){t[l.task_id]?function(d){n[d.id]=d,t[d.task_id]=!0}(l):o(l)}),e.attachEvent("onAfterUpdate",function(a,l){e.exists(a)&&(n[a]?o(l):(c.setGanttMode("assignment"),c.setUpdated(a,!0)))}),e.attachEvent("onAfterDelete",function(a,l){c.setGanttMode("assignment"),!r.clientSideDelete(a,c,i)&&(c.storeItem(l),c.setUpdated(a,!0,"deleted"))})}function o(a){var l=a.id;e.exists(l)&&(c.setGanttMode("assignment"),c.setUpdated(l,!0,"inserted")),delete n[l]}},s.prototype.handleResourceCRUD=function(c,i){var r=this;if(i.config.resources&&i.config.resources.dataprocessor_resources===!0){var e=i.getDatastore(i.config.resource_store);e.attachEvent("onAfterAdd",function(t,n){(function(o){var a=o.id;e.exists(a)&&(c.setGanttMode("resource"),c.setUpdated(a,!0,"inserted"))})(n)}),e.attachEvent("onAfterUpdate",function(t,n){e.exists(t)&&(c.setGanttMode("resource"),c.setUpdated(t,!0))}),e.attachEvent("onAfterDelete",function(t,n){c.setGanttMode("resource"),!r.clientSideDelete(t,c,i)&&(c.storeItem(n),c.setUpdated(t,!0,"deleted"))})}},s.prototype.detach=function(){var c=this;_.forEach(this._dataProcessorHandlers,function(i){c.$gantt.detachEvent(i)}),this._dataProcessorHandlers=[]},s}();E.default=u},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(5),u=h(2),s=h(0),c=h(224),i=h(223),r=h(222);E.createDataProcessor=function(t){var n,o;t instanceof Function?n=t:t.hasOwnProperty("router")?n=t.router:(t.hasOwnProperty("assignment")||t.hasOwnProperty("link")||t.hasOwnProperty("task"))&&(n=t),o=n?"CUSTOM":t.mode||"REST-JSON";var a=new e(t.url);return a.init(this),a.setTransactionMode({mode:o,router:n},t.batchUpdate),t.deleteAfterConfirmation&&(a.deleteAfterConfirmation=t.deleteAfterConfirmation),a};var e=function(){function t(n){this.serverProcessor=n,this.action_param="!nativeeditor_status",this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._headers=null,this._payload=null,this._postDelim="_",this._routerParametersFormat="parameters",this._waitMode=0,this._in_progress={},this._storage=r.default.create(),this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),_(this)}return t.prototype.setTransactionMode=function(n,o){typeof n=="object"?(this._tMode=n.mode||this._tMode,s.defined(n.headers)&&(this._headers=n.headers),s.defined(n.payload)&&(this._payload=n.payload),this._tSend=!!o):(this._tMode=n,this._tSend=o),this._tMode==="REST"&&(this._tSend=!1),this._tMode==="JSON"||this._tMode==="REST-JSON"?(this._tSend=!1,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),this._tMode==="CUSTOM"&&(this._tSend=!1,this._router=n.router)},t.prototype.escape=function(n){return this._utf?encodeURIComponent(n):escape(n)},t.prototype.enableUTFencoding=function(n){this._utf=!!n},t.prototype.getSyncState=function(){return!this.updatedRows.length},t.prototype.setUpdateMode=function(n,o){this.autoUpdate=n==="cell",this.updateMode=n,this.dnd=o},t.prototype.ignore=function(n,o){this._silent_mode=!0,n.call(o||window),this._silent_mode=!1},t.prototype.setUpdated=function(n,o,a){if(!this._silent_mode){var l=this.findRow(n);a=a||"updated";var d=this.$gantt.getUserData(n,this.action_param,this._ganttMode);d&&a==="updated"&&(a=d),o?(this.set_invalid(n,!1),this.updatedRows[l]=n,this.$gantt.setUserData(n,this.action_param,a,this._ganttMode),this._in_progress[n]&&(this._in_progress[n]="wait")):this.is_invalid(n)||(this.updatedRows.splice(l,1),this.$gantt.setUserData(n,this.action_param,"",this._ganttMode)),this.markRow(n,o,a),o&&this.autoUpdate&&this.sendData(n)}},t.prototype.markRow=function(n,o,a){var l="",d=this.is_invalid(n);if(d&&(l=this.styles[d],o=!0),this.callEvent("onRowMark",[n,o,a,d])&&(l=this.styles[o?a:"clear"]+" "+l,this.$gantt[this._methods[0]](n,l),d&&d.details)){l+=this.styles[d+"_cell"];for(var f=0;f<d.details.length;f++)d.details[f]&&this.$gantt[this._methods[1]](n,f,l)}},t.prototype.getActionByState=function(n){return n==="inserted"?"create":n==="updated"?"update":n==="deleted"?"delete":"update"},t.prototype.getState=function(n){return this.$gantt.getUserData(n,this.action_param,this._ganttMode)},t.prototype.is_invalid=function(n){return this._invalid[n]},t.prototype.set_invalid=function(n,o,a){a&&(o={value:o,details:a,toString:function(){return this.value.toString()}}),this._invalid[n]=o},t.prototype.checkBeforeUpdate=function(n){return!0},t.prototype.sendData=function(n){var o=this;if(this.$gantt.editStop&&this.$gantt.editStop(),n===void 0||this._tSend){var a=[];if(this.modes&&["task","link","assignment"].forEach(function(d){o.modes[d]&&o.modes[d].updatedRows.length&&a.push(d)}),a.length){for(var l=0;l<a.length;l++)this.setGanttMode(a[l]),this.sendAllData();return}return this.sendAllData()}return!this._in_progress[n]&&(this.messages=[],!(!this.checkBeforeUpdate(n)&&this.callEvent("onValidationError",[n,this.messages]))&&void this._beforeSendData(this._getRowData(n),n))},t.prototype.serialize=function(n,o){if(this._serializeAsJson)return this._serializeAsJSON(n);if(typeof n=="string")return n;if(o!==void 0)return this.serialize_one(n,"");var a=[],l=[];for(var d in n)n.hasOwnProperty(d)&&(a.push(this.serialize_one(n[d],d+this._postDelim)),l.push(d));return a.push("ids="+this.escape(l.join(","))),this.$gantt.security_key&&a.push("dhx_security="+this.$gantt.security_key),a.join("&")},t.prototype.serialize_one=function(n,o){if(typeof n=="string")return n;var a=[],l="";for(var d in n)if(n.hasOwnProperty(d)){if((d==="id"||d==this.action_param)&&this._tMode==="REST")continue;l=typeof n[d]=="string"||typeof n[d]=="number"?n[d]:JSON.stringify(n[d]),a.push(this.escape((o||"")+d)+"="+this.escape(l))}return a.join("&")},t.prototype.sendAllData=function(){if(this.updatedRows.length){this.messages=[];var n=!0;if(this._forEachUpdatedRow(function(o){n=n&&this.checkBeforeUpdate(o)}),!n&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(o){if(!this._in_progress[o]){if(this.is_invalid(o))return;this._beforeSendData(this._getRowData(o),o)}})}},t.prototype.findRow=function(n){var o=0;for(o=0;o<this.updatedRows.length&&n!=this.updatedRows[o];o++);return o},t.prototype.defineAction=function(n,o){this._uActions||(this._uActions={}),this._uActions[n]=o},t.prototype.afterUpdateCallback=function(n,o,a,l,d){var f=this;if(this.$gantt){this.setGanttMode(d);var g=n,p=a!=="error"&&a!=="invalid";if(p||this.set_invalid(n,a),this._uActions&&this._uActions[a]&&!this._uActions[a](l))return delete this._in_progress[g];this._in_progress[g]!=="wait"&&this.setUpdated(n,!1);var v=n;switch(a){case"inserted":case"insert":o!=n&&(this.setUpdated(n,!1),this.$gantt[this._methods[2]](n,o),n=o);break;case"delete":case"deleted":if(this.deleteAfterConfirmation&&this._ganttMode==="task"){if(this._ganttMode==="task"&&this.$gantt.isTaskExists(n)){this.$gantt.setUserData(n,this.action_param,"true_deleted",this._ganttMode);var y=this.$gantt.getTask(n);this.$gantt.silent(function(){f.$gantt.deleteTask(n)}),this.$gantt.callEvent("onAfterTaskDelete",[n,y]),this.$gantt.render(),delete this._in_progress[g]}return this.callEvent("onAfterUpdate",[n,a,o,l])}return this.$gantt.setUserData(n,this.action_param,"true_deleted",this._ganttMode),this.$gantt[this._methods[3]](n),delete this._in_progress[g],this.callEvent("onAfterUpdate",[n,a,o,l])}this._in_progress[g]!=="wait"?(p&&this.$gantt.setUserData(n,this.action_param,"",this._ganttMode),delete this._in_progress[g]):(delete this._in_progress[g],this.setUpdated(o,!0,this.$gantt.getUserData(n,this.action_param,this._ganttMode))),this.callEvent("onAfterUpdate",[v,a,o,l])}},t.prototype.afterUpdate=function(n,o,a){var l,d=this;l=arguments.length===3?arguments[1]:arguments[4];var f=this.getGanttMode(),g=l.filePath||l.url;f=this._tMode!=="REST"&&this._tMode!=="REST-JSON"?g.indexOf("gantt_mode=links")!==-1?"link":g.indexOf("gantt_mode=assignments")!==-1?"assignment":"task":g.indexOf("/link")>=0?"link":g.indexOf("/assignment")>=0?"assignment":"task",this.setGanttMode(f);var p,v=this.$gantt.ajax;try{p=JSON.parse(o.xmlDoc.responseText)}catch{o.xmlDoc.responseText.length||(p={})}var y=function(A){var I=p.action||d.getState(A)||"updated",N=p.sid||A[0],j=p.tid||A[0];n.afterUpdateCallback(N,j,I,p,f)};if(p)return Array.isArray(a)&&a.length>1?a.forEach(function(A){return y(A)}):y(a),n.finalizeUpdate(),void this.setGanttMode(f);var m=v.xmltop("data",o.xmlDoc);if(!m)return this.cleanUpdate(a);var b=v.xpath("//data/action",m);if(!b.length)return this.cleanUpdate(a);for(var k=0;k<b.length;k++){var $=b[k],x=$.getAttribute("type"),w=$.getAttribute("sid"),T=$.getAttribute("tid");n.afterUpdateCallback(w,T,x,$,f)}n.finalizeUpdate()},t.prototype.cleanUpdate=function(n){if(n)for(var o=0;o<n.length;o++)delete this._in_progress[n[o]]},t.prototype.finalizeUpdate=function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},t.prototype.init=function(n){if(!this._initialized){this.$gantt=n,this.$gantt._dp_init&&this.$gantt._dp_init(this),this._setDefaultTransactionMode(),this.styles={updated:"gantt_updated",order:"gantt_updated",inserted:"gantt_inserted",deleted:"gantt_deleted",delete_confirmation:"gantt_deleted",invalid:"gantt_invalid",error:"gantt_error",clear:""},this._methods=["_row_style","setCellTextStyle","_change_id","_delete_task"],i.default(this.$gantt,this);var o=new c.default(this.$gantt,this);o.attach(),this.attachEvent("onDestroy",function(){delete this.setGanttMode,delete this._getRowData,delete this.$gantt._dp,delete this.$gantt._change_id,delete this.$gantt._row_style,delete this.$gantt._delete_task,delete this.$gantt._sendTaskOrder,delete this.$gantt,o.detach()}),this.$gantt.callEvent("onDataProcessorReady",[this]),this._initialized=!0}},t.prototype.setOnAfterUpdate=function(n){this.attachEvent("onAfterUpdate",n)},t.prototype.setOnBeforeUpdateHandler=function(n){this.attachEvent("onBeforeDataSending",n)},t.prototype.setAutoUpdate=function(n,o){var a=this;n=n||2e3,this._user=o||new Date().valueOf(),this._needUpdate=!1,this._updateBusy=!1,this.attachEvent("onAfterUpdate",this.afterAutoUpdate),this.attachEvent("onFullSync",this.fullSync),setInterval(function(){a.loadUpdate()},n)},t.prototype.afterAutoUpdate=function(n,o,a,l){return o!=="collision"||(this._needUpdate=!0,!1)},t.prototype.fullSync=function(){return this._needUpdate&&(this._needUpdate=!1,this.loadUpdate()),!0},t.prototype.getUpdates=function(n,o){var a=this.$gantt.ajax;if(this._updateBusy)return!1;this._updateBusy=!0,a.get(n,o)},t.prototype.loadUpdate=function(){var n=this,o=this.$gantt.ajax,a=this.$gantt.getUserData(0,"version",this._ganttMode),l=this.serverProcessor+o.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+a].join("&");l=l.replace("editing=true&",""),this.getUpdates(l,function(d){var f=o.xpath("//userdata",d);n.$gantt.setUserData(0,"version",n._getXmlNodeValue(f[0]),n._ganttMode);var g=o.xpath("//update",d);if(g.length){n._silent_mode=!0;for(var p=0;p<g.length;p++){var v=g[p].getAttribute("status"),y=g[p].getAttribute("id"),m=g[p].getAttribute("parent");switch(v){case"inserted":n.callEvent("insertCallback",[g[p],y,m]);break;case"updated":n.callEvent("updateCallback",[g[p],y,m]);break;case"deleted":n.callEvent("deleteCallback",[g[p],y,m])}}n._silent_mode=!1}n._updateBusy=!1})},t.prototype.destructor=function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._storage.clear(),this._storage=null,this._headers=null,this._payload=null,delete this._initialized},t.prototype.setGanttMode=function(n){n==="tasks"?n="task":n==="links"&&(n="link");var o=this.modes||{},a=this.getGanttMode();a&&(o[a]={_in_progress:this._in_progress,_invalid:this._invalid,_storage:this._storage,updatedRows:this.updatedRows});var l=o[n];l||(l=o[n]={_in_progress:{},_invalid:{},_storage:r.default.create(),updatedRows:[]}),this._in_progress=l._in_progress,this._invalid=l._invalid,this._storage=l._storage,this.updatedRows=l.updatedRows,this.modes=o,this._ganttMode=n},t.prototype.getGanttMode=function(){return this._ganttMode},t.prototype.storeItem=function(n){this._storage.storeItem(n)},t.prototype.url=function(n){this.serverProcessor=this._serverProcessor=n},t.prototype._beforeSendData=function(n,o){if(!this.callEvent("onBeforeUpdate",[o,this.getState(o),n]))return!1;this._sendData(n,o)},t.prototype._serializeAsJSON=function(n){if(typeof n=="string")return n;var o=s.copy(n);return this._tMode==="REST-JSON"&&(delete o.id,delete o[this.action_param]),JSON.stringify(o)},t.prototype._applyPayload=function(n){var o=this.$gantt.ajax;if(this._payload)for(var a in this._payload)n=n+o.urlSeparator(n)+this.escape(a)+"="+this.escape(this._payload[a]);return n},t.prototype._cleanupArgumentsBeforeSend=function(n){var o;if(n[this.action_param]===void 0)for(var a in o={},n)o[a]=this._cleanupArgumentsBeforeSend(n[a]);else o=this._cleanupItemBeforeSend(n);return o},t.prototype._cleanupItemBeforeSend=function(n){var o=null;return n&&(n[this.action_param]==="deleted"?((o={}).id=n.id,o[this.action_param]=n[this.action_param]):o=n),o},t.prototype._sendData=function(n,o){var a=this;if(n){if(!this.callEvent("onBeforeDataSending",o?[o,this.getState(o),n]:[null,null,n]))return!1;o&&(this._in_progress[o]=new Date().valueOf());var l=this.$gantt.ajax;if(this._tMode!=="CUSTOM"){var d;d={callback:function(N){var j=[];if(o)j.push(o);else if(n)for(var B in n)j.push(B);return a.afterUpdate(a,N,j)},headers:this._headers};var f,g="dhx_version="+this.$gantt.getUserData(0,"version",this._ganttMode),p=this.serverProcessor+(this._user?l.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,g].join("&"):""),v=this._applyPayload(p);switch(this._tMode){case"GET":f=this._cleanupArgumentsBeforeSend(n),d.url=v+l.urlSeparator(v)+this.serialize(f,o),d.method="GET";break;case"POST":f=this._cleanupArgumentsBeforeSend(n),d.url=v,d.method="POST",d.data=this.serialize(f,o);break;case"JSON":f={};var y=this._cleanupItemBeforeSend(n);for(var m in y)m!==this.action_param&&m!=="id"&&m!=="gr_id"&&(f[m]=y[m]);d.url=v,d.method="POST",d.data=JSON.stringify({id:o,action:n[this.action_param],data:f});break;case"REST":case"REST-JSON":switch(v=p.replace(/(&|\?)editing=true/,""),f="",this.getState(o)){case"inserted":d.method="POST",d.data=this.serialize(n,o);break;case"deleted":d.method="DELETE",v=v+(v.slice(-1)==="/"?"":"/")+o;break;default:d.method="PUT",d.data=this.serialize(n,o),v=v+(v.slice(-1)==="/"?"":"/")+o}d.url=this._applyPayload(v)}return this._waitMode++,l.query(d)}var b=this.getState(o),k=this.getActionByState(b),$=this.getGanttMode(),x=function(N){var j=b||"updated",B=o,z=o;N&&(j=N.action||b,B=N.sid||B,z=N.id||N.tid||z),a.afterUpdateCallback(B,z,j,N,$)},w=void 0;if(this._router instanceof Function)if(this._routerParametersFormat==="object"){var T={entity:$,action:k,data:n,id:o};w=this._router(T)}else w=this._router($,k,n,o);else if(this._router[$]instanceof Function)w=this._router[$](k,n,o);else{var A="Incorrect configuration of gantt.createDataProcessor",I=`
You need to either add missing properties to the dataProcessor router object or to use a router function.
See https://docs.dhtmlx.com/gantt/desktop__server_side.html#customrouting and https://docs.dhtmlx.com/gantt/api__gantt_createdataprocessor.html for details.`;if(!this._router[$])throw new Error(A+": router for the **"+$+"** entity is not defined. "+I);switch(b){case"inserted":if(!this._router[$].create)throw new Error(A+": **create** action for the **"+$+"** entity is not defined. "+I);w=this._router[$].create(n);break;case"deleted":if(!this._router[$].delete)throw new Error(A+": **delete** action for the **"+$+"** entity is not defined. "+I);w=this._router[$].delete(o);break;default:if(!this._router[$].update)throw new Error(A+': **update**" action for the **'+$+"** entity is not defined. "+I);w=this._router[$].update(n,o)}}if(w){if(!w.then&&w.id===void 0&&w.tid===void 0&&w.action===void 0)throw new Error("Incorrect router return value. A Promise or a response object is expected");w.then?w.then(x).catch(function(N){N&&N.action?x(N):x({action:"error",value:N})}):x(w)}else x(null)}},t.prototype._forEachUpdatedRow=function(n){for(var o=this.updatedRows.slice(),a=0;a<o.length;a++){var l=o[a];this.$gantt.getUserData(l,this.action_param,this._ganttMode)&&n.call(this,l)}},t.prototype._setDefaultTransactionMode=function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(this.serverProcessor.indexOf("?")!==-1?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},t.prototype._getXmlNodeValue=function(n){return n.firstChild?n.firstChild.nodeValue:""},t.prototype._getAllData=function(){var n={},o=!1;return this._forEachUpdatedRow(function(a){if(!this._in_progress[a]&&!this.is_invalid(a)){var l=this._getRowData(a);this.callEvent("onBeforeUpdate",[a,this.getState(a),l])&&(n[a]=l,o=!0,this._in_progress[a]=new Date().valueOf())}}),o?n:null},t.prototype._prepareDate=function(n){return this.$gantt.defined(this.$gantt.templates.xml_format)?this.$gantt.templates.xml_format(n):this.$gantt.templates.format_date(n)},t.prototype._prepareArray=function(n,o){var a=this;return o.push(n),n.map(function(l){return u.isDate(l)?a._prepareDate(l):Array.isArray(l)&&!u.arrayIncludes(o,l)?a._prepareArray(l,o):l&&typeof l=="object"&&!u.arrayIncludes(o,l)?a._prepareObject(l,o):l})},t.prototype._prepareObject=function(n,o){var a={};for(var l in o.push(n),n)if(l.substr(0,1)!=="$"){var d=n[l];u.isDate(d)?a[l]=this._prepareDate(d):d===null?a[l]="":Array.isArray(d)&&!u.arrayIncludes(o,d)?a[l]=this._prepareArray(d,o):d&&typeof d=="object"&&!u.arrayIncludes(o,d)?a[l]=this._prepareObject(d,o):a[l]=d}return a},t.prototype._prepareDataItem=function(n){var o=this._prepareObject(n,[]);return o[this.action_param]=this.$gantt.getUserData(n.id,this.action_param,this._ganttMode),o},t.prototype.getStoredItem=function(n){return this._storage.getStoredItem(n)},t.prototype._getRowData=function(n){var o,a=this.$gantt;return this.getGanttMode()==="task"?a.isTaskExists(n)&&(o=this.$gantt.getTask(n)):this.getGanttMode()==="assignment"?this.$gantt.$data.assignmentsStore.exists(n)&&(o=this.$gantt.$data.assignmentsStore.getItem(n)):a.isLinkExists(n)&&(o=this.$gantt.getLink(n)),o||(o=this.getStoredItem(n)),o||(o={id:n}),this._prepareDataItem(o)},t}();E.DataProcessor=e},function(D,E,h){var _=h(225);D.exports={DEPRECATED_api:function(u){return new _.DataProcessor(u)},createDataProcessor:_.createDataProcessor,getDataProcessorModes:_.getAvailableModes}},function(D,E,h){var _=h(15);D.exports={bindDataStore:function(u,s){var c=s.getDatastore(u),i=function(n,o){var a=o.getLayers(),l=c.getItem(n);if(l&&c.isVisible(n))for(var d=0;d<a.length;d++)a[d].render_item(l)},r=function(n){for(var o=n.getLayers(),a=0;a<o.length;a++)o[a].clear();for(var l=null,d={},f=0;f<o.length;f++){var g=o[f],p=void 0;if(g.get_visible_range){var v=g.get_visible_range(c);if(v.start!==void 0&&v.end!==void 0){var y=v.start+" - "+v.end;d[y]?p=d[y]:(p=c.getIndexRange(v.start,v.end),d[y]=p)}else{if(v.ids===void 0)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");p=v.ids.map(function(m){return c.getItem(m)})}}else l||(l=c.getVisibleItems()),p=l;g.prepare_data&&g.prepare_data(p),o[f].render_items(p)}},e=function(n){if(n.update_items){var o;if(n.get_visible_range){var a=n.get_visible_range(c);if(a.start!==void 0&&a.end!==void 0)o=c.getIndexRange(a.start,a.end);else{if(a.ids===void 0)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");o=a.ids.map(function(l){return c.getItem(l)})}}else o=c.getVisibleItems();n.prepare_data&&n.prepare_data(o,n),n.update_items(o)}};function t(n){return!!n.$services.getService("state").getState("batchUpdate").batch_update}c.attachEvent("onStoreUpdated",function(n,o,a){if(_(s))return!0;var l=s.$services.getService("layers").getDataRender(u);l&&(l.onUpdateRequest=function(d){e(d)})}),c.attachEvent("onStoreUpdated",function(n,o,a){t(s)||(n&&a!="move"&&a!="delete"?(c.callEvent("onBeforeRefreshItem",[o.id]),c.callEvent("onAfterRefreshItem",[o.id])):(c.callEvent("onBeforeRefreshAll",[]),c.callEvent("onAfterRefreshAll",[])))}),c.attachEvent("onAfterRefreshAll",function(){if(_(s))return!0;var n=s.$services.getService("layers").getDataRender(u);n&&!t(s)&&r(n)}),c.attachEvent("onAfterRefreshItem",function(n){if(_(s))return!0;var o=s.$services.getService("layers").getDataRender(u);o&&i(n,o)}),c.attachEvent("onItemOpen",function(){if(_(s))return!0;s.render()}),c.attachEvent("onItemClose",function(){if(_(s))return!0;s.render()}),c.attachEvent("onIdChange",function(n,o){if(_(s))return!0;if(c.callEvent("onBeforeIdChange",[n,o]),!t(s)&&!c.isSilent()){var a=s.$services.getService("layers").getDataRender(u);a?(function(l,d,f,g){for(var p=0;p<l.length;p++)l[p].change_id(d,f)}(a.getLayers(),n,o,c.getItem(o)),i(o,a)):s.render()}})}}},function(D,E){D.exports=function(h){var _=null,u=h._removeItemInner;function s(c){_=null,this.callEvent("onAfterUnselect",[c])}return h._removeItemInner=function(c){return _==c&&s.call(this,c),_&&this.eachItem&&this.eachItem(function(i){i.id==_&&s.call(this,i.id)},c),u.apply(this,arguments)},h.attachEvent("onIdChange",function(c,i){h.getSelectedId()==c&&h.silent(function(){h.unselect(c),h.select(i)})}),{select:function(c){if(c){if(_==c)return _;if(!this._skip_refresh&&!this.callEvent("onBeforeSelect",[c]))return!1;this.unselect(),_=c,this._skip_refresh||(this.refresh(c),this.callEvent("onAfterSelect",[c]))}return _},getSelectedId:function(){return _},isSelected:function(c){return c==_},unselect:function(c){(c=c||_)&&(_=null,this._skip_refresh||(this.refresh(c),s.call(this,c)))}}}},function(D,E,h){var _=h(0);D.exports=function(){return{getLinkCount:function(){return this.$data.linksStore.count()},getLink:function(u){return this.$data.linksStore.getItem(u)},getLinks:function(){return this.$data.linksStore.getItems()},isLinkExists:function(u){return this.$data.linksStore.exists(u)},addLink:function(u){var s=this.$data.linksStore.addItem(u);return this.$data.linksStore.isSilent()&&this.$data.linksStore.fullOrder.push(s),s},updateLink:function(u,s){_.defined(s)||(s=this.getLink(u)),this.$data.linksStore.updateItem(u,s)},deleteLink:function(u){return this.$data.linksStore.removeItem(u)},changeLinkId:function(u,s){return this.$data.linksStore.changeId(u,s)}}}},function(D,E,h){var _=h(0),u=h(2).replaceValidZeroId;D.exports=function(){return{getTask:function(s){s=u(s,this.config.root_id),this.assert(s,"Invalid argument for gantt.getTask");var c=this.$data.tasksStore.getItem(s);return this.assert(c,"Task not found id="+s),c},getTaskByTime:function(s,c){var i=this.$data.tasksStore.getItems(),r=[];if(s||c){s=+s||-1/0,c=+c||1/0;for(var e=0;e<i.length;e++){var t=i[e];+t.start_date<c&&+t.end_date>s&&r.push(t)}}else r=i;return r},isTaskExists:function(s){return!(!this.$data||!this.$data.tasksStore)&&this.$data.tasksStore.exists(s)},updateTask:function(s,c){_.defined(c)||(c=this.getTask(s)),this.$data.tasksStore.updateItem(s,c),this.isTaskExists(s)&&this.refreshTask(s)},addTask:function(s,c,i){return _.defined(s.id)||(s.id=_.uid()),this.isTaskExists(s.id)&&this.getTask(s.id).$index!=s.$index?(s.start_date&&typeof s.start_date=="string"&&(s.start_date=this.date.parseDate(s.start_date,"parse_date")),s.end_date&&typeof s.end_date=="string"&&(s.end_date=this.date.parseDate(s.end_date,"parse_date")),this.$data.tasksStore.updateItem(s.id,s)):(_.defined(c)||(c=this.getParent(s)||0),this.isTaskExists(c)||(c=this.config.root_id),this.setParent(s,c),this.$data.tasksStore.addItem(s,i,c))},deleteTask:function(s){return s=u(s,this.config.root_id),this.$data.tasksStore.removeItem(s)},getTaskCount:function(){return this.$data.tasksStore.count()},getVisibleTaskCount:function(){return this.$data.tasksStore.countVisible()},getTaskIndex:function(s){return this.$data.tasksStore.getBranchIndex(s)},getGlobalTaskIndex:function(s){return s=u(s,this.config.root_id),this.assert(s,"Invalid argument"),this.$data.tasksStore.getIndexById(s)},eachTask:function(s,c,i){return this.$data.tasksStore.eachItem(_.bind(s,i||this),c)},eachParent:function(s,c,i){return this.$data.tasksStore.eachParent(_.bind(s,i||this),c)},changeTaskId:function(s,c){this.$data.tasksStore.changeId(s,c);var i=this.$data.tasksStore.getItem(c),r=[];i.$source&&(r=r.concat(i.$source)),i.$target&&(r=r.concat(i.$target));for(var e=0;e<r.length;e++){var t=this.getLink(r[e]);t.source==s&&(t.source=c),t.target==s&&(t.target=c)}},calculateTaskLevel:function(s){return this.$data.tasksStore.calculateItemLevel(s)},getNext:function(s){return this.$data.tasksStore.getNext(s)},getPrev:function(s){return this.$data.tasksStore.getPrev(s)},getParent:function(s){return this.$data.tasksStore.getParent(s)},setParent:function(s,c,i){return this.$data.tasksStore.setParent(s,c,i)},getSiblings:function(s){return this.$data.tasksStore.getSiblings(s).slice()},getNextSibling:function(s){return this.$data.tasksStore.getNextSibling(s)},getPrevSibling:function(s){return this.$data.tasksStore.getPrevSibling(s)},getTaskByIndex:function(s){var c=this.$data.tasksStore.getIdByIndex(s);return this.isTaskExists(c)?this.getTask(c):null},getChildren:function(s){return this.hasChild(s)?this.$data.tasksStore.getChildren(s).slice():[]},hasChild:function(s){return this.$data.tasksStore.hasChild(s)},open:function(s){this.$data.tasksStore.open(s)},close:function(s){this.$data.tasksStore.close(s)},moveTask:function(s,c,i){return i=u(i,this.config.root_id),this.$data.tasksStore.move.apply(this.$data.tasksStore,arguments)},sort:function(s,c,i,r){var e=!r;this.$data.tasksStore.sort(s,c,i),this.callEvent("onAfterSort",[s,c,i]),e&&this.render()}}}},function(D,E,h){var _=h(0),u=h(230),s=h(229),c=h(49),i=h(47),r=h(228),e=h(227),t=h(15),n=h(2).replaceValidZeroId;function o(){for(var l=this.$services.getService("datastores"),d=[],f=0;f<l.length;f++){var g=this.getDatastore(l[f]);g.$destroyed||d.push(g)}return d}c.default&&(c=c.default);var a=function(){return{createDatastore:function(l){var d=(l.type||"").toLowerCase()=="treedatastore"?i:c;if(l){var f=this;l.openInitially=function(){return f.config.open_tree_initially},l.copyOnParse=function(){return f.config.deepcopy_on_parse}}var g=new d(l);if(this.mixin(g,r(g)),l.name){var p="datastore:"+l.name;g.attachEvent("onDestroy",function(){this.$services.dropService(p);for(var y=this.$services.getService("datastores"),m=0;m<y.length;m++)if(y[m]===l.name){y.splice(m,1);break}}.bind(this)),this.$services.dropService(p),this.$services.setService(p,function(){return g});var v=this.$services.getService("datastores");v?v.indexOf(l.name)<0&&v.push(l.name):(v=[],this.$services.setService("datastores",function(){return v}),v.push(l.name)),e.bindDataStore(l.name,this)}return g},getDatastore:function(l){return this.$services.getService("datastore:"+l)},_getDatastores:o,refreshData:function(){var l;t(this)||(l=this.getScrollState()),this.callEvent("onBeforeDataRender",[]);for(var d=o.call(this),f=0;f<d.length;f++)d[f].refresh();this.config.preserve_scroll&&!t(this)&&(l.x||l.y)&&this.scrollTo(l.x,l.y),this.callEvent("onDataRender",[])},isChildOf:function(l,d){return this.$data.tasksStore.isChildOf(l,d)},refreshTask:function(l,d){var f=this.getTask(l),g=this;function p(){if(d===void 0||d){for(var y=0;y<f.$source.length;y++)g.refreshLink(f.$source[y]);for(y=0;y<f.$target.length;y++)g.refreshLink(f.$target[y])}}if(f&&this.isTaskVisible(l))this.$data.tasksStore.refresh(l,!!this.getState("tasksDnd").drag_id||d===!1),p();else if(this.isTaskExists(l)&&this.isTaskExists(this.getParent(l))&&!this._bulk_dnd){this.refreshTask(this.getParent(l));var v=!1;this.eachParent(function(y){(v||this.isSplitTask(y))&&(v=!0)},l),v&&p()}},refreshLink:function(l){this.$data.linksStore.refresh(l,!!this.getState("tasksDnd").drag_id)},silent:function(l){var d=this;d.$data.tasksStore.silent(function(){d.$data.linksStore.silent(function(){l()})})},clearAll:function(){for(var l=o.call(this),d=0;d<l.length;d++)l[d].silent(function(){l[d].clearAll()});for(d=0;d<l.length;d++)l[d].clearAll();this._update_flags(),this.userdata={},this.callEvent("onClear",[]),this.render()},_clear_data:function(){this.$data.tasksStore.clearAll(),this.$data.linksStore.clearAll(),this._update_flags(),this.userdata={}},selectTask:function(l){var d=this.$data.tasksStore;if(!this.config.select_task)return!1;if(l=n(l,this.config.root_id)){var f=this.getSelectedId();d._skipResourceRepaint=!0,d.select(l),d._skipResourceRepaint=!1,f&&d.pull[f].$split_subtask&&f!=l&&this.refreshTask(f),d.pull[l].$split_subtask&&f!=l&&this.refreshTask(l)}return d.getSelectedId()},unselectTask:function(l){var d=this.$data.tasksStore;d.unselect(l),l&&d.pull[l].$split_subtask&&this.refreshTask(l)},isSelectedTask:function(l){return this.$data.tasksStore.isSelected(l)},getSelectedId:function(){return this.$data.tasksStore.getSelectedId()}}};D.exports={create:function(){var l=_.mixin({},a());return _.mixin(l,u()),_.mixin(l,s()),l}}},function(D,E,h){var _=h(0),u=h(231),s=h(46),c=h(16);D.exports=function(i){var r=u.create();_.mixin(i,r);var e=i.createDatastore({name:"task",type:"treeDatastore",rootId:function(){return i.config.root_id},initItem:_.bind(function(f){this.defined(f.id)||(f.id=this.uid()),f.start_date&&(f.start_date=i.date.parseDate(f.start_date,"parse_date")),f.end_date&&(f.end_date=i.date.parseDate(f.end_date,"parse_date"));var g=null;(f.duration||f.duration===0)&&(f.duration=g=1*f.duration),g&&(f.start_date&&!f.end_date?f.end_date=this.calculateEndDate(f):!f.start_date&&f.end_date&&(f.start_date=this.calculateEndDate({start_date:f.end_date,duration:-f.duration,task:f}))),f.progress=Number(f.progress)||0,this._isAllowedUnscheduledTask(f)&&this._set_default_task_timing(f),this._init_task_timing(f),f.start_date&&f.end_date&&this.correctTaskWorkTime(f),f.$source=[],f.$target=[];var p=this.$data.tasksStore.getItem(f.id);return p&&!_.defined(f.open)&&(f.$open=p.$open),f.parent===void 0&&(f.parent=this.config.root_id),f},i),getConfig:function(){return i.config}}),t=i.createDatastore({name:"link",initItem:_.bind(function(f){return this.defined(f.id)||(f.id=this.uid()),f},i)});function n(f){var g=i.isTaskVisible(f);if(!g&&i.isTaskExists(f)){var p=i.getParent(f);i.isTaskExists(p)&&i.isTaskVisible(p)&&(p=i.getTask(p),i.isSplitTask(p)&&(g=!0))}return g}function o(f){if(i.isTaskExists(f.source)){var g=i.getTask(f.source);g.$source=g.$source||[],g.$source.push(f.id)}if(i.isTaskExists(f.target)){var p=i.getTask(f.target);p.$target=p.$target||[],p.$target.push(f.id)}}function a(f){if(i.isTaskExists(f.source)){for(var g=i.getTask(f.source),p=0;p<g.$source.length;p++)if(g.$source[p]==f.id){g.$source.splice(p,1);break}}if(i.isTaskExists(f.target)){var v=i.getTask(f.target);for(p=0;p<v.$target.length;p++)if(v.$target[p]==f.id){v.$target.splice(p,1);break}}}function l(){for(var f=null,g=i.$data.tasksStore.getItems(),p=0,v=g.length;p<v;p++)(f=g[p]).$source=[],f.$target=[];var y=i.$data.linksStore.getItems();for(p=0,v=y.length;p<v;p++)o(y[p])}function d(f){var g=f.source,p=f.target;for(var v in f.events)(function(y,m){g.attachEvent(y,function(){return p.callEvent(m,Array.prototype.slice.call(arguments))},m)})(v,f.events[v])}i.attachEvent("onDestroy",function(){e.destructor(),t.destructor()}),i.attachEvent("onLinkValidation",function(f){if(i.isLinkExists(f.id)||f.id==="predecessor_generated")return!0;for(var g=i.getTask(f.source).$source,p=0;p<g.length;p++){var v=i.getLink(g[p]),y=f.source==v.source,m=f.target==v.target,b=f.type==v.type;if(y&&m&&b)return!1}return!0}),e.attachEvent("onBeforeRefreshAll",function(){if(!e._skipTaskRecalculation)for(var f=e.getVisibleItems(),g=0;g<f.length;g++){var p=f[g];p.$index=g,p.$local_index=i.getTaskIndex(p.id),i.resetProjectDates(p)}}),e.attachEvent("onFilterItem",function(f,g){if(i.config.show_tasks_outside_timescale)return!0;var p=null,v=null;if(i.config.start_date&&i.config.end_date){if(i._isAllowedUnscheduledTask(g))return!0;if(p=i.config.start_date.valueOf(),v=i.config.end_date.valueOf(),+g.start_date>v||+g.end_date<+p)return!1}return!0}),e.attachEvent("onIdChange",function(f,g){i._update_flags(f,g);var p=i.getTask(g);e.isSilent()||(p.$split_subtask||p.rollup)&&i.eachParent(function(v){i.refreshTask(v.id)},g)}),e.attachEvent("onAfterUpdate",function(f){if(i._update_parents(f),i.getState("batchUpdate").batch_update)return!0;var g=e.getItem(f);g.$source||(g.$source=[]);for(var p=0;p<g.$source.length;p++)t.refresh(g.$source[p]);for(g.$target||(g.$target=[]),p=0;p<g.$target.length;p++)t.refresh(g.$target[p])}),e.attachEvent("onBeforeItemMove",function(f,g,p){return!c(f,i,e)||(console.log("The placeholder task cannot be moved to another position."),!1)}),e.attachEvent("onAfterItemMove",function(f,g,p){var v=i.getTask(f);this.getNextSibling(f)!==null?v.$drop_target=this.getNextSibling(f):this.getPrevSibling(f)!==null?v.$drop_target="next:"+this.getPrevSibling(f):v.$drop_target="next:null"}),e.attachEvent("onStoreUpdated",function(f,g,p){if(p=="delete"&&i._update_flags(f,null),!i.$services.getService("state").getState("batchUpdate").batch_update){if(i.config.fit_tasks&&p!=="paint"){var v=i.getState();s(i);var y=i.getState();if(+v.min_date!=+y.min_date||+v.max_date!=+y.max_date)return i.render(),i.callEvent("onScaleAdjusted",[]),!0}p=="add"||p=="move"||p=="delete"?i.$layout&&(this.$config.name!="task"||p!="add"&&p!="delete"||this._skipTaskRecalculation!="lightbox"&&(this._skipTaskRecalculation=!0),i.$layout.resize()):f||t.refresh()}}),t.attachEvent("onAfterAdd",function(f,g){o(g)}),t.attachEvent("onAfterUpdate",function(f,g){l()}),t.attachEvent("onAfterDelete",function(f,g){a(g)}),t.attachEvent("onBeforeIdChange",function(f,g){a(i.mixin({id:f},i.$data.linksStore.getItem(g))),o(i.$data.linksStore.getItem(g))}),t.attachEvent("onFilterItem",function(f,g){if(!i.config.show_links)return!1;var p=n(g.source),v=n(g.target);return!(!p||!v||i._isAllowedUnscheduledTask(i.getTask(g.source))||i._isAllowedUnscheduledTask(i.getTask(g.target)))&&i.callEvent("onBeforeLinkDisplay",[f,g])}),function(){var f=h(45),g={};i.attachEvent("onBeforeTaskDelete",function(p,v){return g[p]=f.getSubtreeLinks(i,p),!0}),i.attachEvent("onAfterTaskDelete",function(p,v){g[p]&&i.$data.linksStore.silent(function(){for(var y in g[p])i.isLinkExists(y)&&i.$data.linksStore.removeItem(y),a(g[p][y]);g[p]=null})})}(),i.attachEvent("onAfterLinkDelete",function(f,g){i.refreshTask(g.source),i.refreshTask(g.target)}),i.attachEvent("onParse",l),d({source:t,target:i,events:{onItemLoading:"onLinkLoading",onBeforeAdd:"onBeforeLinkAdd",onAfterAdd:"onAfterLinkAdd",onBeforeUpdate:"onBeforeLinkUpdate",onAfterUpdate:"onAfterLinkUpdate",onBeforeDelete:"onBeforeLinkDelete",onAfterDelete:"onAfterLinkDelete",onIdChange:"onLinkIdChange"}}),d({source:e,target:i,events:{onItemLoading:"onTaskLoading",onBeforeAdd:"onBeforeTaskAdd",onAfterAdd:"onAfterTaskAdd",onBeforeUpdate:"onBeforeTaskUpdate",onAfterUpdate:"onAfterTaskUpdate",onBeforeDelete:"onBeforeTaskDelete",onAfterDelete:"onAfterTaskDelete",onIdChange:"onTaskIdChange",onBeforeItemMove:"onBeforeTaskMove",onAfterItemMove:"onAfterTaskMove",onFilterItem:"onBeforeTaskDisplay",onItemOpen:"onTaskOpened",onItemClose:"onTaskClosed",onBeforeSelect:"onBeforeTaskSelected",onAfterSelect:"onTaskSelected",onAfterUnselect:"onTaskUnselected"}}),i.$data={tasksStore:e,linksStore:t}}},function(D,E,h){(function(_,u,s){var c,i,r;function e(t){"@babel/helpers - typeof";return(e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(t){e(E)=="object"&&D!==void 0?D.exports=t():(i=[],(r=typeof(c=t)=="function"?c.apply(E,i):c)===void 0||(D.exports=r))})(function(){return function t(n,o,a){function l(g,p){if(!o[g]){if(!n[g]){var v=typeof _dereq_=="function"&&_dereq_;if(!p&&v)return v(g,!0);if(d)return d(g,!0);var y=new Error("Cannot find module '"+g+"'");throw y.code="MODULE_NOT_FOUND",y}var m=o[g]={exports:{}};n[g][0].call(m.exports,function(b){var k=n[g][1][b];return l(k||b)},m,m.exports,t,n,o,a)}return o[g].exports}for(var d=typeof _dereq_=="function"&&_dereq_,f=0;f<a.length;f++)l(a[f]);return l}({1:[function(t,n,o){n.exports=function(a){var l=a._SomePromiseArray;function d(f){var g=new l(f),p=g.promise();return g.setHowMany(1),g.setUnwrap(),g.init(),p}a.any=function(f){return d(f)},a.prototype.any=function(){return d(this)}}},{}],2:[function(t,n,o){var a;try{throw new Error}catch(k){a=k}var l=t("./schedule"),d=t("./queue"),f=t("./util");function g(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new d(16),this._normalQueue=new d(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var k=this;this.drainQueues=function(){k._drainQueues()},this._schedule=l}function p(k,$,x){this._lateQueue.push(k,$,x),this._queueTick()}function v(k,$,x){this._normalQueue.push(k,$,x),this._queueTick()}function y(k){this._normalQueue._pushOne(k),this._queueTick()}function m(k){for(;k.length()>0;)b(k)}function b(k){var $=k.shift();if(typeof $!="function")$._settlePromises();else{var x=k.shift(),w=k.shift();$.call(x,w)}}g.prototype.setScheduler=function(k){var $=this._schedule;return this._schedule=k,this._customScheduler=!0,$},g.prototype.hasCustomScheduler=function(){return this._customScheduler},g.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},g.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},g.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},g.prototype.fatalError=function(k,$){$?(_.stderr.write("Fatal "+(k instanceof Error?k.stack:k)+`
`),_.exit(2)):this.throwLater(k)},g.prototype.throwLater=function(k,$){if(arguments.length===1&&($=k,k=function(){throw $}),typeof setTimeout<"u")setTimeout(function(){k($)},0);else try{this._schedule(function(){k($)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},f.hasDevTools?(g.prototype.invokeLater=function(k,$,x){this._trampolineEnabled?p.call(this,k,$,x):this._schedule(function(){setTimeout(function(){k.call($,x)},100)})},g.prototype.invoke=function(k,$,x){this._trampolineEnabled?v.call(this,k,$,x):this._schedule(function(){k.call($,x)})},g.prototype.settlePromises=function(k){this._trampolineEnabled?y.call(this,k):this._schedule(function(){k._settlePromises()})}):(g.prototype.invokeLater=p,g.prototype.invoke=v,g.prototype.settlePromises=y),g.prototype._drainQueues=function(){m(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,m(this._lateQueue)},g.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},g.prototype._reset=function(){this._isTickUsed=!1},n.exports=g,n.exports.firstLineError=a},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,o){n.exports=function(a,l,d,f){var g=!1,p=function(b,k){this._reject(k)},v=function(b,k){k.promiseRejectionQueued=!0,k.bindingPromise._then(p,p,null,this,b)},y=function(b,k){!(50397184&this._bitField)&&this._resolveCallback(k.target)},m=function(b,k){k.promiseRejectionQueued||this._reject(b)};a.prototype.bind=function(b){g||(g=!0,a.prototype._propagateFrom=f.propagateFromFunction(),a.prototype._boundValue=f.boundValueFunction());var k=d(b),$=new a(l);$._propagateFrom(this,1);var x=this._target();if($._setBoundTo(k),k instanceof a){var w={promiseRejectionQueued:!1,promise:$,target:x,bindingPromise:k};x._then(l,v,void 0,$,w),k._then(y,m,void 0,$,w),$._setOnCancel(k)}else $._resolveCallback(x);return $},a.prototype._setBoundTo=function(b){b!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=b):this._bitField=-2097153&this._bitField},a.prototype._isBound=function(){return(2097152&this._bitField)==2097152},a.bind=function(b,k){return a.resolve(k).bind(b)}}},{}],4:[function(t,n,o){var a;typeof Promise<"u"&&(a=Promise);var l=t("./promise")();l.noConflict=function(){try{Promise===l&&(Promise=a)}catch{}return l},n.exports=l},{"./promise":22}],5:[function(t,n,o){var a=Object.create;if(a){var l=a(null),d=a(null);l[" size"]=d[" size"]=0}n.exports=function(f){var g=t("./util"),p=g.canEvaluate;g.isIdentifier;function v(b){return function(k,$){var x;if(k!=null&&(x=k[$]),typeof x!="function"){var w="Object "+g.classString(k)+" has no method '"+g.toString($)+"'";throw new f.TypeError(w)}return x}(b,this.pop()).apply(b,this)}function y(b){return b[this]}function m(b){var k=+this;return k<0&&(k=Math.max(0,k+b.length)),b[k]}f.prototype.call=function(b){var k=[].slice.call(arguments,1);return k.push(b),this._then(v,void 0,void 0,k,void 0)},f.prototype.get=function(b){var k;if(typeof b=="number")k=m;else if(p){var $=(void 0)(b);k=$!==null?$:y}else k=y;return this._then(k,void 0,void 0,b,void 0)}}},{"./util":36}],6:[function(t,n,o){n.exports=function(a,l,d,f){var g=t("./util"),p=g.tryCatch,v=g.errorObj,y=a._async;a.prototype.break=a.prototype.cancel=function(){if(!f.cancellation())return this._warn("cancellation is disabled");for(var m=this,b=m;m._isCancellable();){if(!m._cancelBy(b)){b._isFollowing()?b._followee().cancel():b._cancelBranched();break}var k=m._cancellationParent;if(k==null||!k._isCancellable()){m._isFollowing()?m._followee().cancel():m._cancelBranched();break}m._isFollowing()&&m._followee().cancel(),m._setWillBeCancelled(),b=m,m=k}},a.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},a.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},a.prototype._cancelBy=function(m){return m===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},a.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},a.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),y.invoke(this._cancelPromises,this,void 0))},a.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},a.prototype._unsetOnCancel=function(){this._onCancelField=void 0},a.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},a.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},a.prototype._doInvokeOnCancel=function(m,b){if(g.isArray(m))for(var k=0;k<m.length;++k)this._doInvokeOnCancel(m[k],b);else if(m!==void 0)if(typeof m=="function"){if(!b){var $=p(m).call(this._boundValue());$===v&&(this._attachExtraTrace($.e),y.throwLater($.e))}}else m._resultCancelled(this)},a.prototype._invokeOnCancel=function(){var m=this._onCancel();this._unsetOnCancel(),y.invoke(this._doInvokeOnCancel,this,m)},a.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},a.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,o){n.exports=function(a){var l=t("./util"),d=t("./es5").keys,f=l.tryCatch,g=l.errorObj;return function(p,v,y){return function(m){var b=y._boundValue();t:for(var k=0;k<p.length;++k){var $=p[k];if($===Error||$!=null&&$.prototype instanceof Error){if(m instanceof $)return f(v).call(b,m)}else if(typeof $=="function"){var x=f($).call(b,m);if(x===g)return x;if(x)return f(v).call(b,m)}else if(l.isObject(m)){for(var w=d($),T=0;T<w.length;++T){var A=w[T];if($[A]!=m[A])continue t}return f(v).call(b,m)}}return a}}}},{"./es5":13,"./util":36}],8:[function(t,n,o){n.exports=function(a){var l=!1,d=[];function f(){this._trace=new f.CapturedTrace(g())}function g(){var p=d.length-1;if(p>=0)return d[p]}return a.prototype._promiseCreated=function(){},a.prototype._pushContext=function(){},a.prototype._popContext=function(){return null},a._peekContext=a.prototype._peekContext=function(){},f.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,d.push(this._trace))},f.prototype._popContext=function(){if(this._trace!==void 0){var p=d.pop(),v=p._promiseCreated;return p._promiseCreated=null,v}return null},f.CapturedTrace=null,f.create=function(){if(l)return new f},f.deactivateLongStackTraces=function(){},f.activateLongStackTraces=function(){var p=a.prototype._pushContext,v=a.prototype._popContext,y=a._peekContext,m=a.prototype._peekContext,b=a.prototype._promiseCreated;f.deactivateLongStackTraces=function(){a.prototype._pushContext=p,a.prototype._popContext=v,a._peekContext=y,a.prototype._peekContext=m,a.prototype._promiseCreated=b,l=!1},l=!0,a.prototype._pushContext=f.prototype._pushContext,a.prototype._popContext=f.prototype._popContext,a._peekContext=a.prototype._peekContext=g,a.prototype._promiseCreated=function(){var k=this._peekContext();k&&k._promiseCreated==null&&(k._promiseCreated=this)}},f}},{}],9:[function(t,n,o){n.exports=function(a,l){var d,f,g,p=a._getDomain,v=a._async,y=t("./errors").Warning,m=t("./util"),b=t("./es5"),k=m.canAttachTrace,$=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,x=/\((?:timers\.js):\d+:\d+\)/,w=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,T=null,A=null,I=!1,N=m.env("BLUEBIRD_DEBUG")!=0,j=!(m.env("BLUEBIRD_WARNINGS")==0||!N&&!m.env("BLUEBIRD_WARNINGS")),B=!(m.env("BLUEBIRD_LONG_STACK_TRACES")==0||!N&&!m.env("BLUEBIRD_LONG_STACK_TRACES")),z=m.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(j||!!m.env("BLUEBIRD_W_FORGOTTEN_RETURN"));a.prototype.suppressUnhandledRejections=function(){var Z=this._target();Z._bitField=-1048577&Z._bitField|524288},a.prototype._ensurePossibleRejectionHandled=function(){if(!(524288&this._bitField)){this._setRejectionIsUnhandled();var Z=this;setTimeout(function(){Z._notifyUnhandledRejection()},1)}},a.prototype._notifyUnhandledRejectionIsHandled=function(){ot("rejectionHandled",d,void 0,this)},a.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},a.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!=0},a.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Z=this._settledValue();this._setUnhandledRejectionIsNotified(),ot("unhandledRejection",f,Z,this)}},a.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},a.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},a.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},a.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},a.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},a.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},a.prototype._warn=function(Z,tt,it){return et(Z,tt,it||this)},a.onPossiblyUnhandledRejection=function(Z){var tt=p();f=typeof Z=="function"?tt===null?Z:m.domainBind(tt,Z):void 0},a.onUnhandledRejectionHandled=function(Z){var tt=p();d=typeof Z=="function"?tt===null?Z:m.domainBind(tt,Z):void 0};var K=function(){};a.longStackTraces=function(){if(v.haveItemsQueued()&&!yt.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!yt.longStackTraces&&ct()){var Z=a.prototype._captureStackTrace,tt=a.prototype._attachExtraTrace,it=a.prototype._dereferenceTrace;yt.longStackTraces=!0,K=function(){if(v.haveItemsQueued()&&!yt.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);a.prototype._captureStackTrace=Z,a.prototype._attachExtraTrace=tt,a.prototype._dereferenceTrace=it,l.deactivateLongStackTraces(),v.enableTrampoline(),yt.longStackTraces=!1},a.prototype._captureStackTrace=W,a.prototype._attachExtraTrace=Q,a.prototype._dereferenceTrace=V,l.activateLongStackTraces(),v.disableTrampolineIfNecessary()}},a.hasLongStackTraces=function(){return yt.longStackTraces&&ct()};var J=function(){try{if(typeof CustomEvent=="function"){var Z=new CustomEvent("CustomEvent");return m.global.dispatchEvent(Z),function(tt,it){var rt={detail:it,cancelable:!0};b.defineProperty(rt,"promise",{value:it.promise}),b.defineProperty(rt,"reason",{value:it.reason});var dt=new CustomEvent(tt.toLowerCase(),rt);return!m.global.dispatchEvent(dt)}}return typeof Event=="function"?(Z=new Event("CustomEvent"),m.global.dispatchEvent(Z),function(tt,it){var rt=new Event(tt.toLowerCase(),{cancelable:!0});return rt.detail=it,b.defineProperty(rt,"promise",{value:it.promise}),b.defineProperty(rt,"reason",{value:it.reason}),!m.global.dispatchEvent(rt)}):((Z=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),m.global.dispatchEvent(Z),function(tt,it){var rt=document.createEvent("CustomEvent");return rt.initCustomEvent(tt.toLowerCase(),!1,!0,it),!m.global.dispatchEvent(rt)})}catch{}return function(){return!1}}(),R=m.isNode?function(){return _.emit.apply(_,arguments)}:m.global?function(Z){var tt="on"+Z.toLowerCase(),it=m.global[tt];return!!it&&(it.apply(m.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function P(Z,tt){return{promise:tt}}var G={promiseCreated:P,promiseFulfilled:P,promiseRejected:P,promiseResolved:P,promiseCancelled:P,promiseChained:function(Z,tt,it){return{promise:tt,child:it}},warning:function(Z,tt){return{warning:tt}},unhandledRejection:function(Z,tt,it){return{reason:tt,promise:it}},rejectionHandled:P},O=function(Z){var tt=!1;try{tt=R.apply(null,arguments)}catch(rt){v.throwLater(rt),tt=!0}var it=!1;try{it=J(Z,G[Z].apply(null,arguments))}catch(rt){v.throwLater(rt),it=!0}return it||tt};function Y(){return!1}function q(Z,tt,it){var rt=this;try{Z(tt,it,function(dt){if(typeof dt!="function")throw new TypeError("onCancel must be a function, got: "+m.toString(dt));rt._attachCancellationCallback(dt)})}catch(dt){return dt}}function U(Z){if(!this._isCancellable())return this;var tt=this._onCancel();tt!==void 0?m.isArray(tt)?tt.push(Z):this._setOnCancel([tt,Z]):this._setOnCancel(Z)}function L(){return this._onCancelField}function S(Z){this._onCancelField=Z}function C(){this._cancellationParent=void 0,this._onCancelField=void 0}function M(Z,tt){if(1&tt){this._cancellationParent=Z;var it=Z._branchesRemainingToCancel;it===void 0&&(it=0),Z._branchesRemainingToCancel=it+1}2&tt&&Z._isBound()&&this._setBoundTo(Z._boundTo)}a.config=function(Z){if("longStackTraces"in(Z=Object(Z))&&(Z.longStackTraces?a.longStackTraces():!Z.longStackTraces&&a.hasLongStackTraces()&&K()),"warnings"in Z){var tt=Z.warnings;yt.warnings=!!tt,z=yt.warnings,m.isObject(tt)&&"wForgottenReturn"in tt&&(z=!!tt.wForgottenReturn)}if("cancellation"in Z&&Z.cancellation&&!yt.cancellation){if(v.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");a.prototype._clearCancellationData=C,a.prototype._propagateFrom=M,a.prototype._onCancel=L,a.prototype._setOnCancel=S,a.prototype._attachCancellationCallback=U,a.prototype._execute=q,H=M,yt.cancellation=!0}return"monitoring"in Z&&(Z.monitoring&&!yt.monitoring?(yt.monitoring=!0,a.prototype._fireEvent=O):!Z.monitoring&&yt.monitoring&&(yt.monitoring=!1,a.prototype._fireEvent=Y)),a},a.prototype._fireEvent=Y,a.prototype._execute=function(Z,tt,it){try{Z(tt,it)}catch(rt){return rt}},a.prototype._onCancel=function(){},a.prototype._setOnCancel=function(Z){},a.prototype._attachCancellationCallback=function(Z){},a.prototype._captureStackTrace=function(){},a.prototype._attachExtraTrace=function(){},a.prototype._dereferenceTrace=function(){},a.prototype._clearCancellationData=function(){},a.prototype._propagateFrom=function(Z,tt){};var H=function(Z,tt){2&tt&&Z._isBound()&&this._setBoundTo(Z._boundTo)};function F(){var Z=this._boundTo;return Z!==void 0&&Z instanceof a?Z.isFulfilled()?Z.value():void 0:Z}function W(){this._trace=new mt(this._peekContext())}function Q(Z,tt){if(k(Z)){var it=this._trace;if(it!==void 0&&tt&&(it=it._parent),it!==void 0)it.attachExtraTrace(Z);else if(!Z.__stackCleaned__){var rt=nt(Z);m.notEnumerableProp(Z,"stack",rt.message+`
`+rt.stack.join(`
`)),m.notEnumerableProp(Z,"__stackCleaned__",!0)}}}function V(){this._trace=void 0}function et(Z,tt,it){if(yt.warnings){var rt,dt=new y(Z);if(tt)it._attachExtraTrace(dt);else if(yt.longStackTraces&&(rt=a._peekContext()))rt.attachExtraTrace(dt);else{var ut=nt(dt);dt.stack=ut.message+`
`+ut.stack.join(`
`)}O("warning",dt)||X(dt,"",!0)}}function at(Z){for(var tt=[],it=0;it<Z.length;++it){var rt=Z[it],dt=rt==="    (No stack trace)"||T.test(rt),ut=dt&&ht(rt);dt&&!ut&&(I&&rt.charAt(0)!==" "&&(rt="    "+rt),tt.push(rt))}return tt}function nt(Z){var tt=Z.stack,it=Z.toString();return tt=typeof tt=="string"&&tt.length>0?function(rt){for(var dt=rt.stack.replace(/\s+$/g,"").split(`
`),ut=0;ut<dt.length;++ut){var lt=dt[ut];if(lt==="    (No stack trace)"||T.test(lt))break}return ut>0&&rt.name!="SyntaxError"&&(dt=dt.slice(ut)),dt}(Z):["    (No stack trace)"],{message:it,stack:Z.name=="SyntaxError"?tt:at(tt)}}function X(Z,tt,it){if(typeof console<"u"){var rt;if(m.isObject(Z)){var dt=Z.stack;rt=tt+A(dt,Z)}else rt=tt+String(Z);typeof g=="function"?g(rt,it):typeof console.log!="function"&&e(console.log)!=="object"||console.log(rt)}}function ot(Z,tt,it,rt){var dt=!1;try{typeof tt=="function"&&(dt=!0,Z==="rejectionHandled"?tt(rt):tt(it,rt))}catch(ut){v.throwLater(ut)}Z==="unhandledRejection"?O(Z,it,rt)||dt||X(it,"Unhandled rejection "):O(Z,rt)}function st(Z){var tt;if(typeof Z=="function")tt="[function "+(Z.name||"anonymous")+"]";else{if(tt=Z&&typeof Z.toString=="function"?Z.toString():m.toString(Z),/\[object [a-zA-Z0-9$_]+\]/.test(tt))try{tt=JSON.stringify(Z)}catch{}tt.length===0&&(tt="(empty array)")}return"(<"+function(it){return it.length<41?it:it.substr(0,38)+"..."}(tt)+">, no stack trace)"}function ct(){return typeof At=="function"}var ht=function(){return!1},_t=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function xt(Z){var tt=Z.match(_t);if(tt)return{fileName:tt[1],line:parseInt(tt[2],10)}}function mt(Z){this._parent=Z,this._promisesCreated=0;var tt=this._length=1+(Z===void 0?0:Z._length);At(this,mt),tt>32&&this.uncycle()}m.inherits(mt,Error),l.CapturedTrace=mt,mt.prototype.uncycle=function(){var Z=this._length;if(!(Z<2)){for(var tt=[],it={},rt=0,dt=this;dt!==void 0;++rt)tt.push(dt),dt=dt._parent;for(rt=(Z=this._length=rt)-1;rt>=0;--rt){var ut=tt[rt].stack;it[ut]===void 0&&(it[ut]=rt)}for(rt=0;rt<Z;++rt){var lt=it[tt[rt].stack];if(lt!==void 0&&lt!==rt){lt>0&&(tt[lt-1]._parent=void 0,tt[lt-1]._length=1),tt[rt]._parent=void 0,tt[rt]._length=1;var vt=rt>0?tt[rt-1]:this;lt<Z-1?(vt._parent=tt[lt+1],vt._parent.uncycle(),vt._length=vt._parent._length+1):(vt._parent=void 0,vt._length=1);for(var bt=vt._length+1,kt=rt-2;kt>=0;--kt)tt[kt]._length=bt,bt++;return}}}},mt.prototype.attachExtraTrace=function(Z){if(!Z.__stackCleaned__){this.uncycle();for(var tt=nt(Z),it=tt.message,rt=[tt.stack],dt=this;dt!==void 0;)rt.push(at(dt.stack.split(`
`))),dt=dt._parent;(function(ut){for(var lt=ut[0],vt=1;vt<ut.length;++vt){for(var bt=ut[vt],kt=lt.length-1,Et=lt[kt],Tt=-1,$t=bt.length-1;$t>=0;--$t)if(bt[$t]===Et){Tt=$t;break}for($t=Tt;$t>=0;--$t){var jt=bt[$t];if(lt[kt]!==jt)break;lt.pop(),kt--}lt=bt}})(rt),function(ut){for(var lt=0;lt<ut.length;++lt)(ut[lt].length===0||lt+1<ut.length&&ut[lt][0]===ut[lt+1][0])&&(ut.splice(lt,1),lt--)}(rt),m.notEnumerableProp(Z,"stack",function(ut,lt){for(var vt=0;vt<lt.length-1;++vt)lt[vt].push("From previous event:"),lt[vt]=lt[vt].join(`
`);return vt<lt.length&&(lt[vt]=lt[vt].join(`
`)),ut+`
`+lt.join(`
`)}(it,rt)),m.notEnumerableProp(Z,"__stackCleaned__",!0)}};var At=function(){var Z=/^\s*at\s*/,tt=function(ut,lt){return typeof ut=="string"?ut:lt.name!==void 0&&lt.message!==void 0?lt.toString():st(lt)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,T=Z,A=tt;var it=Error.captureStackTrace;return ht=function(ut){return $.test(ut)},function(ut,lt){Error.stackTraceLimit+=6,it(ut,lt),Error.stackTraceLimit-=6}}var rt,dt=new Error;if(typeof dt.stack=="string"&&dt.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return T=/@/,A=tt,I=!0,function(ut){ut.stack=new Error().stack};try{throw new Error}catch(ut){rt="stack"in ut}return"stack"in dt||!rt||typeof Error.stackTraceLimit!="number"?(A=function(ut,lt){return typeof ut=="string"?ut:e(lt)!=="object"&&typeof lt!="function"||lt.name===void 0||lt.message===void 0?st(lt):lt.toString()},null):(T=Z,A=tt,function(ut){Error.stackTraceLimit+=6;try{throw new Error}catch(lt){ut.stack=lt.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&console.warn!==void 0&&(g=function(Z){console.warn(Z)},m.isNode&&_.stderr.isTTY?g=function(Z,tt){var it=tt?"\x1B[33m":"\x1B[31m";console.warn(it+Z+`\x1B[0m
`)}:m.isNode||typeof new Error().stack!="string"||(g=function(Z,tt){console.warn("%c"+Z,tt?"color: darkorange":"color: red")}));var yt={warnings:j,longStackTraces:!1,cancellation:!1,monitoring:!1};return B&&a.longStackTraces(),{longStackTraces:function(){return yt.longStackTraces},warnings:function(){return yt.warnings},cancellation:function(){return yt.cancellation},monitoring:function(){return yt.monitoring},propagateFromFunction:function(){return H},boundValueFunction:function(){return F},checkForgottenReturns:function(Z,tt,it,rt,dt){if(Z===void 0&&tt!==null&&z){if(dt!==void 0&&dt._returnedNonUndefined()||!(65535&rt._bitField))return;it&&(it+=" ");var ut="",lt="";if(tt._trace){for(var vt=tt._trace.stack.split(`
`),bt=at(vt),kt=bt.length-1;kt>=0;--kt){var Et=bt[kt];if(!x.test(Et)){var Tt=Et.match(w);Tt&&(ut="at "+Tt[1]+":"+Tt[2]+":"+Tt[3]+" ");break}}if(bt.length>0){var $t=bt[0];for(kt=0;kt<vt.length;++kt)if(vt[kt]===$t){kt>0&&(lt=`
`+vt[kt-1]);break}}}var jt="a promise was created in a "+it+"handler "+ut+"but was not returned from it, see http://goo.gl/rRqMUw"+lt;rt._warn(jt,!0,tt)}},setBounds:function(Z,tt){if(ct()){for(var it,rt,dt=Z.stack.split(`
`),ut=tt.stack.split(`
`),lt=-1,vt=-1,bt=0;bt<dt.length;++bt)if(kt=xt(dt[bt])){it=kt.fileName,lt=kt.line;break}for(bt=0;bt<ut.length;++bt){var kt;if(kt=xt(ut[bt])){rt=kt.fileName,vt=kt.line;break}}lt<0||vt<0||!it||!rt||it!==rt||lt>=vt||(ht=function(Et){if($.test(Et))return!0;var Tt=xt(Et);return!!(Tt&&Tt.fileName===it&&lt<=Tt.line&&Tt.line<=vt)})}},warn:et,deprecated:function(Z,tt){var it=Z+" is deprecated and will be removed in a future version.";return tt&&(it+=" Use "+tt+" instead."),et(it)},CapturedTrace:mt,fireDomEvent:J,fireGlobalEvent:R}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,o){n.exports=function(a){function l(){return this.value}function d(){throw this.reason}a.prototype.return=a.prototype.thenReturn=function(f){return f instanceof a&&f.suppressUnhandledRejections(),this._then(l,void 0,void 0,{value:f},void 0)},a.prototype.throw=a.prototype.thenThrow=function(f){return this._then(d,void 0,void 0,{reason:f},void 0)},a.prototype.catchThrow=function(f){if(arguments.length<=1)return this._then(void 0,d,void 0,{reason:f},void 0);var g=arguments[1];return this.caught(f,function(){throw g})},a.prototype.catchReturn=function(f){if(arguments.length<=1)return f instanceof a&&f.suppressUnhandledRejections(),this._then(void 0,l,void 0,{value:f},void 0);var g=arguments[1];return g instanceof a&&g.suppressUnhandledRejections(),this.caught(f,function(){return g})}}},{}],11:[function(t,n,o){n.exports=function(a,l){var d=a.reduce,f=a.all;function g(){return f(this)}a.prototype.each=function(p){return d(this,p,l,0)._then(g,void 0,void 0,this,void 0)},a.prototype.mapSeries=function(p){return d(this,p,l,l)},a.each=function(p,v){return d(p,v,l,0)._then(g,void 0,void 0,p,void 0)},a.mapSeries=function(p,v){return d(p,v,l,l)}}},{}],12:[function(t,n,o){var a,l,d=t("./es5"),f=d.freeze,g=t("./util"),p=g.inherits,v=g.notEnumerableProp;function y(N,j){function B(z){if(!(this instanceof B))return new B(z);v(this,"message",typeof z=="string"?z:j),v(this,"name",N),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return p(B,Error),B}var m=y("Warning","warning"),b=y("CancellationError","cancellation error"),k=y("TimeoutError","timeout error"),$=y("AggregateError","aggregate error");try{a=TypeError,l=RangeError}catch{a=y("TypeError","type error"),l=y("RangeError","range error")}for(var x="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),w=0;w<x.length;++w)typeof Array.prototype[x[w]]=="function"&&($.prototype[x[w]]=Array.prototype[x[w]]);d.defineProperty($.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),$.prototype.isOperational=!0;var T=0;function A(N){if(!(this instanceof A))return new A(N);v(this,"name","OperationalError"),v(this,"message",N),this.cause=N,this.isOperational=!0,N instanceof Error?(v(this,"message",N.message),v(this,"stack",N.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}$.prototype.toString=function(){var N=Array(4*T+1).join(" "),j=`
`+N+`AggregateError of:
`;T++,N=Array(4*T+1).join(" ");for(var B=0;B<this.length;++B){for(var z=this[B]===this?"[Circular AggregateError]":this[B]+"",K=z.split(`
`),J=0;J<K.length;++J)K[J]=N+K[J];j+=(z=K.join(`
`))+`
`}return T--,j},p(A,Error);var I=Error.__BluebirdErrorTypes__;I||(I=f({CancellationError:b,TimeoutError:k,OperationalError:A,RejectionError:A,AggregateError:$}),d.defineProperty(Error,"__BluebirdErrorTypes__",{value:I,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error,TypeError:a,RangeError:l,CancellationError:I.CancellationError,OperationalError:I.OperationalError,TimeoutError:I.TimeoutError,AggregateError:I.AggregateError,Warning:m}},{"./es5":13,"./util":36}],13:[function(t,n,o){var a=function(){return this===void 0}();if(a)n.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:a,propertyIsWritable:function(p,v){var y=Object.getOwnPropertyDescriptor(p,v);return!(y&&!y.writable&&!y.set)}};else{var l={}.hasOwnProperty,d={}.toString,f={}.constructor.prototype,g=function(p){var v=[];for(var y in p)l.call(p,y)&&v.push(y);return v};n.exports={isArray:function(p){try{return d.call(p)==="[object Array]"}catch{return!1}},keys:g,names:g,defineProperty:function(p,v,y){return p[v]=y.value,p},getDescriptor:function(p,v){return{value:p[v]}},freeze:function(p){return p},getPrototypeOf:function(p){try{return Object(p).constructor.prototype}catch{return f}},isES5:a,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,o){n.exports=function(a,l){var d=a.map;a.prototype.filter=function(f,g){return d(this,f,g,l)},a.filter=function(f,g,p){return d(f,g,p,l)}}},{}],15:[function(t,n,o){n.exports=function(a,l,d){var f=t("./util"),g=a.CancellationError,p=f.errorObj,v=t("./catch_filter")(d);function y(w,T,A){this.promise=w,this.type=T,this.handler=A,this.called=!1,this.cancelPromise=null}function m(w){this.finallyHandler=w}function b(w,T){return w.cancelPromise!=null&&(arguments.length>1?w.cancelPromise._reject(T):w.cancelPromise._cancel(),w.cancelPromise=null,!0)}function k(){return x.call(this,this.promise._target()._settledValue())}function $(w){if(!b(this,w))return p.e=w,p}function x(w){var T=this.promise,A=this.handler;if(!this.called){this.called=!0;var I=this.isFinallyHandler()?A.call(T._boundValue()):A.call(T._boundValue(),w);if(I===d)return I;if(I!==void 0){T._setReturnedNonUndefined();var N=l(I,T);if(N instanceof a){if(this.cancelPromise!=null){if(N._isCancelled()){var j=new g("late cancellation observer");return T._attachExtraTrace(j),p.e=j,p}N.isPending()&&N._attachCancellationCallback(new m(this))}return N._then(k,$,void 0,this,void 0)}}}return T.isRejected()?(b(this),p.e=w,p):(b(this),w)}return y.prototype.isFinallyHandler=function(){return this.type===0},m.prototype._resultCancelled=function(){b(this.finallyHandler)},a.prototype._passThrough=function(w,T,A,I){return typeof w!="function"?this.then():this._then(A,I,void 0,new y(this,T,w),void 0)},a.prototype.lastly=a.prototype.finally=function(w){return this._passThrough(w,0,x,x)},a.prototype.tap=function(w){return this._passThrough(w,1,x)},a.prototype.tapCatch=function(w){var T=arguments.length;if(T===1)return this._passThrough(w,1,void 0,x);var A,I=new Array(T-1),N=0;for(A=0;A<T-1;++A){var j=arguments[A];if(!f.isObject(j))return a.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+f.classString(j)));I[N++]=j}I.length=N;var B=arguments[A];return this._passThrough(v(I,B,this),1,void 0,x)},y}},{"./catch_filter":7,"./util":36}],16:[function(t,n,o){n.exports=function(a,l,d,f,g,p){var v=t("./errors").TypeError,y=t("./util"),m=y.errorObj,b=y.tryCatch,k=[];function $(x,w,T,A){if(p.cancellation()){var I=new a(d),N=this._finallyPromise=new a(d);this._promise=I.lastly(function(){return N}),I._captureStackTrace(),I._setOnCancel(this)}else(this._promise=new a(d))._captureStackTrace();this._stack=A,this._generatorFunction=x,this._receiver=w,this._generator=void 0,this._yieldHandlers=typeof T=="function"?[T].concat(k):k,this._yieldedPromise=null,this._cancellationPhase=!1}y.inherits($,g),$.prototype._isResolved=function(){return this._promise===null},$.prototype._cleanup=function(){this._promise=this._generator=null,p.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},$.prototype._promiseCancelled=function(){if(!this._isResolved()){var x;if(this._generator.return!==void 0)this._promise._pushContext(),x=b(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var w=new a.CancellationError("generator .return() sentinel");a.coroutine.returnSentinel=w,this._promise._attachExtraTrace(w),this._promise._pushContext(),x=b(this._generator.throw).call(this._generator,w),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(x)}},$.prototype._promiseFulfilled=function(x){this._yieldedPromise=null,this._promise._pushContext();var w=b(this._generator.next).call(this._generator,x);this._promise._popContext(),this._continue(w)},$.prototype._promiseRejected=function(x){this._yieldedPromise=null,this._promise._attachExtraTrace(x),this._promise._pushContext();var w=b(this._generator.throw).call(this._generator,x);this._promise._popContext(),this._continue(w)},$.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof a){var x=this._yieldedPromise;this._yieldedPromise=null,x.cancel()}},$.prototype.promise=function(){return this._promise},$.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},$.prototype._continue=function(x){var w=this._promise;if(x===m)return this._cleanup(),this._cancellationPhase?w.cancel():w._rejectCallback(x.e,!1);var T=x.value;if(x.done===!0)return this._cleanup(),this._cancellationPhase?w.cancel():w._resolveCallback(T);var A=f(T,this._promise);if(A instanceof a||(A=function(N,j,B){for(var z=0;z<j.length;++z){B._pushContext();var K=b(j[z])(N);if(B._popContext(),K===m){B._pushContext();var J=a.reject(m.e);return B._popContext(),J}var R=f(K,B);if(R instanceof a)return R}return null}(A,this._yieldHandlers,this._promise))!==null){var I=(A=A._target())._bitField;50397184&I?33554432&I?a._async.invoke(this._promiseFulfilled,this,A._value()):16777216&I?a._async.invoke(this._promiseRejected,this,A._reason()):this._promiseCancelled():(this._yieldedPromise=A,A._proxy(this,null))}else this._promiseRejected(new v(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(T))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)))},a.coroutine=function(x,w){if(typeof x!="function")throw new v(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var T=Object(w).yieldHandler,A=$,I=new Error().stack;return function(){var N=x.apply(this,arguments),j=new A(void 0,void 0,T,I),B=j.promise();return j._generator=N,j._promiseFulfilled(void 0),B}},a.coroutine.addYieldHandler=function(x){if(typeof x!="function")throw new v("expecting a function but got "+y.classString(x));k.push(x)},a.spawn=function(x){if(p.deprecated("Promise.spawn()","Promise.coroutine()"),typeof x!="function")return l(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var w=new $(x,this),T=w.promise();return w._run(a.spawn),T}}},{"./errors":12,"./util":36}],17:[function(t,n,o){n.exports=function(a,l,d,f,g,p){var v=t("./util");v.canEvaluate,v.tryCatch,v.errorObj,a.join=function(){var y,m=arguments.length-1;m>0&&typeof arguments[m]=="function"&&(y=arguments[m]);var b=[].slice.call(arguments);y&&b.pop();var k=new l(b).promise();return y!==void 0?k.spread(y):k}}},{"./util":36}],18:[function(t,n,o){n.exports=function(a,l,d,f,g,p){var v=a._getDomain,y=t("./util"),m=y.tryCatch,b=y.errorObj,k=a._async;function $(w,T,A,I){this.constructor$(w),this._promise._captureStackTrace();var N=v();this._callback=N===null?T:y.domainBind(N,T),this._preservedValues=I===g?new Array(this.length()):null,this._limit=A,this._inFlight=0,this._queue=[],k.invoke(this._asyncInit,this,void 0)}function x(w,T,A,I){if(typeof T!="function")return d("expecting a function but got "+y.classString(T));var N=0;if(A!==void 0){if(e(A)!=="object"||A===null)return a.reject(new TypeError("options argument must be an object but it is "+y.classString(A)));if(typeof A.concurrency!="number")return a.reject(new TypeError("'concurrency' must be a number but it is "+y.classString(A.concurrency)));N=A.concurrency}return new $(w,T,N=typeof N=="number"&&isFinite(N)&&N>=1?N:0,I).promise()}y.inherits($,l),$.prototype._asyncInit=function(){this._init$(void 0,-2)},$.prototype._init=function(){},$.prototype._promiseFulfilled=function(w,T){var A=this._values,I=this.length(),N=this._preservedValues,j=this._limit;if(T<0){if(A[T=-1*T-1]=w,j>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(j>=1&&this._inFlight>=j)return A[T]=w,this._queue.push(T),!1;N!==null&&(N[T]=w);var B=this._promise,z=this._callback,K=B._boundValue();B._pushContext();var J=m(z).call(K,w,T,I),R=B._popContext();if(p.checkForgottenReturns(J,R,N!==null?"Promise.filter":"Promise.map",B),J===b)return this._reject(J.e),!0;var P=f(J,this._promise);if(P instanceof a){var G=(P=P._target())._bitField;if(!(50397184&G))return j>=1&&this._inFlight++,A[T]=P,P._proxy(this,-1*(T+1)),!1;if(!(33554432&G))return 16777216&G?(this._reject(P._reason()),!0):(this._cancel(),!0);J=P._value()}A[T]=J}return++this._totalResolved>=I&&(N!==null?this._filter(A,N):this._resolve(A),!0)},$.prototype._drainQueue=function(){for(var w=this._queue,T=this._limit,A=this._values;w.length>0&&this._inFlight<T;){if(this._isResolved())return;var I=w.pop();this._promiseFulfilled(A[I],I)}},$.prototype._filter=function(w,T){for(var A=T.length,I=new Array(A),N=0,j=0;j<A;++j)w[j]&&(I[N++]=T[j]);I.length=N,this._resolve(I)},$.prototype.preservedValues=function(){return this._preservedValues},a.prototype.map=function(w,T){return x(this,w,T,null)},a.map=function(w,T,A,I){return x(w,T,A,I)}}},{"./util":36}],19:[function(t,n,o){n.exports=function(a,l,d,f,g){var p=t("./util"),v=p.tryCatch;a.method=function(y){if(typeof y!="function")throw new a.TypeError("expecting a function but got "+p.classString(y));return function(){var m=new a(l);m._captureStackTrace(),m._pushContext();var b=v(y).apply(this,arguments),k=m._popContext();return g.checkForgottenReturns(b,k,"Promise.method",m),m._resolveFromSyncValue(b),m}},a.attempt=a.try=function(y){if(typeof y!="function")return f("expecting a function but got "+p.classString(y));var m,b=new a(l);if(b._captureStackTrace(),b._pushContext(),arguments.length>1){g.deprecated("calling Promise.try with more than 1 argument");var k=arguments[1],$=arguments[2];m=p.isArray(k)?v(y).apply($,k):v(y).call($,k)}else m=v(y)();var x=b._popContext();return g.checkForgottenReturns(m,x,"Promise.try",b),b._resolveFromSyncValue(m),b},a.prototype._resolveFromSyncValue=function(y){y===p.errorObj?this._rejectCallback(y.e,!1):this._resolveCallback(y,!0)}}},{"./util":36}],20:[function(t,n,o){var a=t("./util"),l=a.maybeWrapAsError,d=t("./errors").OperationalError,f=t("./es5"),g=/^(?:name|message|stack|cause)$/;function p(v){var y;if(function($){return $ instanceof Error&&f.getPrototypeOf($)===Error.prototype}(v)){(y=new d(v)).name=v.name,y.message=v.message,y.stack=v.stack;for(var m=f.keys(v),b=0;b<m.length;++b){var k=m[b];g.test(k)||(y[k]=v[k])}return y}return a.markAsOriginatingFromRejection(v),v}n.exports=function(v,y){return function(m,b){if(v!==null){if(m){var k=p(l(m));v._attachExtraTrace(k),v._reject(k)}else if(y){var $=[].slice.call(arguments,1);v._fulfill($)}else v._fulfill(b);v=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,o){n.exports=function(a){var l=t("./util"),d=a._async,f=l.tryCatch,g=l.errorObj;function p(m,b){if(!l.isArray(m))return v.call(this,m,b);var k=f(b).apply(this._boundValue(),[null].concat(m));k===g&&d.throwLater(k.e)}function v(m,b){var k=this._boundValue(),$=m===void 0?f(b).call(k,null):f(b).call(k,null,m);$===g&&d.throwLater($.e)}function y(m,b){if(!m){var k=new Error(m+"");k.cause=m,m=k}var $=f(b).call(this._boundValue(),m);$===g&&d.throwLater($.e)}a.prototype.asCallback=a.prototype.nodeify=function(m,b){if(typeof m=="function"){var k=v;b!==void 0&&Object(b).spread&&(k=p),this._then(k,y,void 0,this,m)}return this}}},{"./util":36}],22:[function(t,n,o){n.exports=function(){var a=function(){return new $(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},l=function(){return new O.PromiseInspection(this._target())},d=function(L){return O.reject(new $(L))};function f(){}var g,p={},v=t("./util");g=v.isNode?function(){var L=_.domain;return L===void 0&&(L=null),L}:function(){return null},v.notEnumerableProp(O,"_getDomain",g);var y=t("./es5"),m=t("./async"),b=new m;y.defineProperty(O,"_async",{value:b});var k=t("./errors"),$=O.TypeError=k.TypeError;O.RangeError=k.RangeError;var x=O.CancellationError=k.CancellationError;O.TimeoutError=k.TimeoutError,O.OperationalError=k.OperationalError,O.RejectionError=k.OperationalError,O.AggregateError=k.AggregateError;var w=function(){},T={},A={},I=t("./thenables")(O,w),N=t("./promise_array")(O,w,I,d,f),j=t("./context")(O),B=j.create,z=t("./debuggability")(O,j),K=(z.CapturedTrace,t("./finally")(O,I,A)),J=t("./catch_filter")(A),R=t("./nodeback"),P=v.errorObj,G=v.tryCatch;function O(L){L!==w&&function(S,C){if(S==null||S.constructor!==O)throw new $(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof C!="function")throw new $("expecting a function but got "+v.classString(C))}(this,L),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(L),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function Y(L){this.promise._resolveCallback(L)}function q(L){this.promise._rejectCallback(L,!1)}function U(L){var S=new O(w);S._fulfillmentHandler0=L,S._rejectionHandler0=L,S._promise0=L,S._receiver0=L}return O.prototype.toString=function(){return"[object Promise]"},O.prototype.caught=O.prototype.catch=function(L){var S=arguments.length;if(S>1){var C,M=new Array(S-1),H=0;for(C=0;C<S-1;++C){var F=arguments[C];if(!v.isObject(F))return d("Catch statement predicate: expecting an object but got "+v.classString(F));M[H++]=F}return M.length=H,L=arguments[C],this.then(void 0,J(M,L,this))}return this.then(void 0,L)},O.prototype.reflect=function(){return this._then(l,l,void 0,this,void 0)},O.prototype.then=function(L,S){if(z.warnings()&&arguments.length>0&&typeof L!="function"&&typeof S!="function"){var C=".then() only accepts functions but was passed: "+v.classString(L);arguments.length>1&&(C+=", "+v.classString(S)),this._warn(C)}return this._then(L,S,void 0,void 0,void 0)},O.prototype.done=function(L,S){this._then(L,S,void 0,void 0,void 0)._setIsFinal()},O.prototype.spread=function(L){return typeof L!="function"?d("expecting a function but got "+v.classString(L)):this.all()._then(L,void 0,void 0,T,void 0)},O.prototype.toJSON=function(){var L={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(L.fulfillmentValue=this.value(),L.isFulfilled=!0):this.isRejected()&&(L.rejectionReason=this.reason(),L.isRejected=!0),L},O.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new N(this).promise()},O.prototype.error=function(L){return this.caught(v.originatesFromRejection,L)},O.getNewLibraryCopy=n.exports,O.is=function(L){return L instanceof O},O.fromNode=O.fromCallback=function(L){var S=new O(w);S._captureStackTrace();var C=arguments.length>1&&!!Object(arguments[1]).multiArgs,M=G(L)(R(S,C));return M===P&&S._rejectCallback(M.e,!0),S._isFateSealed()||S._setAsyncGuaranteed(),S},O.all=function(L){return new N(L).promise()},O.cast=function(L){var S=I(L);return S instanceof O||((S=new O(w))._captureStackTrace(),S._setFulfilled(),S._rejectionHandler0=L),S},O.resolve=O.fulfilled=O.cast,O.reject=O.rejected=function(L){var S=new O(w);return S._captureStackTrace(),S._rejectCallback(L,!0),S},O.setScheduler=function(L){if(typeof L!="function")throw new $("expecting a function but got "+v.classString(L));return b.setScheduler(L)},O.prototype._then=function(L,S,C,M,H){var F=H!==void 0,W=F?H:new O(w),Q=this._target(),V=Q._bitField;F||(W._propagateFrom(this,3),W._captureStackTrace(),M===void 0&&2097152&this._bitField&&(M=50397184&V?this._boundValue():Q===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,W));var et=g();if(50397184&V){var at,nt,X=Q._settlePromiseCtx;33554432&V?(nt=Q._rejectionHandler0,at=L):16777216&V?(nt=Q._fulfillmentHandler0,at=S,Q._unsetRejectionIsUnhandled()):(X=Q._settlePromiseLateCancellationObserver,nt=new x("late cancellation observer"),Q._attachExtraTrace(nt),at=S),b.invoke(X,Q,{handler:et===null?at:typeof at=="function"&&v.domainBind(et,at),promise:W,receiver:M,value:nt})}else Q._addCallbacks(L,S,W,M,et);return W},O.prototype._length=function(){return 65535&this._bitField},O.prototype._isFateSealed=function(){return(117506048&this._bitField)!=0},O.prototype._isFollowing=function(){return(67108864&this._bitField)==67108864},O.prototype._setLength=function(L){this._bitField=-65536&this._bitField|65535&L},O.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},O.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},O.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},O.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},O.prototype._isFinal=function(){return(4194304&this._bitField)>0},O.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},O.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},O.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},O.prototype._setAsyncGuaranteed=function(){b.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},O.prototype._receiverAt=function(L){var S=L===0?this._receiver0:this[4*L-4+3];if(S!==p)return S===void 0&&this._isBound()?this._boundValue():S},O.prototype._promiseAt=function(L){return this[4*L-4+2]},O.prototype._fulfillmentHandlerAt=function(L){return this[4*L-4+0]},O.prototype._rejectionHandlerAt=function(L){return this[4*L-4+1]},O.prototype._boundValue=function(){},O.prototype._migrateCallback0=function(L){L._bitField;var S=L._fulfillmentHandler0,C=L._rejectionHandler0,M=L._promise0,H=L._receiverAt(0);H===void 0&&(H=p),this._addCallbacks(S,C,M,H,null)},O.prototype._migrateCallbackAt=function(L,S){var C=L._fulfillmentHandlerAt(S),M=L._rejectionHandlerAt(S),H=L._promiseAt(S),F=L._receiverAt(S);F===void 0&&(F=p),this._addCallbacks(C,M,H,F,null)},O.prototype._addCallbacks=function(L,S,C,M,H){var F=this._length();if(F>=65531&&(F=0,this._setLength(0)),F===0)this._promise0=C,this._receiver0=M,typeof L=="function"&&(this._fulfillmentHandler0=H===null?L:v.domainBind(H,L)),typeof S=="function"&&(this._rejectionHandler0=H===null?S:v.domainBind(H,S));else{var W=4*F-4;this[W+2]=C,this[W+3]=M,typeof L=="function"&&(this[W+0]=H===null?L:v.domainBind(H,L)),typeof S=="function"&&(this[W+1]=H===null?S:v.domainBind(H,S))}return this._setLength(F+1),F},O.prototype._proxy=function(L,S){this._addCallbacks(void 0,void 0,S,L,null)},O.prototype._resolveCallback=function(L,S){if(!(117506048&this._bitField)){if(L===this)return this._rejectCallback(a(),!1);var C=I(L,this);if(!(C instanceof O))return this._fulfill(L);S&&this._propagateFrom(C,2);var M=C._target();if(M!==this){var H=M._bitField;if(50397184&H)if(33554432&H)this._fulfill(M._value());else if(16777216&H)this._reject(M._reason());else{var Q=new x("late cancellation observer");M._attachExtraTrace(Q),this._reject(Q)}else{var F=this._length();F>0&&M._migrateCallback0(this);for(var W=1;W<F;++W)M._migrateCallbackAt(this,W);this._setFollowing(),this._setLength(0),this._setFollowee(M)}}else this._reject(a())}},O.prototype._rejectCallback=function(L,S,C){var M=v.ensureErrorObject(L),H=M===L;if(!H&&!C&&z.warnings()){var F="a promise was rejected with a non-error: "+v.classString(L);this._warn(F,!0)}this._attachExtraTrace(M,!!S&&H),this._reject(L)},O.prototype._resolveFromExecutor=function(L){if(L!==w){var S=this;this._captureStackTrace(),this._pushContext();var C=!0,M=this._execute(L,function(H){S._resolveCallback(H)},function(H){S._rejectCallback(H,C)});C=!1,this._popContext(),M!==void 0&&S._rejectCallback(M,!0)}},O.prototype._settlePromiseFromHandler=function(L,S,C,M){var H=M._bitField;if(!(65536&H)){var F;M._pushContext(),S===T?C&&typeof C.length=="number"?F=G(L).apply(this._boundValue(),C):(F=P).e=new $("cannot .spread() a non-array: "+v.classString(C)):F=G(L).call(S,C);var W=M._popContext();!(65536&(H=M._bitField))&&(F===A?M._reject(C):F===P?M._rejectCallback(F.e,!1):(z.checkForgottenReturns(F,W,"",M,this),M._resolveCallback(F)))}},O.prototype._target=function(){for(var L=this;L._isFollowing();)L=L._followee();return L},O.prototype._followee=function(){return this._rejectionHandler0},O.prototype._setFollowee=function(L){this._rejectionHandler0=L},O.prototype._settlePromise=function(L,S,C,M){var H=L instanceof O,F=this._bitField,W=(134217728&F)!=0;65536&F?(H&&L._invokeInternalOnCancel(),C instanceof K&&C.isFinallyHandler()?(C.cancelPromise=L,G(S).call(C,M)===P&&L._reject(P.e)):S===l?L._fulfill(l.call(C)):C instanceof f?C._promiseCancelled(L):H||L instanceof N?L._cancel():C.cancel()):typeof S=="function"?H?(W&&L._setAsyncGuaranteed(),this._settlePromiseFromHandler(S,C,M,L)):S.call(C,M,L):C instanceof f?C._isResolved()||(33554432&F?C._promiseFulfilled(M,L):C._promiseRejected(M,L)):H&&(W&&L._setAsyncGuaranteed(),33554432&F?L._fulfill(M):L._reject(M))},O.prototype._settlePromiseLateCancellationObserver=function(L){var S=L.handler,C=L.promise,M=L.receiver,H=L.value;typeof S=="function"?C instanceof O?this._settlePromiseFromHandler(S,M,H,C):S.call(M,H,C):C instanceof O&&C._reject(H)},O.prototype._settlePromiseCtx=function(L){this._settlePromise(L.promise,L.handler,L.receiver,L.value)},O.prototype._settlePromise0=function(L,S,C){var M=this._promise0,H=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(M,L,H,S)},O.prototype._clearCallbackDataAtIndex=function(L){var S=4*L-4;this[S+2]=this[S+3]=this[S+0]=this[S+1]=void 0},O.prototype._fulfill=function(L){var S=this._bitField;if(!((117506048&S)>>>16)){if(L===this){var C=a();return this._attachExtraTrace(C),this._reject(C)}this._setFulfilled(),this._rejectionHandler0=L,(65535&S)>0&&(134217728&S?this._settlePromises():b.settlePromises(this),this._dereferenceTrace())}},O.prototype._reject=function(L){var S=this._bitField;if(!((117506048&S)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=L,this._isFinal())return b.fatalError(L,v.isNode);(65535&S)>0?b.settlePromises(this):this._ensurePossibleRejectionHandled()}},O.prototype._fulfillPromises=function(L,S){for(var C=1;C<L;C++){var M=this._fulfillmentHandlerAt(C),H=this._promiseAt(C),F=this._receiverAt(C);this._clearCallbackDataAtIndex(C),this._settlePromise(H,M,F,S)}},O.prototype._rejectPromises=function(L,S){for(var C=1;C<L;C++){var M=this._rejectionHandlerAt(C),H=this._promiseAt(C),F=this._receiverAt(C);this._clearCallbackDataAtIndex(C),this._settlePromise(H,M,F,S)}},O.prototype._settlePromises=function(){var L=this._bitField,S=65535&L;if(S>0){if(16842752&L){var C=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,C,L),this._rejectPromises(S,C)}else{var M=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,M,L),this._fulfillPromises(S,M)}this._setLength(0)}this._clearCancellationData()},O.prototype._settledValue=function(){var L=this._bitField;return 33554432&L?this._rejectionHandler0:16777216&L?this._fulfillmentHandler0:void 0},O.defer=O.pending=function(){return z.deprecated("Promise.defer","new Promise"),{promise:new O(w),resolve:Y,reject:q}},v.notEnumerableProp(O,"_makeSelfResolutionError",a),t("./method")(O,w,I,d,z),t("./bind")(O,w,I,z),t("./cancel")(O,N,d,z),t("./direct_resolve")(O),t("./synchronous_inspection")(O),t("./join")(O,N,I,w,b,g),O.Promise=O,O.version="3.5.4",t("./map.js")(O,N,d,I,w,z),t("./call_get.js")(O),t("./using.js")(O,d,I,B,w,z),t("./timers.js")(O,w,z),t("./generators.js")(O,d,w,I,f,z),t("./nodeify.js")(O),t("./promisify.js")(O,w),t("./props.js")(O,N,I,d),t("./race.js")(O,w,I,d),t("./reduce.js")(O,N,d,I,w,z),t("./settle.js")(O,N,z),t("./some.js")(O,N,d),t("./filter.js")(O,w),t("./each.js")(O,w),t("./any.js")(O),v.toFastProperties(O),v.toFastProperties(O.prototype),U({a:1}),U({b:2}),U({c:3}),U(1),U(function(){}),U(void 0),U(!1),U(new O(w)),z.setBounds(m.firstLineError,v.lastLineError),O}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,o){n.exports=function(a,l,d,f,g){var p=t("./util");p.isArray;function v(y){var m=this._promise=new a(l);y instanceof a&&m._propagateFrom(y,3),m._setOnCancel(this),this._values=y,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return p.inherits(v,g),v.prototype.length=function(){return this._length},v.prototype.promise=function(){return this._promise},v.prototype._init=function y(m,b){var k=d(this._values,this._promise);if(k instanceof a){var $=(k=k._target())._bitField;if(this._values=k,(50397184&$)==0)return this._promise._setAsyncGuaranteed(),k._then(y,this._reject,void 0,this,b);if(!(33554432&$))return 16777216&$?this._reject(k._reason()):this._cancel();k=k._value()}if((k=p.asArray(k))!==null)k.length!==0?this._iterate(k):b===-5?this._resolveEmptyArray():this._resolve(function(w){switch(w){case-2:return[];case-3:return{};case-6:return new Map}}(b));else{var x=f("expecting an array or an iterable object but got "+p.classString(k)).reason();this._promise._rejectCallback(x,!1)}},v.prototype._iterate=function(y){var m=this.getActualLength(y.length);this._length=m,this._values=this.shouldCopyValues()?new Array(m):this._values;for(var b=this._promise,k=!1,$=null,x=0;x<m;++x){var w=d(y[x],b);$=w instanceof a?(w=w._target())._bitField:null,k?$!==null&&w.suppressUnhandledRejections():$!==null?50397184&$?k=33554432&$?this._promiseFulfilled(w._value(),x):16777216&$?this._promiseRejected(w._reason(),x):this._promiseCancelled(x):(w._proxy(this,x),this._values[x]=w):k=this._promiseFulfilled(w,x)}k||b._setAsyncGuaranteed()},v.prototype._isResolved=function(){return this._values===null},v.prototype._resolve=function(y){this._values=null,this._promise._fulfill(y)},v.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},v.prototype._reject=function(y){this._values=null,this._promise._rejectCallback(y,!1)},v.prototype._promiseFulfilled=function(y,m){return this._values[m]=y,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},v.prototype._promiseCancelled=function(){return this._cancel(),!0},v.prototype._promiseRejected=function(y){return this._totalResolved++,this._reject(y),!0},v.prototype._resultCancelled=function(){if(!this._isResolved()){var y=this._values;if(this._cancel(),y instanceof a)y.cancel();else for(var m=0;m<y.length;++m)y[m]instanceof a&&y[m].cancel()}},v.prototype.shouldCopyValues=function(){return!0},v.prototype.getActualLength=function(y){return y},v}},{"./util":36}],24:[function(t,n,o){n.exports=function(a,l){var d={},f=t("./util"),g=t("./nodeback"),p=f.withAppended,v=f.maybeWrapAsError,y=f.canEvaluate,m=t("./errors").TypeError,b={__isPromisified__:!0},k=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),$=function(B){return f.isIdentifier(B)&&B.charAt(0)!=="_"&&B!=="constructor"};function x(B){return!k.test(B)}function w(B){try{return B.__isPromisified__===!0}catch{return!1}}function T(B,z,K){var J=f.getDataPropertyOrDefault(B,z+K,b);return!!J&&w(J)}function A(B,z,K,J){for(var R=f.inheritedDataKeys(B),P=[],G=0;G<R.length;++G){var O=R[G],Y=B[O],q=J===$||$(O);typeof Y!="function"||w(Y)||T(B,O,z)||!J(O,Y,B,q)||P.push(O,Y)}return function(U,L,S){for(var C=0;C<U.length;C+=2){var M=U[C];if(S.test(M)){for(var H=M.replace(S,""),F=0;F<U.length;F+=2)if(U[F]===H)throw new m(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",L))}}}(P,z,K),P}var I=function(B){return B.replace(/([$])/,"\\$")},N=y?void 0:function(B,z,K,J,R,P){var G=function(){return this}(),O=B;function Y(){var q=z;z===d&&(q=this);var U=new a(l);U._captureStackTrace();var L=typeof O=="string"&&this!==G?this[O]:B,S=g(U,P);try{L.apply(q,p(arguments,S))}catch(C){U._rejectCallback(v(C),!0,!0)}return U._isFateSealed()||U._setAsyncGuaranteed(),U}return typeof O=="string"&&(B=J),f.notEnumerableProp(Y,"__isPromisified__",!0),Y};function j(B,z,K,J,R){for(var P=new RegExp(I(z)+"$"),G=A(B,z,P,K),O=0,Y=G.length;O<Y;O+=2){var q=G[O],U=G[O+1],L=q+z;if(J===N)B[L]=N(q,d,q,U,z,R);else{var S=J(U,function(){return N(q,d,q,U,z,R)});f.notEnumerableProp(S,"__isPromisified__",!0),B[L]=S}}return f.toFastProperties(B),B}a.promisify=function(B,z){if(typeof B!="function")throw new m("expecting a function but got "+f.classString(B));if(w(B))return B;var K=function(J,R,P){return N(J,R,void 0,J,null,P)}(B,(z=Object(z)).context===void 0?d:z.context,!!z.multiArgs);return f.copyDescriptors(B,K,x),K},a.promisifyAll=function(B,z){if(typeof B!="function"&&e(B)!=="object")throw new m(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);var K=!!(z=Object(z)).multiArgs,J=z.suffix;typeof J!="string"&&(J="Async");var R=z.filter;typeof R!="function"&&(R=$);var P=z.promisifier;if(typeof P!="function"&&(P=N),!f.isIdentifier(J))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var G=f.inheritedDataKeys(B),O=0;O<G.length;++O){var Y=B[G[O]];G[O]!=="constructor"&&f.isClass(Y)&&(j(Y.prototype,J,R,P,K),j(Y,J,R,P,K))}return j(B,J,R,P,K)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,o){n.exports=function(a,l,d,f){var g,p=t("./util"),v=p.isObject,y=t("./es5");typeof Map=="function"&&(g=Map);var m=function(){var $=0,x=0;function w(T,A){this[$]=T,this[$+x]=A,$++}return function(T){x=T.size,$=0;var A=new Array(2*T.size);return T.forEach(w,A),A}}();function b($){var x,w=!1;if(g!==void 0&&$ instanceof g)x=m($),w=!0;else{var T=y.keys($),A=T.length;x=new Array(2*A);for(var I=0;I<A;++I){var N=T[I];x[I]=$[N],x[I+A]=N}}this.constructor$(x),this._isMap=w,this._init$(void 0,w?-6:-3)}function k($){var x,w=d($);return v(w)?(x=w instanceof a?w._then(a.props,void 0,void 0,void 0,void 0):new b(w).promise(),w instanceof a&&x._propagateFrom(w,2),x):f(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`)}p.inherits(b,l),b.prototype._init=function(){},b.prototype._promiseFulfilled=function($,x){if(this._values[x]=$,++this._totalResolved>=this._length){var w;if(this._isMap)w=function(N){for(var j=new g,B=N.length/2|0,z=0;z<B;++z){var K=N[B+z],J=N[z];j.set(K,J)}return j}(this._values);else{w={};for(var T=this.length(),A=0,I=this.length();A<I;++A)w[this._values[A+T]]=this._values[A]}return this._resolve(w),!0}return!1},b.prototype.shouldCopyValues=function(){return!1},b.prototype.getActualLength=function($){return $>>1},a.prototype.props=function(){return k(this)},a.props=function($){return k($)}}},{"./es5":13,"./util":36}],26:[function(t,n,o){function a(l){this._capacity=l,this._length=0,this._front=0}a.prototype._willBeOverCapacity=function(l){return this._capacity<l},a.prototype._pushOne=function(l){var d=this.length();this._checkCapacity(d+1),this[this._front+d&this._capacity-1]=l,this._length=d+1},a.prototype.push=function(l,d,f){var g=this.length()+3;if(this._willBeOverCapacity(g))return this._pushOne(l),this._pushOne(d),void this._pushOne(f);var p=this._front+g-3;this._checkCapacity(g);var v=this._capacity-1;this[p+0&v]=l,this[p+1&v]=d,this[p+2&v]=f,this._length=g},a.prototype.shift=function(){var l=this._front,d=this[l];return this[l]=void 0,this._front=l+1&this._capacity-1,this._length--,d},a.prototype.length=function(){return this._length},a.prototype._checkCapacity=function(l){this._capacity<l&&this._resizeTo(this._capacity<<1)},a.prototype._resizeTo=function(l){var d=this._capacity;this._capacity=l,function(f,g,p,v,y){for(var m=0;m<y;++m)p[m+v]=f[m+g],f[m+g]=void 0}(this,0,this,d,this._front+this._length&d-1)},n.exports=a},{}],27:[function(t,n,o){n.exports=function(a,l,d,f){var g=t("./util"),p=function(y){return y.then(function(m){return v(m,y)})};function v(y,m){var b=d(y);if(b instanceof a)return p(b);if((y=g.asArray(y))===null)return f("expecting an array or an iterable object but got "+g.classString(y));var k=new a(l);m!==void 0&&k._propagateFrom(m,3);for(var $=k._fulfill,x=k._reject,w=0,T=y.length;w<T;++w){var A=y[w];(A!==void 0||w in y)&&a.cast(A)._then($,x,void 0,k,null)}return k}a.race=function(y){return v(y,void 0)},a.prototype.race=function(){return v(this,void 0)}}},{"./util":36}],28:[function(t,n,o){n.exports=function(a,l,d,f,g,p){var v=a._getDomain,y=t("./util"),m=y.tryCatch;function b(T,A,I,N){this.constructor$(T);var j=v();this._fn=j===null?A:y.domainBind(j,A),I!==void 0&&(I=a.resolve(I))._attachCancellationCallback(this),this._initialValue=I,this._currentCancellable=null,this._eachValues=N===g?Array(this._length):N===0?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function k(T,A){this.isFulfilled()?A._resolve(T):A._reject(T)}function $(T,A,I,N){return typeof A!="function"?d("expecting a function but got "+y.classString(A)):new b(T,A,I,N).promise()}function x(T){this.accum=T,this.array._gotAccum(T);var A=f(this.value,this.array._promise);return A instanceof a?(this.array._currentCancellable=A,A._then(w,void 0,void 0,this,void 0)):w.call(this,A)}function w(T){var A,I=this.array,N=I._promise,j=m(I._fn);N._pushContext(),(A=I._eachValues!==void 0?j.call(N._boundValue(),T,this.index,this.length):j.call(N._boundValue(),this.accum,T,this.index,this.length))instanceof a&&(I._currentCancellable=A);var B=N._popContext();return p.checkForgottenReturns(A,B,I._eachValues!==void 0?"Promise.each":"Promise.reduce",N),A}y.inherits(b,l),b.prototype._gotAccum=function(T){this._eachValues!==void 0&&this._eachValues!==null&&T!==g&&this._eachValues.push(T)},b.prototype._eachComplete=function(T){return this._eachValues!==null&&this._eachValues.push(T),this._eachValues},b.prototype._init=function(){},b.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},b.prototype.shouldCopyValues=function(){return!1},b.prototype._resolve=function(T){this._promise._resolveCallback(T),this._values=null},b.prototype._resultCancelled=function(T){if(T===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof a&&this._currentCancellable.cancel(),this._initialValue instanceof a&&this._initialValue.cancel())},b.prototype._iterate=function(T){var A,I;this._values=T;var N=T.length;if(this._initialValue!==void 0?(A=this._initialValue,I=0):(A=a.resolve(T[0]),I=1),this._currentCancellable=A,!A.isRejected())for(;I<N;++I){var j={accum:null,value:T[I],index:I,length:N,array:this};A=A._then(x,void 0,void 0,j,void 0)}this._eachValues!==void 0&&(A=A._then(this._eachComplete,void 0,void 0,this,void 0)),A._then(k,k,void 0,A,this)},a.prototype.reduce=function(T,A){return $(this,T,A,null)},a.reduce=function(T,A,I,N){return $(T,A,I,N)}}},{"./util":36}],29:[function(t,n,o){var a,l=t("./util"),d=l.getNativePromise();if(l.isNode&&typeof MutationObserver>"u"){var f=u.setImmediate,g=_.nextTick;a=l.isRecentNode?function(v){f.call(u,v)}:function(v){g.call(_,v)}}else if(typeof d=="function"&&typeof d.resolve=="function"){var p=d.resolve();a=function(v){p.then(v)}}else a=typeof MutationObserver>"u"||typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova)?s!==void 0?function(v){s(v)}:typeof setTimeout<"u"?function(v){setTimeout(v,0)}:function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}:function(){var v=document.createElement("div"),y={attributes:!0},m=!1,b=document.createElement("div");return new MutationObserver(function(){v.classList.toggle("foo"),m=!1}).observe(b,y),function(k){var $=new MutationObserver(function(){$.disconnect(),k()});$.observe(v,y),m||(m=!0,b.classList.toggle("foo"))}}();n.exports=a},{"./util":36}],30:[function(t,n,o){n.exports=function(a,l,d){var f=a.PromiseInspection;function g(p){this.constructor$(p)}t("./util").inherits(g,l),g.prototype._promiseResolved=function(p,v){return this._values[p]=v,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},g.prototype._promiseFulfilled=function(p,v){var y=new f;return y._bitField=33554432,y._settledValueField=p,this._promiseResolved(v,y)},g.prototype._promiseRejected=function(p,v){var y=new f;return y._bitField=16777216,y._settledValueField=p,this._promiseResolved(v,y)},a.settle=function(p){return d.deprecated(".settle()",".reflect()"),new g(p).promise()},a.prototype.settle=function(){return a.settle(this)}}},{"./util":36}],31:[function(t,n,o){n.exports=function(a,l,d){var f=t("./util"),g=t("./errors").RangeError,p=t("./errors").AggregateError,v=f.isArray,y={};function m(k){this.constructor$(k),this._howMany=0,this._unwrap=!1,this._initialized=!1}function b(k,$){if((0|$)!==$||$<0)return d(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var x=new m(k),w=x.promise();return x.setHowMany($),x.init(),w}f.inherits(m,l),m.prototype._init=function(){if(this._initialized)if(this._howMany!==0){this._init$(void 0,-5);var k=v(this._values);!this._isResolved()&&k&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},m.prototype.init=function(){this._initialized=!0,this._init()},m.prototype.setUnwrap=function(){this._unwrap=!0},m.prototype.howMany=function(){return this._howMany},m.prototype.setHowMany=function(k){this._howMany=k},m.prototype._promiseFulfilled=function(k){return this._addFulfilled(k),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},m.prototype._promiseRejected=function(k){return this._addRejected(k),this._checkOutcome()},m.prototype._promiseCancelled=function(){return this._values instanceof a||this._values==null?this._cancel():(this._addRejected(y),this._checkOutcome())},m.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var k=new p,$=this.length();$<this._values.length;++$)this._values[$]!==y&&k.push(this._values[$]);return k.length>0?this._reject(k):this._cancel(),!0}return!1},m.prototype._fulfilled=function(){return this._totalResolved},m.prototype._rejected=function(){return this._values.length-this.length()},m.prototype._addRejected=function(k){this._values.push(k)},m.prototype._addFulfilled=function(k){this._values[this._totalResolved++]=k},m.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},m.prototype._getRangeError=function(k){var $="Input array must contain at least "+this._howMany+" items but contains only "+k+" items";return new g($)},m.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},a.some=function(k,$){return b(k,$)},a.prototype.some=function(k){return b(this,k)},a._SomePromiseArray=m}},{"./errors":12,"./util":36}],32:[function(t,n,o){n.exports=function(a){function l(m){m!==void 0?(m=m._target(),this._bitField=m._bitField,this._settledValueField=m._isFateSealed()?m._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}l.prototype._settledValue=function(){return this._settledValueField};var d=l.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},f=l.prototype.error=l.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},g=l.prototype.isFulfilled=function(){return(33554432&this._bitField)!=0},p=l.prototype.isRejected=function(){return(16777216&this._bitField)!=0},v=l.prototype.isPending=function(){return(50397184&this._bitField)==0},y=l.prototype.isResolved=function(){return(50331648&this._bitField)!=0};l.prototype.isCancelled=function(){return(8454144&this._bitField)!=0},a.prototype.__isCancelled=function(){return(65536&this._bitField)==65536},a.prototype._isCancelled=function(){return this._target().__isCancelled()},a.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!=0},a.prototype.isPending=function(){return v.call(this._target())},a.prototype.isRejected=function(){return p.call(this._target())},a.prototype.isFulfilled=function(){return g.call(this._target())},a.prototype.isResolved=function(){return y.call(this._target())},a.prototype.value=function(){return d.call(this._target())},a.prototype.reason=function(){var m=this._target();return m._unsetRejectionIsUnhandled(),f.call(m)},a.prototype._value=function(){return this._settledValue()},a.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},a.PromiseInspection=l}},{}],33:[function(t,n,o){n.exports=function(a,l){var d=t("./util"),f=d.errorObj,g=d.isObject,p={}.hasOwnProperty;return function(v,y){if(g(v)){if(v instanceof a)return v;var m=function(k){try{return function($){return $.then}(k)}catch($){return f.e=$,f}}(v);if(m===f){y&&y._pushContext();var b=a.reject(m.e);return y&&y._popContext(),b}if(typeof m=="function")return function(k){try{return p.call(k,"_promise0")}catch{return!1}}(v)?(b=new a(l),v._then(b._fulfill,b._reject,void 0,b,null),b):function(k,$,x){var w=new a(l),T=w;x&&x._pushContext(),w._captureStackTrace(),x&&x._popContext();var A=!0,I=d.tryCatch($).call(k,function(N){w&&(w._resolveCallback(N),w=null)},function(N){w&&(w._rejectCallback(N,A,!0),w=null)});return A=!1,w&&I===f&&(w._rejectCallback(I.e,!0,!0),w=null),T}(v,m,y)}return v}}},{"./util":36}],34:[function(t,n,o){n.exports=function(a,l,d){var f=t("./util"),g=a.TimeoutError;function p(k){this.handle=k}p.prototype._resultCancelled=function(){clearTimeout(this.handle)};var v=function(k){return y(+this).thenReturn(k)},y=a.delay=function(k,$){var x,w;return $!==void 0?(x=a.resolve($)._then(v,null,null,k,void 0),d.cancellation()&&$ instanceof a&&x._setOnCancel($)):(x=new a(l),w=setTimeout(function(){x._fulfill()},+k),d.cancellation()&&x._setOnCancel(new p(w)),x._captureStackTrace()),x._setAsyncGuaranteed(),x};a.prototype.delay=function(k){return y(k,this)};function m(k){return clearTimeout(this.handle),k}function b(k){throw clearTimeout(this.handle),k}a.prototype.timeout=function(k,$){var x,w;k=+k;var T=new p(setTimeout(function(){x.isPending()&&function(A,I,N){var j;j=typeof I!="string"?I instanceof Error?I:new g("operation timed out"):new g(I),f.markAsOriginatingFromRejection(j),A._attachExtraTrace(j),A._reject(j),N!=null&&N.cancel()}(x,$,w)},k));return d.cancellation()?(w=this.then(),(x=w._then(m,b,void 0,T,void 0))._setOnCancel(T)):x=this._then(m,b,void 0,T,void 0),x}}},{"./util":36}],35:[function(t,n,o){n.exports=function(a,l,d,f,g,p){var v=t("./util"),y=t("./errors").TypeError,m=t("./util").inherits,b=v.errorObj,k=v.tryCatch,$={};function x(j){setTimeout(function(){throw j},0)}function w(j,B){var z=0,K=j.length,J=new a(g);return function R(){if(z>=K)return J._fulfill();var P=function(G){var O=d(G);return O!==G&&typeof G._isDisposable=="function"&&typeof G._getDisposer=="function"&&G._isDisposable()&&O._setDisposable(G._getDisposer()),O}(j[z++]);if(P instanceof a&&P._isDisposable()){try{P=d(P._getDisposer().tryDispose(B),j.promise)}catch(G){return x(G)}if(P instanceof a)return P._then(R,x,null,null,null)}R()}(),J}function T(j,B,z){this._data=j,this._promise=B,this._context=z}function A(j,B,z){this.constructor$(j,B,z)}function I(j){return T.isDisposer(j)?(this.resources[this.index]._setDisposable(j),j.promise()):j}function N(j){this.length=j,this.promise=null,this[j-1]=null}T.prototype.data=function(){return this._data},T.prototype.promise=function(){return this._promise},T.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():$},T.prototype.tryDispose=function(j){var B=this.resource(),z=this._context;z!==void 0&&z._pushContext();var K=B!==$?this.doDispose(B,j):null;return z!==void 0&&z._popContext(),this._promise._unsetDisposable(),this._data=null,K},T.isDisposer=function(j){return j!=null&&typeof j.resource=="function"&&typeof j.tryDispose=="function"},m(A,T),A.prototype.doDispose=function(j,B){return this.data().call(j,j,B)},N.prototype._resultCancelled=function(){for(var j=this.length,B=0;B<j;++B){var z=this[B];z instanceof a&&z.cancel()}},a.using=function(){var j=arguments.length;if(j<2)return l("you must pass at least 2 arguments to Promise.using");var B,z=arguments[j-1];if(typeof z!="function")return l("expecting a function but got "+v.classString(z));var K=!0;j===2&&Array.isArray(arguments[0])?(j=(B=arguments[0]).length,K=!1):(B=arguments,j--);for(var J=new N(j),R=0;R<j;++R){var P=B[R];if(T.isDisposer(P)){var G=P;(P=P.promise())._setDisposable(G)}else{var O=d(P);O instanceof a&&(P=O._then(I,null,null,{resources:J,index:R},void 0))}J[R]=P}var Y=new Array(J.length);for(R=0;R<Y.length;++R)Y[R]=a.resolve(J[R]).reflect();var q=a.all(Y).then(function(L){for(var S=0;S<L.length;++S){var C=L[S];if(C.isRejected())return b.e=C.error(),b;if(!C.isFulfilled())return void q.cancel();L[S]=C.value()}U._pushContext(),z=k(z);var M=K?z.apply(void 0,L):z(L),H=U._popContext();return p.checkForgottenReturns(M,H,"Promise.using",U),M}),U=q.lastly(function(){var L=new a.PromiseInspection(q);return w(J,L)});return J.promise=U,U._setOnCancel(J),U},a.prototype._setDisposable=function(j){this._bitField=131072|this._bitField,this._disposer=j},a.prototype._isDisposable=function(){return(131072&this._bitField)>0},a.prototype._getDisposer=function(){return this._disposer},a.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},a.prototype.disposer=function(j){if(typeof j=="function")return new A(j,this,f());throw new y}}},{"./errors":12,"./util":36}],36:[function(t,n,o){var a=t("./es5"),l=typeof navigator>"u",d={e:{}},f,g=typeof self<"u"?self:typeof window<"u"?window:u!==void 0?u:this!==void 0?this:null;function p(){try{var V=f;return f=null,V.apply(this,arguments)}catch(et){return d.e=et,d}}function v(V){return f=V,p}var y=function(V,et){var at={}.hasOwnProperty;function nt(){for(var X in this.constructor=V,this.constructor$=et,et.prototype)at.call(et.prototype,X)&&X.charAt(X.length-1)!=="$"&&(this[X+"$"]=et.prototype[X])}return nt.prototype=et.prototype,V.prototype=new nt,V.prototype};function m(V){return V==null||V===!0||V===!1||typeof V=="string"||typeof V=="number"}function b(V){return typeof V=="function"||e(V)==="object"&&V!==null}function k(V){return m(V)?new Error(J(V)):V}function $(V,et){var at,nt=V.length,X=new Array(nt+1);for(at=0;at<nt;++at)X[at]=V[at];return X[at]=et,X}function x(V,et,at){if(!a.isES5)return{}.hasOwnProperty.call(V,et)?V[et]:void 0;var nt=Object.getOwnPropertyDescriptor(V,et);return nt!=null?nt.get==null&&nt.set==null?nt.value:at:void 0}function w(V,et,at){if(m(V))return V;var nt={value:at,configurable:!0,enumerable:!1,writable:!0};return a.defineProperty(V,et,nt),V}function T(V){throw V}var A=function(){var V=[Array.prototype,Object.prototype,Function.prototype],et=function(X){for(var ot=0;ot<V.length;++ot)if(V[ot]===X)return!0;return!1};if(a.isES5){var at=Object.getOwnPropertyNames;return function(X){for(var ot=[],st=Object.create(null);X!=null&&!et(X);){var ct;try{ct=at(X)}catch{return ot}for(var ht=0;ht<ct.length;++ht){var _t=ct[ht];if(!st[_t]){st[_t]=!0;var xt=Object.getOwnPropertyDescriptor(X,_t);xt!=null&&xt.get==null&&xt.set==null&&ot.push(_t)}}X=a.getPrototypeOf(X)}return ot}}var nt={}.hasOwnProperty;return function(X){if(et(X))return[];var ot=[];t:for(var st in X)if(nt.call(X,st))ot.push(st);else{for(var ct=0;ct<V.length;++ct)if(nt.call(V[ct],st))continue t;ot.push(st)}return ot}}(),I=/this\s*\.\s*\S+\s*=/;function N(V){try{if(typeof V=="function"){var et=a.names(V.prototype),at=a.isES5&&et.length>1,nt=et.length>0&&!(et.length===1&&et[0]==="constructor"),X=I.test(V+"")&&a.names(V).length>0;if(at||nt||X)return!0}return!1}catch{return!1}}function j(V){function et(){}et.prototype=V;var at=new et;function nt(){return e(at.foo)}return nt(),nt(),V}var B=/^[a-z$_][a-z$_0-9]*$/i;function z(V){return B.test(V)}function K(V,et,at){for(var nt=new Array(V),X=0;X<V;++X)nt[X]=et+X+at;return nt}function J(V){try{return V+""}catch{return"[no string representation]"}}function R(V){return V instanceof Error||V!==null&&e(V)==="object"&&typeof V.message=="string"&&typeof V.name=="string"}function P(V){try{w(V,"isOperational",!0)}catch{}}function G(V){return V!=null&&(V instanceof Error.__BluebirdErrorTypes__.OperationalError||V.isOperational===!0)}function O(V){return R(V)&&a.propertyIsWritable(V,"stack")}var Y="stack"in new Error?function(V){return O(V)?V:new Error(J(V))}:function(V){if(O(V))return V;try{throw new Error(J(V))}catch(et){return et}};function q(V){return{}.toString.call(V)}function U(V,et,at){for(var nt=a.names(V),X=0;X<nt.length;++X){var ot=nt[X];if(at(ot))try{a.defineProperty(et,ot,a.getDescriptor(V,ot))}catch{}}}var L=function(V){return a.isArray(V)?V:null};if(typeof Symbol<"u"&&Symbol.iterator){var S=typeof Array.from=="function"?function(V){return Array.from(V)}:function(V){for(var et,at=[],nt=V[Symbol.iterator]();!(et=nt.next()).done;)at.push(et.value);return at};L=function(V){return a.isArray(V)?V:V!=null&&typeof V[Symbol.iterator]=="function"?S(V):null}}var C=_!==void 0&&q(_).toLowerCase()==="[object process]",M=_!==void 0&&_.env!==void 0;function H(V){return M?_.env[V]:void 0}function F(){if(typeof Promise=="function")try{var V=new Promise(function(){});if({}.toString.call(V)==="[object Promise]")return Promise}catch{}}function W(V,et){return V.bind(et)}var Q={isClass:N,isIdentifier:z,inheritedDataKeys:A,getDataPropertyOrDefault:x,thrower:T,isArray:a.isArray,asArray:L,notEnumerableProp:w,isPrimitive:m,isObject:b,isError:R,canEvaluate:l,errorObj:d,tryCatch:v,inherits:y,withAppended:$,maybeWrapAsError:k,toFastProperties:j,filledRange:K,toString:J,canAttachTrace:O,ensureErrorObject:Y,originatesFromRejection:G,markAsOriginatingFromRejection:P,classString:q,copyDescriptors:U,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:C,hasEnvVariables:M,env:H,global:g,getNativePromise:F,domainBind:W};Q.isRecentNode=Q.isNode&&function(){var V;return _.versions&&_.versions.node?V=_.versions.node.split(".").map(Number):_.version&&(V=_.version.split(".").map(Number)),V[0]===0&&V[1]>10||V[0]>0}(),Q.isNode&&Q.toFastProperties(_);try{throw new Error}catch(V){Q.lastLineError=V}n.exports=Q},{"./es5":13}]},{},[4])(4)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}).call(this,h(9),h(4),h(57).setImmediate)},function(D,E,h){D.exports=h(233)},function(D,E,h){var _=h(0);D.exports=function(){var u={};return{getState:function(s){if(u[s])return u[s].method();var c={};for(var i in u)u[i].internal||_.mixin(c,u[i].method(),!0);return c},registerProvider:function(s,c,i){u[s]={method:c,internal:i}},unregisterProvider:function(s){delete u[s]}}}},function(D,E){D.exports=function(h){var _={};function u(s,c,i){i=i||s;var r=h.config,e=h.templates;h.config[s]&&_[i]!=r[s]&&(c&&e[i]||(e[i]=h.date.date_to_str(r[s]),_[i]=r[s]))}return{initTemplates:function(){var s=h.locale.labels;s.gantt_save_btn=s.icon_save,s.gantt_cancel_btn=s.icon_cancel,s.gantt_delete_btn=s.icon_delete;var c=h.date,i=c.date_to_str,r=h.config,e=i(r.xml_date||r.date_format,r.server_utc),t=c.str_to_date(r.xml_date||r.date_format,r.server_utc);u("date_scale",!0,void 0,h.config,h.templates),u("date_grid",!0,"grid_date_format",h.config,h.templates),u("task_date",!0,void 0,h.config,h.templates),h.mixin(h.templates,{xml_format:void 0,format_date:e,xml_date:void 0,parse_date:t,progress_text:function(n,o,a){return""},grid_header_class:function(n,o){return""},task_text:function(n,o,a){return a.text},task_class:function(n,o,a){return""},task_end_date:function(n){return h.templates.task_date(n)},grid_row_class:function(n,o,a){return""},task_row_class:function(n,o,a){return""},timeline_cell_class:function(n,o){return""},timeline_cell_content:function(n,o){return""},scale_cell_class:function(n){return""},scale_row_class:function(n){return""},grid_indent:function(n){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(n){return"<div class='gantt_tree_icon gantt_folder_"+(n.$open?"open":"closed")+"'></div>"},grid_file:function(n){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(n){return"<div class='gantt_tree_icon gantt_"+(n.$open?"close":"open")+"'></div>"},grid_blank:function(n){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(n,o,a){return o&&h.isUnscheduledTask(o)&&h.config.show_unscheduled?h.templates.task_unscheduled_time(o):h.templates.grid_date_format(n,a)},task_time:function(n,o,a){return h.isUnscheduledTask(a)&&h.config.show_unscheduled?h.templates.task_unscheduled_time(a):h.templates.task_date(n)+" - "+h.templates.task_end_date(o)},task_unscheduled_time:function(n){return""},time_picker:i(r.time_picker),link_class:function(n){return""},link_description:function(n){var o=h.getTask(n.source),a=h.getTask(n.target);return"<b>"+o.text+"</b> &ndash;  <b>"+a.text+"</b>"},drag_link:function(n,o,a,l){n=h.getTask(n);var d=h.locale.labels,f="<b>"+n.text+"</b> "+(o?d.link_start:d.link_end)+"<br/>";return a&&(f+="<b> "+(a=h.getTask(a)).text+"</b> "+(l?d.link_start:d.link_end)+"<br/>"),f},drag_link_class:function(n,o,a,l){var d="";return n&&a&&(d=" "+(h.isLinkAllowed(n,a,o,l)?"gantt_link_allow":"gantt_link_deny")),"gantt_link_tooltip"+d},tooltip_date_format:c.date_to_str("%Y-%m-%d"),tooltip_text:function(n,o,a){return"<b>Task:</b> "+a.text+"<br/><b>Start date:</b> "+h.templates.tooltip_date_format(n)+"<br/><b>End date:</b> "+h.templates.tooltip_date_format(o)}})},initTemplate:u}}},function(D,E,h){var _=h(5),u=h(0),s=h(50),c=h(21),i=h(1);D.exports=function(r){function e(n){return{target:n.target||n.srcElement,pageX:n.pageX,pageY:n.pageY,clientX:n.clientX,clientY:n.clientY,metaKey:n.metaKey,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,altKey:n.altKey}}function t(n,o){this._obj=n,this._settings=o||{},_(this);var a=this.getInputMethods();this._drag_start_timer=null,r.attachEvent("onGanttScroll",u.bind(function(f,g){this.clearDragTimer()},this));for(var l={passive:!1},d=0;d<a.length;d++)u.bind(function(f){r.event(n,f.down,u.bind(function(p){f.accessor(p)&&(o.preventDefault&&o.selector&&i.closest(p.target,o.selector)&&p.preventDefault(),r.config.touch&&p.timeStamp&&p.timeStamp-0<300||(this._settings.original_target=e(p),r.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(u.bind(function(){r.getState().lightbox||this.dragStart(n,p,f)},this),r.config.touch_drag)):this.dragStart(n,p,f)))},this),l);var g=document.body;r.event(g,f.up,u.bind(function(p){f.accessor(p)&&this.clearDragTimer()},this),l)},this)(a[d])}return t.prototype={traceDragEvents:function(n,o){var a=u.bind(function(v){return this.dragMove(n,v,o.accessor)},this);u.bind(function(v){return this.dragScroll(n,v)},this);var l=u.bind(function(v){if(!this.config.started||!u.defined(this.config.updates_per_second)||s(this,this.config.updates_per_second)){var y=a(v);if(y)try{v&&v.preventDefault&&v.cancelable&&v.preventDefault()}catch{}return y}},this),d=i.getRootNode(r.$root),f=this.config.mousemoveContainer||i.getRootNode(r.$root),g={passive:!1},p=u.bind(function(v){return r.eventRemove(f,o.move,l),r.eventRemove(d,o.up,p,g),this.dragEnd(n)},this);r.event(f,o.move,l,g),r.event(d,o.up,p,g)},checkPositionChange:function(n){var o=n.x-this.config.pos.x,a=n.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(o),2)+Math.pow(Math.abs(a),2))>this.config.sensitivity},initDnDMarker:function(){var n=this.config.marker=document.createElement("div");n.className="gantt_drag_marker",n.innerHTML="",document.body.appendChild(n)},backupEventTarget:function(n,o){if(r.config.touch){var a=o(n),l=a.target||a.srcElement,d=l.cloneNode(!0);this.config.original_target=e(a),this.config.original_target.target=d,this.config.backup_element=l,l.parentNode.appendChild(d),l.style.display="none",(this.config.mousemoveContainer||document.body).appendChild(l)}},getInputMethods:function(){var n=[];if(n.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(a){return a}}),r.config.touch){var o=!0;try{document.createEvent("TouchEvent")}catch{o=!1}o?n.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(a){return a.touches&&a.touches.length>1?null:a.touches[0]?{target:document.elementFromPoint(a.touches[0].clientX,a.touches[0].clientY),pageX:a.touches[0].pageX,pageY:a.touches[0].pageY,clientX:a.touches[0].clientX,clientY:a.touches[0].clientY}:a}}):c.navigator.pointerEnabled?n.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(a){return a.pointerType=="mouse"?null:a}}):c.navigator.msPointerEnabled&&n.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(a){return a.pointerType==a.MSPOINTER_TYPE_MOUSE?null:a}})}return n},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(n,o,a){this.config&&this.config.started||(this.config={obj:n,marker:null,started:!1,pos:this.getPosition(o),sensitivity:4},this._settings&&u.mixin(this.config,this._settings,!0),this.traceDragEvents(n,a),r._prevent_touch_scroll=!0,document.body.className+=" gantt_noselect",r.config.touch&&this.dragMove(n,o,a.accessor))},dragMove:function(n,o,a){var l=a(o);if(!l)return!1;if(!this.config.marker&&!this.config.started){var d=this.getPosition(l);if(r.config.touch||this.checkPositionChange(d)){if(this.config.started=!0,this.config.ignore=!1,this.callEvent("onBeforeDragStart",[n,this.config.original_target])===!1)return this.config.ignore=!0,!1;this.backupEventTarget(o,a),this.initDnDMarker(),r._touch_feedback(),this.callEvent("onAfterDragStart",[n,this.config.original_target])}else this.config.ignore=!0}return this.config.ignore?!1:o.targetTouches&&!l.target?void 0:(l.pos=this.getPosition(l),this.config.marker.style.left=l.pos.x+"px",this.config.marker.style.top=l.pos.y+"px",this.callEvent("onDragMove",[n,l]),!0)},dragEnd:function(n){var o=this.config.backup_element;o&&o.parentNode&&o.parentNode.removeChild(o),r._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),this.config.started=!1,document.body.className=document.body.className.replace(" gantt_noselect","")},getPosition:function(n){var o=0,a=0;return n.pageX||n.pageY?(o=n.pageX,a=n.pageY):(n.clientX||n.clientY)&&(o=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=n.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:o,y:a}}},t}},function(D,E,h){function _(s,c){for(var i=0;i<c.length;i++){var r=c[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(s,r.key,r)}}h.r(E),h.d(E,"Client",function(){return u});var u=function(){function s(c){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,s);var i=c.url,r=c.token;this._url=i,this._token=r,this._mode=1,this._seed=1,this._queue=[],this.data={},this.api={},this._events={}}return function(c,i,r){i&&_(c.prototype,i),r&&_(c,r)}(s,[{key:"headers",value:function(){return{Accept:"application/json","Content-Type":"application/json","Remote-Token":this._token}}},{key:"fetch",value:function(c){function i(r,e){return c.apply(this,arguments)}return i.toString=function(){return c.toString()},i}(function(c,i){var r={credentials:"include",headers:this.headers()};return i&&(r.method="POST",r.body=i),fetch(c,r).then(function(e){return e.json()})})},{key:"load",value:function(c){var i=this;return c&&(this._url=c),this.fetch(this._url).then(function(r){return i.parse(r)})}},{key:"parse",value:function(c){var i=c.key,r=c.websocket;for(var e in i&&(this._token=c.key),c.data)this.data[e]=c.data[e];for(var t in c.api){var n=this.api[t]={},o=c.api[t];for(var a in o)n[a]=this._wrapper(t+"."+a)}return r&&this.connect(),this}},{key:"connect",value:function(){var c=this,i=this._socket;i&&(this._socket=null,i.onclose=function(){},i.close()),this._mode=2,this._socket=function(r,e,t,n){var o=e;o[0]==="/"&&(o=document.location.protocol+"//"+document.location.host+e);var a=(o=o.replace(/^http(s|):/,"ws$1:")).indexOf("?")!=-1?"&":"?";o="".concat(o).concat(a,"token=").concat(t,"&ws=1");var l=new WebSocket(o);return l.onclose=function(){return setTimeout(function(){return r.connect()},2e3)},l.onmessage=function(d){var f=JSON.parse(d.data);switch(f.action){case"result":r.result(f.body,[]);break;case"event":r.fire(f.body.name,f.body.value);break;case"start":c._mode=3,c._send(),c._resubscribe();break;default:r.onError(f.data)}},l}(this,this._url,this._token)}},{key:"_wrapper",value:function(c){return function(){var i=this,r=[].slice.call(arguments),e=null,t=new Promise(function(n,o){e={data:{id:i._uid(),name:c,args:r},status:1,resolve:n,reject:o},i._queue.push(e)});return this.onCall(e,t),this._mode===3?this._send(e):setTimeout(function(){return i._send()},1),t}.bind(this)}},{key:"_uid",value:function(){return(this._seed++).toString()}},{key:"_send",value:function(c){var i=this;if(this._mode!=2){var r=c?[c]:this._queue.filter(function(t){return t.status===1});if(r.length){var e=r.map(function(t){return t.status=2,t.data});this._mode!==3?this.fetch(this._url,JSON.stringify(e)).catch(function(t){return i.onError(t)}).then(function(t){return i.result(t,e)}):this._socket.send(JSON.stringify({action:"call",body:e}))}}else setTimeout(function(){return i._send()},100)}},{key:"result",value:function(c,i){var r={};if(c)for(var e=0;e<c.length;e++)r[c[e].id]=c[e];else for(var t=0;t<i.length;t++)r[i[t].id]={id:i[t].id,error:"Network Error",data:null};for(var n=this._queue.length-1;n>=0;n--){var o=this._queue[n],a=r[o.data.id];a&&(this.onResponse(o,a),a.error?o.reject(a.error):o.resolve(a.data),this._queue.splice(n,1))}}},{key:"on",value:function(c,i){var r=this._uid(),e=this._events[c],t=!!e;return t||(e=this._events[c]=[]),e.push({id:r,handler:i}),t||this._mode!=3||this._socket.send(JSON.stringify({action:"subscribe",name:c})),{name:c,id:r}}},{key:"_resubscribe",value:function(){if(this._mode==3)for(var c in this._events)this._socket.send(JSON.stringify({action:"subscribe",name:c}))}},{key:"detach",value:function(c){if(c){var i=c.id,r=c.name,e=this._events[r];if(e){var t=e.filter(function(o){return o.id!=i});t.length?this._events[r]=t:(delete this._events[r],this._mode==3&&this._socket.send(JSON.stringify({action:"unsubscribe",name:r})))}}else{if(this._mode==3)for(var n in this._events)this._socket.send(JSON.stringify({action:"unsubscribe",key:n}));this._events={}}}},{key:"fire",value:function(c,i){var r=this._events[c];if(r)for(var e=0;e<r.length;e++)r[e].handler(i)}},{key:"onError",value:function(c){return null}},{key:"onCall",value:function(c,i){}},{key:"onResponse",value:function(c,i){}}]),s}()},function(D,E,h){var _=h(238);D.exports={remoteEvents:function(u,s){var c=this,i=new _.Client({url:u,token:s});i.fetch=function(r,e){var t={headers:this.headers()};return e&&(t.method="POST",t.body=e),fetch(r,t).then(function(n){return n.json()})},this._ready=i.load().then(function(r){return c._remote=r}),this.ready=function(){return this._ready},this.on=function(r,e){this.ready().then(function(t){if(typeof r=="string")t.on(r,e);else for(var n in r)t.on(n,r[n])})}}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _={date_to_str:function(u,s,c){return function(i){return u.replace(/%[a-zA-Z]/g,function(r){switch(r){case"%d":return s?c.date.to_fixed(i.getUTCDate()):c.date.to_fixed(i.getDate());case"%m":return s?c.date.to_fixed(i.getUTCMonth()+1):c.date.to_fixed(i.getMonth()+1);case"%j":return s?i.getUTCDate():i.getDate();case"%n":return s?i.getUTCMonth()+1:i.getMonth()+1;case"%y":return s?c.date.to_fixed(i.getUTCFullYear()%100):c.date.to_fixed(i.getFullYear()%100);case"%Y":return s?i.getUTCFullYear():i.getFullYear();case"%D":return s?c.locale.date.day_short[i.getUTCDay()]:c.locale.date.day_short[i.getDay()];case"%l":return s?c.locale.date.day_full[i.getUTCDay()]:c.locale.date.day_full[i.getDay()];case"%M":return s?c.locale.date.month_short[i.getUTCMonth()]:c.locale.date.month_short[i.getMonth()];case"%F":return s?c.locale.date.month_full[i.getUTCMonth()]:c.locale.date.month_full[i.getMonth()];case"%h":return s?c.date.to_fixed((i.getUTCHours()+11)%12+1):c.date.to_fixed((i.getHours()+11)%12+1);case"%g":return s?(i.getUTCHours()+11)%12+1:(i.getHours()+11)%12+1;case"%G":return s?i.getUTCHours():i.getHours();case"%H":return s?c.date.to_fixed(i.getUTCHours()):c.date.to_fixed(i.getHours());case"%i":return s?c.date.to_fixed(i.getUTCMinutes()):c.date.to_fixed(i.getMinutes());case"%a":return s?i.getUTCHours()>11?"pm":"am":i.getHours()>11?"pm":"am";case"%A":return s?i.getUTCHours()>11?"PM":"AM":i.getHours()>11?"PM":"AM";case"%s":return s?c.date.to_fixed(i.getUTCSeconds()):c.date.to_fixed(i.getSeconds());case"%W":return s?c.date.to_fixed(c.date.getUTCISOWeek(i)):c.date.to_fixed(c.date.getISOWeek(i));default:return r}})}},str_to_date:function(u,s,c){return function(i){for(var r=[0,0,1,0,0,0],e=i.match(/[a-zA-Z]+|[0-9]+/g),t=u.match(/%[a-zA-Z]/g),n=0;n<t.length;n++)switch(t[n]){case"%j":case"%d":r[2]=e[n]||1;break;case"%n":case"%m":r[1]=(e[n]||1)-1;break;case"%y":r[0]=1*e[n]+(e[n]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":r[3]=e[n]||0;break;case"%i":r[4]=e[n]||0;break;case"%Y":r[0]=e[n]||0;break;case"%a":case"%A":r[3]=r[3]%12+((e[n]||"").toLowerCase()==="am"?0:12);break;case"%s":r[5]=e[n]||0;break;case"%M":r[1]=c.locale.date.month_short_hash[e[n]]||0;break;case"%F":r[1]=c.locale.date.month_full_hash[e[n]]||0}return s?new Date(Date.UTC(r[0],r[1],r[2],r[3],r[4],r[5])):new Date(r[0],r[1],r[2],r[3],r[4],r[5])}}};E.default=_},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _={date_to_str:function(u,s,c){u=u.replace(/%[a-zA-Z]/g,function(r){switch(r){case"%d":return'"+to_fixed(date.get'+(s?"UTC":"")+'Date())+"';case"%m":return'"+to_fixed((date.get'+(s?"UTC":"")+'Month()+1))+"';case"%j":return'"+date.get'+(s?"UTC":"")+'Date()+"';case"%n":return'"+(date.get'+(s?"UTC":"")+'Month()+1)+"';case"%y":return'"+to_fixed(date.get'+(s?"UTC":"")+'FullYear()%100)+"';case"%Y":return'"+date.get'+(s?"UTC":"")+'FullYear()+"';case"%D":return'"+locale.date.day_short[date.get'+(s?"UTC":"")+'Day()]+"';case"%l":return'"+locale.date.day_full[date.get'+(s?"UTC":"")+'Day()]+"';case"%M":return'"+locale.date.month_short[date.get'+(s?"UTC":"")+'Month()]+"';case"%F":return'"+locale.date.month_full[date.get'+(s?"UTC":"")+'Month()]+"';case"%h":return'"+to_fixed((date.get'+(s?"UTC":"")+'Hours()+11)%12+1)+"';case"%g":return'"+((date.get'+(s?"UTC":"")+'Hours()+11)%12+1)+"';case"%G":return'"+date.get'+(s?"UTC":"")+'Hours()+"';case"%H":return'"+to_fixed(date.get'+(s?"UTC":"")+'Hours())+"';case"%i":return'"+to_fixed(date.get'+(s?"UTC":"")+'Minutes())+"';case"%a":return'"+(date.get'+(s?"UTC":"")+'Hours()>11?"pm":"am")+"';case"%A":return'"+(date.get'+(s?"UTC":"")+'Hours()>11?"PM":"AM")+"';case"%s":return'"+to_fixed(date.get'+(s?"UTC":"")+'Seconds())+"';case"%W":return'"+to_fixed(getISOWeek(date))+"';case"%w":return'"+to_fixed(getWeek(date))+"';default:return r}});var i=new Function("date","to_fixed","locale","getISOWeek","getWeek",'return "'+u+'";');return function(r){return i(r,c.date.to_fixed,c.locale,c.date.getISOWeek,c.date.getWeek)}},str_to_date:function(u,s,c){for(var i="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",r=u.match(/%[a-zA-Z]/g),e=0;e<r.length;e++)switch(r[e]){case"%j":case"%d":i+="set[2]=temp["+e+"]||1;";break;case"%n":case"%m":i+="set[1]=(temp["+e+"]||1)-1;";break;case"%y":i+="set[0]=temp["+e+"]*1+(temp["+e+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":i+="set[3]=temp["+e+"]||0;";break;case"%i":i+="set[4]=temp["+e+"]||0;";break;case"%Y":i+="set[0]=temp["+e+"]||0;";break;case"%a":case"%A":i+="set[3]=set[3]%12+((temp["+e+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":i+="set[5]=temp["+e+"]||0;";break;case"%M":i+="set[1]=locale.date.month_short_hash[temp["+e+"]]||0;";break;case"%F":i+="set[1]=locale.date.month_full_hash[temp["+e+"]]||0;"}var t="set[0],set[1],set[2],set[3],set[4],set[5]";s&&(t=" Date.UTC("+t+")");var n=new Function("date","locale","var set=[0,0,1,0,0,0]; "+i+" return new Date("+t+");");return function(o){return n(o,c.locale)}}};E.default=_},function(D,E,h){var _=h(241).default,u=h(240).default;D.exports=function(s){var c=null;function i(){var r=!1;return s.config.csp==="auto"?(c===null&&function(){try{new Function("canUseCsp = false;")}catch{c=!0}}(),r=c):r=s.config.csp,r}return{init:function(){for(var r=s.locale,e=r.date.month_short,t=r.date.month_short_hash={},n=0;n<e.length;n++)t[e[n]]=n;for(e=r.date.month_full,t=r.date.month_full_hash={},n=0;n<e.length;n++)t[e[n]]=n},date_part:function(r){var e=new Date(r);return r.setHours(0),this.hour_start(r),r.getHours()&&(r.getDate()<e.getDate()||r.getMonth()<e.getMonth()||r.getFullYear()<e.getFullYear())&&r.setTime(r.getTime()+36e5*(24-r.getHours())),r},time_part:function(r){return(r.valueOf()/1e3-60*r.getTimezoneOffset())%86400},week_start:function(r){var e=r.getDay();return s.config.start_on_monday&&(e===0?e=6:e--),this.date_part(this.add(r,-1*e,"day"))},month_start:function(r){return r.setDate(1),this.date_part(r)},quarter_start:function(r){this.month_start(r);var e,t=r.getMonth();return e=t>=9?9:t>=6?6:t>=3?3:0,r.setMonth(e),r},year_start:function(r){return r.setMonth(0),this.month_start(r)},day_start:function(r){return this.date_part(r)},hour_start:function(r){return r.getMinutes()&&r.setMinutes(0),this.minute_start(r),r},minute_start:function(r){return r.getSeconds()&&r.setSeconds(0),r.getMilliseconds()&&r.setMilliseconds(0),r},_add_days:function(r,e,t){r.setDate(r.getDate()+e);var n=e>=0,o=!t.getHours()&&r.getHours(),a=r.getDate()<=t.getDate()||r.getMonth()<t.getMonth()||r.getFullYear()<t.getFullYear();return n&&o&&a&&r.setTime(r.getTime()+36e5*(24-r.getHours())),e>1&&o&&r.setHours(0),r},add:function(r,e,t){var n=new Date(r.valueOf());switch(t){case"day":n=this._add_days(n,e,r);break;case"week":n=this._add_days(n,7*e,r);break;case"month":n.setMonth(n.getMonth()+e);break;case"year":n.setYear(n.getFullYear()+e);break;case"hour":n.setTime(n.getTime()+60*e*60*1e3);break;case"minute":n.setTime(n.getTime()+60*e*1e3);break;default:return this["add_"+t](r,e,t)}return n},add_quarter:function(r,e){return this.add(r,3*e,"month")},to_fixed:function(r){return r<10?"0"+r:r},copy:function(r){return new Date(r.valueOf())},date_to_str:function(r,e){var t=_;return i()&&(t=u),t.date_to_str(r,e,s)},str_to_date:function(r,e){var t=_;return i()&&(t=u),t.str_to_date(r,e,s)},getISOWeek:function(r){return s.date._getWeekNumber(r,!0)},_getWeekNumber:function(r,e){if(!r)return!1;var t=r.getDay();e&&t===0&&(t=7);var n=new Date(r.valueOf());n.setDate(r.getDate()+(4-t));var o=n.getFullYear(),a=Math.round((n.getTime()-new Date(o,0,1).getTime())/864e5);return 1+Math.floor(a/7)},getWeek:function(r){return s.date._getWeekNumber(r,s.config.start_on_monday)},getUTCISOWeek:function(r){return s.date.getISOWeek(r)},convert_to_utc:function(r){return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds())},parseDate:function(r,e){return r&&!r.getFullYear&&(typeof e!="function"&&(e=typeof e=="string"?e==="parse_date"||e==="xml_date"?s.defined(s.templates.xml_date)?s.templates.xml_date:s.templates.parse_date:s.defined(s.templates[e])?s.templates[e]:s.date.str_to_date(e):s.defined(s.templates.xml_date)?s.templates.xml_date:s.templates.parse_date),r=r?e(r):null),r}}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(_){if(typeof _=="string"||typeof _=="number")return _;var u="";for(var s in _){var c="";_.hasOwnProperty(s)&&(c=s+"="+(c=typeof _[s]=="string"?encodeURIComponent(_[s]):typeof _[s]=="number"?_[s]:encodeURIComponent(JSON.stringify(_[s]))),u.length&&(c="&"+c),u+=c)}return u}},function(D,E,h){function _(r){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}var u=h(11),s=h(21),c=h(243).default;function i(r,e){var t={method:r};if(e.length===0)throw new Error("Arguments list of query is wrong.");if(e.length===1)return typeof e[0]=="string"?(t.url=e[0],t.async=!0):(t.url=e[0].url,t.async=e[0].async||!0,t.callback=e[0].callback,t.headers=e[0].headers),e[0].data?typeof e[0].data!="string"?t.data=c(e[0].data):t.data=e[0].data:t.data="",t;switch(t.url=e[0],r){case"GET":case"DELETE":t.callback=e[1],t.headers=e[2];break;case"POST":case"PUT":e[1]?typeof e[1]!="string"?t.data=c(e[1]):t.data=e[1]:t.data="",t.callback=e[2],t.headers=e[3]}return t}D.exports=function(r){return{cache:!0,method:"get",parse:function(e){return typeof e!="string"?e:(e=e.replace(/^[\s]+/,""),typeof DOMParser>"u"||u.isIE?s.ActiveXObject!==void 0&&((t=new s.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=new DOMParser().parseFromString(e,"text/xml"),t);var t},xmltop:function(e,t,n){if(t.status===void 0||t.status<400){var o=t.responseXML?t.responseXML||t:this.parse(t.responseText||t);if(o&&o.documentElement!==null&&!o.getElementsByTagName("parsererror").length)return o.getElementsByTagName(e)[0]}return n!==-1&&r.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],n]),document.createElement("DIV")},xpath:function(e,t){if(t.nodeName||(t=t.responseXML||t),u.isIE)return t.selectNodes(e)||[];for(var n,o=[],a=(t.ownerDocument||t).evaluate(e,t,null,XPathResult.ANY_TYPE,null);n=a.iterateNext();)o.push(n);return o},query:function(e){return this._call(e.method||"GET",e.url,e.data||"",e.async||!0,e.callback,e.headers)},get:function(e,t,n){var o=i("GET",arguments);return this.query(o)},getSync:function(e,t){var n=i("GET",arguments);return n.async=!1,this.query(n)},put:function(e,t,n,o){var a=i("PUT",arguments);return this.query(a)},del:function(e,t,n){var o=i("DELETE",arguments);return this.query(o)},post:function(e,t,n,o){(arguments.length==1||arguments.length==2&&typeof t=="function")&&(t="");var a=i("POST",arguments);return this.query(a)},postSync:function(e,t,n){t=t===null?"":String(t);var o=i("POST",arguments);return o.async=!1,this.query(o)},_call:function(e,t,n,o,a,l){return new r.Promise(function(d,f){var g=(typeof XMLHttpRequest>"u"?"undefined":_(XMLHttpRequest))!==void 0?new XMLHttpRequest:new s.ActiveXObject("Microsoft.XMLHTTP"),p=navigator.userAgent.match(/AppleWebKit/)!==null&&navigator.userAgent.match(/Qt/)!==null&&navigator.userAgent.match(/Safari/)!==null;o&&(g.onreadystatechange=function(){if(g.readyState==4||p&&g.readyState==3){if((g.status!=200||g.responseText==="")&&!r.callEvent("onAjaxError",[g]))return;setTimeout(function(){typeof a=="function"&&a.apply(s,[{xmlDoc:g,filePath:t}]),d(g),typeof a=="function"&&(a=null,g=null)},0)}});var v=!this||!this.cache;if(e=="GET"&&v&&(t+=(t.indexOf("?")>=0?"&":"?")+"dhxr"+new Date().getTime()+"=1"),g.open(e,t,o),l)for(var y in l)g.setRequestHeader(y,l[y]);else e.toUpperCase()=="POST"||e=="PUT"||e=="DELETE"?g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):e=="GET"&&(n=null);if(g.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.send(n),!o)return{xmlDoc:g,filePath:t}})},urlSeparator:function(e){return e.indexOf("?")!=-1?"&":"?"}}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),D.exports=function(){return{layout:{css:"gantt_container",rows:[{cols:[{view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},auto_types:!1,duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,deepcopy_on_parse:!1,show_links:!0,show_task_cells:!0,static_background:!1,static_background_cells:!0,branch_loading:!1,branch_loading_property:"$has_child",show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,date_format:"%d-%m-%Y %H:%i",xml_date:void 0,start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,smart_rendering:!0,preserve_scroll:!0,readonly:!1,container_resize_timeout:20,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_project:!1,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:44}],scale_offset_minimal:!0,inherit_scale_class:!1,scales:[{unit:"day",step:1,date:"%d %M"}],time_step:60,duration_step:1,task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"data-task-id",link_attribute:"data-link-id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:void 0,bar_height:"full",min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"data-column-index",keep_grid_width:!1,grid_resize:!1,grid_elastic_columns:!1,show_tasks_outside_timescale:!1,show_unscheduled:!0,resize_rows:!1,task_grid_row_resizer_attribute:"data-row-index",min_task_grid_row_height:30,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},dynamic_resource_calendars:!1,inherit_calendar:!1,type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0,rtl:!1,placeholder_task:!1,horizontal_scroll_key:"shiftKey",drag_timeline:{useKey:void 0,ignore:".gantt_task_line, .gantt_task_link"},drag_multiple:!0,csp:"auto"}}},function(D,E){D.exports=function(){var h={};return{services:{},setService:function(_,u){h[_]=u},getService:function(_){return h[_]?h[_]():null},dropService:function(_){h[_]&&delete h[_]},destructor:function(){for(var _ in h)if(h[_]){var u=h[_];u&&u.destructor&&u.destructor()}h=null}}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){return function(u){var s=this;for(var c in this.addExtension=function(i,r){s._extensions[i]=r},this.getExtension=function(i){return s._extensions[i]},this._extensions={},u)this._extensions[c]=u[c]}}();E.default=_},function(D,E){D.exports={KEY_CODES:{UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,ESC:27,TAB:9}}},function(D,E,h){function _(u){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}D.exports=function(u){var s=new function(){this.constants=h(248),this.version="8.0.6",this.license="gpl",this.templates={},this.ext={},this.keys={edit_save:this.constants.KEY_CODES.ENTER,edit_cancel:this.constants.KEY_CODES.ESC}},c=new(h(247)).default(u),i={};s.plugins=function(l){for(var d in l)if(l[d]&&!i[d]){var f=c.getExtension(d);f&&(f(s),i[d]=!0)}return i},s.$services=h(246)(),s.config=h(245)(),s.ajax=h(244)(s),s.date=h(242)(s),s.RemoteEvents=h(239).remoteEvents;var r=h(237)(s);s.$services.setService("dnd",function(){return r});var e=h(236)(s);s.$services.setService("templateLoader",function(){return e}),h(5)(s);var t=new(h(235));t.registerProvider("global",function(){var l={min_date:s._min_date,max_date:s._max_date,selected_task:null};return s.$data&&s.$data.tasksStore&&(l.selected_task=s.$data.tasksStore.getSelectedId()),l}),s.getState=t.getState,s.$services.setService("state",function(){return t});var n=h(0);n.mixin(s,n),s.Promise=h(234),s.env=h(11),h(232)(s);var o=h(226);s.dataProcessor=o.DEPRECATED_api,s.createDataProcessor=o.createDataProcessor,h(221)(s),h(211)(s),h(210)(s),h(202)(s),h(201)(s),h(200)(s),h(187)(s),h(186).default(s),h(185)(s),h(184)(s),h(183)(s),h(180)(s),h(179).default(s);var a=h(178).default();return s.i18n={addLocale:a.addLocale,setLocale:function(l){if(typeof l=="string"){var d=a.getLocale(l);d||(d=a.getLocale("en")),s.locale=d}else if(l)if(s.locale)for(var f in l)l[f]&&_(l[f])==="object"?(s.locale[f]||(s.locale[f]={}),s.mixin(s.locale[f],l[f],!0)):s.locale[f]=l[f];else s.locale=l},getLocale:a.getLocale},s.i18n.setLocale("en"),s}},function(D,E,h){h(35);var _=h(249);D.exports=function(u){var s=_(u);return s.env.isNode||h(144)(s),s}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=100,u=function(){function s(c){var i=this;this.maxSteps=_,this.undoEnabled=!0,this.redoEnabled=!0,this.action={create:function(r){return{commands:r?r.slice():[]}},invert:function(r){for(var e,t=i._gantt.copy(r),n=i.command,o=0;o<r.commands.length;o++){var a=t.commands[o]=n.invert(t.commands[o]);a.type!==n.type.update&&a.type!==n.type.move||(e=[a.oldValue,a.value],a.value=e[0],a.oldValue=e[1])}return t}},this.command={entity:null,type:null,create:function(r,e,t,n){var o=i._gantt;return{entity:n,type:t,value:o.copy(r),oldValue:o.copy(e||r)}},invert:function(r){var e=i._gantt.copy(r);return e.type=i.command.inverseCommands(r.type),e},inverseCommands:function(r){var e=i._gantt,t=i.command.type;switch(r){case t.update:return t.update;case t.remove:return t.add;case t.add:return t.remove;case t.move:return t.move;default:return e.assert(!1,"Invalid command "+r),null}}},this._undoStack=[],this._redoStack=[],this._gantt=c}return s.prototype.getUndoStack=function(){return this._undoStack},s.prototype.setUndoStack=function(c){this._undoStack=c},s.prototype.getRedoStack=function(){return this._redoStack},s.prototype.setRedoStack=function(c){this._redoStack=c},s.prototype.clearUndoStack=function(){this._undoStack=[]},s.prototype.clearRedoStack=function(){this._redoStack=[]},s.prototype.updateConfigs=function(){var c=this._gantt;this.maxSteps=c.config.undo_steps||_,this.command.entity=c.config.undo_types,this.command.type=c.config.undo_actions,this.undoEnabled=!!c.config.undo,this.redoEnabled=!!c.config.redo},s.prototype.undo=function(){var c=this._gantt;if(this.updateConfigs(),this.undoEnabled){var i=this._pop(this._undoStack);if(i&&this._reorderCommands(i),c.callEvent("onBeforeUndo",[i])!==!1&&i)return this._applyAction(this.action.invert(i)),this._push(this._redoStack,c.copy(i)),void c.callEvent("onAfterUndo",[i]);c.callEvent("onAfterUndo",[null])}},s.prototype.redo=function(){var c=this._gantt;if(this.updateConfigs(),this.redoEnabled){var i=this._pop(this._redoStack);if(i&&this._reorderCommands(i),c.callEvent("onBeforeRedo",[i])!==!1&&i)return this._applyAction(i),this._push(this._undoStack,c.copy(i)),void c.callEvent("onAfterRedo",[i]);c.callEvent("onAfterRedo",[null])}},s.prototype.logAction=function(c){this._push(this._undoStack,c),this._redoStack=[]},s.prototype._push=function(c,i){var r=this._gantt;if(i.commands.length){var e=c===this._undoStack?"onBeforeUndoStack":"onBeforeRedoStack";if(r.callEvent(e,[i])!==!1&&i.commands.length){for(c.push(i);c.length>this.maxSteps;)c.shift();return i}}},s.prototype._pop=function(c){return c.pop()},s.prototype._reorderCommands=function(c){var i={any:0,link:1,task:2},r={move:1,any:0};c.commands.sort(function(e,t){if(e.entity==="task"&&t.entity==="task")return e.type!==t.type?(r[t.type]||0)-(r[e.type]||0):e.type==="move"&&e.oldValue&&t.oldValue&&t.oldValue.parent===e.oldValue.parent?e.oldValue.$index-t.oldValue.$index:0;var n=i[e.entity]||i.any;return(i[t.entity]||i.any)-n})},s.prototype._applyAction=function(c){var i=null,r=this.command.entity,e=this.command.type,t=this._gantt,n={};n[r.task]={add:"addTask",get:"getTask",update:"updateTask",remove:"deleteTask",move:"moveTask",isExists:"isTaskExists"},n[r.link]={add:"addLink",get:"getLink",update:"updateLink",remove:"deleteLink",isExists:"isLinkExists"},t.batchUpdate(function(){for(var o=0;o<c.commands.length;o++){i=c.commands[o];var a=n[i.entity][i.type],l=n[i.entity].get,d=n[i.entity].isExists;if(i.type===e.add)t[a](i.oldValue,i.oldValue.parent,i.oldValue.$local_index);else if(i.type===e.remove)t[d](i.value.id)&&t[a](i.value.id);else if(i.type===e.update){var f=t[l](i.value.id);for(var g in i.value)g.startsWith("$")||g.startsWith("_")||(f[g]=i.value[g]);t[a](i.value.id)}else i.type===e.move&&(t[a](i.value.id,i.value.$local_index,i.value.parent),t.callEvent("onRowDragEnd",[i.value.id]))}})},s}();E.Undo=u},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _={onBeforeUndo:"onAfterUndo",onBeforeRedo:"onAfterRedo"},u=["onTaskDragStart","onAfterTaskUpdate","onAfterTaskDelete","onBeforeBatchUpdate"],s=function(){function c(i,r){this._batchAction=null,this._batchMode=!1,this._ignore=!1,this._ignoreMoveEvents=!1,this._initialTasks={},this._initialLinks={},this._nestedTasks={},this._nestedLinks={},this._undo=i,this._gantt=r,this._attachEvents()}return c.prototype.store=function(i,r,e){return e===void 0&&(e=!1),r===this._gantt.config.undo_types.task?this._storeTask(i,e):r===this._gantt.config.undo_types.link&&this._storeLink(i,e)},c.prototype.isMoveEventsIgnored=function(){return this._ignoreMoveEvents},c.prototype.toggleIgnoreMoveEvents=function(i){this._ignoreMoveEvents=i||!1},c.prototype.startIgnore=function(){this._ignore=!0},c.prototype.stopIgnore=function(){this._ignore=!1},c.prototype.startBatchAction=function(){var i=this;this._timeout||(this._timeout=setTimeout(function(){i.stopBatchAction(),i._timeout=null},10)),this._ignore||this._batchMode||(this._batchMode=!0,this._batchAction=this._undo.action.create())},c.prototype.stopBatchAction=function(){if(!this._ignore){var i=this._undo;this._batchAction&&i.logAction(this._batchAction),this._batchMode=!1,this._batchAction=null}},c.prototype.onTaskAdded=function(i){this._ignore||this._storeTaskCommand(i,this._undo.command.type.add)},c.prototype.onTaskUpdated=function(i){this._ignore||this._storeTaskCommand(i,this._undo.command.type.update)},c.prototype.onTaskMoved=function(i){if(!this._ignore){i.$local_index=this._gantt.getTaskIndex(i.id);var r=this.getInitialTask(i.id);if(i.$local_index===r.$local_index&&this._gantt.getParent(i)===this._gantt.getParent(r))return;this._storeEntityCommand(i,this.getInitialTask(i.id),this._undo.command.type.move,this._undo.command.entity.task)}},c.prototype.onTaskDeleted=function(i){if(!this._ignore){if(this._storeTaskCommand(i,this._undo.command.type.remove),this._nestedTasks[i.id])for(var r=this._nestedTasks[i.id],e=0;e<r.length;e++)this._storeTaskCommand(r[e],this._undo.command.type.remove);if(this._nestedLinks[i.id]){var t=this._nestedLinks[i.id];for(e=0;e<t.length;e++)this._storeLinkCommand(t[e],this._undo.command.type.remove)}}},c.prototype.onLinkAdded=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.add)},c.prototype.onLinkUpdated=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.update)},c.prototype.onLinkDeleted=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.remove)},c.prototype.setNestedTasks=function(i,r){for(var e=this._gantt,t=null,n=[],o=this._getLinks(e.getTask(i)),a=0;a<r.length;a++)t=this.setInitialTask(r[a]),o=o.concat(this._getLinks(t)),n.push(t);var l={};for(a=0;a<o.length;a++)l[o[a]]=!0;var d=[];for(var a in l)d.push(this.setInitialLink(a));this._nestedTasks[i]=n,this._nestedLinks[i]=d},c.prototype.setInitialTask=function(i,r){var e=this._gantt;if(r||!this._initialTasks[i]||!this._batchMode){var t=e.copy(e.getTask(i));t.$index=e.getGlobalTaskIndex(i),t.$local_index=e.getTaskIndex(i),this.setInitialTaskObject(i,t)}return this._initialTasks[i]},c.prototype.getInitialTask=function(i){return this._initialTasks[i]},c.prototype.clearInitialTasks=function(){this._initialTasks={}},c.prototype.setInitialTaskObject=function(i,r){this._initialTasks[i]=r},c.prototype.setInitialLink=function(i,r){return this._initialLinks[i]&&this._batchMode||(this._initialLinks[i]=this._gantt.copy(this._gantt.getLink(i))),this._initialLinks[i]},c.prototype.getInitialLink=function(i){return this._initialLinks[i]},c.prototype.clearInitialLinks=function(){this._initialLinks={}},c.prototype._attachEvents=function(){var i=this,r=null,e=this._gantt,t=function(){r||(r=setTimeout(function(){r=null}),i.clearInitialTasks(),e.eachTask(function(l){i.setInitialTask(l.id)}),i.clearInitialLinks(),e.getLinks().forEach(function(l){i.setInitialLink(l.id)}))},n=function(l){return e.copy(e.getTask(l))};for(var o in _)e.attachEvent(o,function(){return i.startIgnore(),!0}),e.attachEvent(_[o],function(){return i.stopIgnore(),!0});for(o=0;o<u.length;o++)e.attachEvent(u[o],function(){return i.startBatchAction(),!0});e.attachEvent("onParse",function(){i._undo.clearUndoStack(),i._undo.clearRedoStack(),t()}),e.attachEvent("onAfterTaskAdd",function(l,d){i.setInitialTask(l,!0),i.onTaskAdded(d)}),e.attachEvent("onAfterTaskUpdate",function(l,d){i.onTaskUpdated(d)}),e.attachEvent("onAfterTaskDelete",function(l,d){i.onTaskDeleted(d)}),e.attachEvent("onAfterLinkAdd",function(l,d){i.setInitialLink(l,!0),i.onLinkAdded(d)}),e.attachEvent("onAfterLinkUpdate",function(l,d){i.onLinkUpdated(d)}),e.attachEvent("onAfterLinkDelete",function(l,d){i.onLinkDeleted(d)}),e.attachEvent("onRowDragEnd",function(l,d){return i.onTaskMoved(n(l)),i.toggleIgnoreMoveEvents(),!0}),e.attachEvent("onBeforeTaskDelete",function(l){i.store(l,e.config.undo_types.task);var d=[];return t(),e.eachTask(function(f){d.push(f.id)},l),i.setNestedTasks(l,d),!0});var a=e.getDatastore("task");a.attachEvent("onBeforeItemMove",function(l,d,f){return i.isMoveEventsIgnored()||t(),!0}),a.attachEvent("onAfterItemMove",function(l,d,f){return i.isMoveEventsIgnored()||i.onTaskMoved(n(l)),!0}),e.attachEvent("onRowDragStart",function(l,d,f){return i.toggleIgnoreMoveEvents(!0),t(),!0}),e.attachEvent("onBeforeTaskDrag",function(l){return i.store(l,e.config.undo_types.task)}),e.attachEvent("onLightbox",function(l){return i.store(l,e.config.undo_types.task)}),e.attachEvent("onBeforeTaskAutoSchedule",function(l){return i.store(l.id,e.config.undo_types.task),!0}),e.ext.inlineEditors&&e.ext.inlineEditors.attachEvent("onEditStart",function(l){i.store(l.id,e.config.undo_types.task)})},c.prototype._storeCommand=function(i){var r=this._undo;if(r.updateConfigs(),r.undoEnabled)if(this._batchMode)this._batchAction.commands.push(i);else{var e=r.action.create([i]);r.logAction(e)}},c.prototype._storeEntityCommand=function(i,r,e,t){var n=this._undo.command.create(i,r,e,t);this._storeCommand(n)},c.prototype._storeTaskCommand=function(i,r){this._gantt.isTaskExists(i.id)&&(i.$local_index=this._gantt.getTaskIndex(i.id)),this._storeEntityCommand(i,this.getInitialTask(i.id),r,this._undo.command.entity.task)},c.prototype._storeLinkCommand=function(i,r){this._storeEntityCommand(i,this.getInitialLink(i.id),r,this._undo.command.entity.link)},c.prototype._getLinks=function(i){return i.$source.concat(i.$target)},c.prototype._storeTask=function(i,r){var e=this;r===void 0&&(r=!1);var t=this._gantt;return this.setInitialTask(i,r),t.eachTask(function(n){e.setInitialTask(n.id)},i),!0},c.prototype._storeLink=function(i,r){return r===void 0&&(r=!1),this.setInitialLink(i,r),!0},c}();E.Monitor=s},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(252),u=h(251);E.default=function(s){var c=new u.Undo(s),i=new _.Monitor(c,s);function r(l,d,f){l&&(l.id===d&&(l.id=f),l.parent===d&&(l.parent=f))}function e(l,d,f){r(l.value,d,f),r(l.oldValue,d,f)}function t(l,d,f){l&&(l.source===d&&(l.source=f),l.target===d&&(l.target=f))}function n(l,d,f){t(l.value,d,f),t(l.oldValue,d,f)}function o(l,d,f){for(var g=c,p=0;p<l.length;p++)for(var v=l[p],y=0;y<v.commands.length;y++)v.commands[y].entity===g.command.entity.task?e(v.commands[y],d,f):v.commands[y].entity===g.command.entity.link&&n(v.commands[y],d,f)}function a(l,d,f){for(var g=c,p=0;p<l.length;p++)for(var v=l[p],y=0;y<v.commands.length;y++){var m=v.commands[y];m.entity===g.command.entity.link&&(m.value&&m.value.id===d&&(m.value.id=f),m.oldValue&&m.oldValue.id===d&&(m.oldValue.id=f))}}s.config.undo=!0,s.config.redo=!0,s.config.undo_types={link:"link",task:"task"},s.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"},s.ext||(s.ext={}),s.ext.undo={undo:function(){return c.undo()},redo:function(){return c.redo()},getUndoStack:function(){return c.getUndoStack()},setUndoStack:function(l){return c.setUndoStack(l)},getRedoStack:function(){return c.getRedoStack()},setRedoStack:function(l){return c.setRedoStack(l)},clearUndoStack:function(){return c.clearUndoStack()},clearRedoStack:function(){return c.clearRedoStack()},saveState:function(l,d){return i.store(l,d,!0)},getInitialState:function(l,d){return d===s.config.undo_types.link?i.getInitialLink(l):i.getInitialTask(l)}},s.undo=s.ext.undo.undo,s.redo=s.ext.undo.redo,s.getUndoStack=s.ext.undo.getUndoStack,s.getRedoStack=s.ext.undo.getRedoStack,s.clearUndoStack=s.ext.undo.clearUndoStack,s.clearRedoStack=s.ext.undo.clearRedoStack,s.attachEvent("onTaskIdChange",function(l,d){var f=c;o(f.getUndoStack(),l,d),o(f.getRedoStack(),l,d)}),s.attachEvent("onLinkIdChange",function(l,d){var f=c;a(f.getUndoStack(),l,d),a(f.getRedoStack(),l,d)}),s.attachEvent("onGanttReady",function(){c.updateConfigs()})}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(1),u=function(){function s(c){this._gantt=c}return s.prototype.getNode=function(){var c=this._gantt;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="gantt_tooltip",c._waiAria.tooltipAttr(this._tooltipNode)),this._tooltipNode},s.prototype.setViewport=function(c){return this._root=c,this},s.prototype.show=function(c,i){var r=this._gantt,e=document.body,t=this.getNode();if(_.isChildOf(t,e)||(this.hide(),e.appendChild(t)),this._isLikeMouseEvent(c)){var n=this._calculateTooltipPosition(c);i=n.top,c=n.left}return t.style.top=i+"px",t.style.left=c+"px",r._waiAria.tooltipVisibleAttr(t),this},s.prototype.hide=function(){var c=this._gantt,i=this.getNode();return i&&i.parentNode&&i.parentNode.removeChild(i),c._waiAria.tooltipHiddenAttr(i),this},s.prototype.setContent=function(c){return this.getNode().innerHTML=c,this},s.prototype._isLikeMouseEvent=function(c){return!(!c||typeof c!="object")&&"clientX"in c&&"clientY"in c},s.prototype._getViewPort=function(){return this._root||document.body},s.prototype._calculateTooltipPosition=function(c){var i=this._gantt,r=this._getViewPortSize(),e=this.getNode(),t={top:0,left:0,width:e.offsetWidth,height:e.offsetHeight,bottom:0,right:0},n=i.config.tooltip_offset_x,o=i.config.tooltip_offset_y,a=document.body,l=_.getRelativeEventPosition(c,a),d=_.getNodePosition(a);l.y+=d.y,t.top=l.y,t.left=l.x,t.top+=o,t.left+=n,t.bottom=t.top+t.height,t.right=t.left+t.width;var f=window.scrollY+a.scrollTop;return t.top<r.top-f?(t.top=r.top,t.bottom=t.top+t.height):t.bottom>r.bottom&&(t.bottom=r.bottom,t.top=t.bottom-t.height),t.left<r.left?(t.left=r.left,t.right=r.left+t.width):t.right>r.right&&(t.right=r.right,t.left=t.right-t.width),l.x>=t.left&&l.x<=t.right&&(t.left=l.x-t.width-n,t.right=t.left+t.width),l.y>=t.top&&l.y<=t.bottom&&(t.top=l.y-t.height-o,t.bottom=t.top+t.height),t},s.prototype._getViewPortSize=function(){var c,i=this._gantt,r=this._getViewPort(),e=r,t=window.scrollY+document.body.scrollTop,n=window.scrollX+document.body.scrollLeft;return r===i.$task_data?(e=i.$task,t=0,n=0,c=_.getNodePosition(i.$task)):c=_.getNodePosition(e),{left:c.x+n,top:c.y+t,width:c.width,height:c.height,bottom:c.y+c.height+t,right:c.x+c.width+n}},s}();E.Tooltip=u},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(51),u=h(1),s=h(2),c=h(254),i=function(){function r(e){this._listeners={},this.tooltip=new c.Tooltip(e),this._gantt=e,this._domEvents=_(),this._initDelayedFunctions()}return r.prototype.destructor=function(){this.tooltip.hide(),this._domEvents.detachAll()},r.prototype.hideTooltip=function(){this.delayHide()},r.prototype.attach=function(e){var t=this,n=document.body,o=this._gantt;e.global||(n=o.$root);var a=null,l=function(d){var f=u.getTargetNode(d),g=u.closest(f,e.selector);if(!u.isChildOf(f,t.tooltip.getNode())){var p=function(){a=g,e.onmouseenter(d,g)};a?g&&g===a?e.onmousemove(d,g):(e.onmouseleave(d,a),a=null,g&&g!==a&&p()):g&&p()}};this.detach(e.selector),this._domEvents.attach(n,"mousemove",l),this._listeners[e.selector]={node:n,handler:l}},r.prototype.detach=function(e){var t=this._listeners[e];t&&this._domEvents.detach(t.node,"mousemove",t.handler)},r.prototype.tooltipFor=function(e){var t=this,n=function(o){var a=o;return document.createEventObject&&!document.createEvent&&(a=document.createEventObject(o)),a};this._initDelayedFunctions(),this.attach({selector:e.selector,global:e.global,onmouseenter:function(o,a){var l=e.html(o,a);l&&t.delayShow(n(o),l)},onmousemove:function(o,a){var l=e.html(o,a);l?t.delayShow(n(o),l):(t.delayShow.$cancelTimeout(),t.delayHide())},onmouseleave:function(){t.delayShow.$cancelTimeout(),t.delayHide()}})},r.prototype._initDelayedFunctions=function(){var e=this,t=this._gantt;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=s.delay(function(n,o){t.callEvent("onBeforeTooltip",[n])===!1?e.tooltip.hide():(e.tooltip.setContent(o),e.tooltip.show(n))},t.config.tooltip_timeout||1),this.delayHide=s.delay(function(){e.delayShow.$cancelTimeout(),e.tooltip.hide()},t.config.tooltip_hide_timeout||1)},r}();E.TooltipManager=i},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(255);E.default=function(u){u.config.tooltip_timeout=30,u.config.tooltip_offset_y=20,u.config.tooltip_offset_x=10,u.config.tooltip_hide_timeout=30;var s=new _.TooltipManager(u);u.ext.tooltips=s,u.attachEvent("onGanttReady",function(){s.tooltipFor({selector:"["+u.config.task_attribute+"]:not(.gantt_task_row)",html:function(c){if(!u.config.touch||u.config.touch_tooltip){var i=u.locate(c);if(u.isTaskExists(i)){var r=u.getTask(i);return u.templates.tooltip_text(r.start_date,r.end_date,r)}return null}},global:!1})}),u.attachEvent("onDestroy",function(){s.destructor()}),u.attachEvent("onLightbox",function(){s.hideTooltip()}),u.attachEvent("onBeforeTooltip",function(){if(u.getState().link_source_id)return!1}),u.attachEvent("onGanttScroll",function(){s.hideTooltip()})}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(s){var c=this;this.show=function(i,r){r===void 0?c._showForTask(i):c._showAtCoordinates(i,r)},this.hide=function(i){var r=c._gantt,e=c._quickInfoBox;c._quickInfoBoxId=0;var t=c._quickInfoTask;if(c._quickInfoTask=null,e&&e.parentNode){if(r.config.quick_info_detached)return r.callEvent("onAfterQuickInfo",[t]),e.parentNode.removeChild(e);e.className+=" gantt_qi_hidden",e.style.right==="auto"?e.style.left="-350px":e.style.right="-350px",i&&(e.style.left=e.style.right="",e.parentNode.removeChild(e)),r.callEvent("onAfterQuickInfo",[t])}},this.getNode=function(){return c._quickInfoBox?c._quickInfoBox:null},this.setContainer=function(i){i&&(c._container=typeof i=="string"?document.getElementById(i):i)},this.setContent=function(i){var r=c._gantt,e={taskId:null,header:{title:"",date:""},content:"",buttons:r.config.quickinfo_buttons};i||(i=e),i.taskId||(i.taskId=e.taskId),i.header||(i.header=e.header),i.header.title||(i.header.title=e.header.title),i.header.date||(i.header.date=e.header.date),i.content||(i.content=e.content),i.buttons||(i.buttons=e.buttons);var t=c.getNode();t||(t=c._createQuickInfoElement()),i.taskId&&(c._quickInfoBoxId=i.taskId);var n=t.querySelector(".gantt_cal_qi_title"),o=n.querySelector(".gantt_cal_qi_tcontent"),a=n.querySelector(".gantt_cal_qi_tdate"),l=t.querySelector(".gantt_cal_qi_content"),d=t.querySelector(".gantt_cal_qi_controls");r._waiAria.quickInfoHeader(t,[i.header.title,i.header.date].join(" ")),o.innerHTML=i.header.title,a.innerHTML=i.header.date,i.header.title||i.header.date?n.style.display="":n.style.display="none",l.innerHTML=i.content;var f=i.buttons;f.length?d.style.display="":d.style.display="none";for(var g="",p=0;p<f.length;p++){var v=r._waiAria.quickInfoButtonAttrString(r.locale.labels[f[p]]);g+='<div class="gantt_qi_big_icon '+f[p]+'" title="'+r.locale.labels[f[p]]+'" '+v+"><div class='gantt_menu_icon "+f[p]+"'></div><div>"+r.locale.labels[f[p]]+"</div></div>"}d.innerHTML=g,r.eventRemove(t,"click",c._qiButtonClickHandler),r.eventRemove(t,"keypress",c._qiKeyPressHandler),r.event(t,"click",c._qiButtonClickHandler),r.event(t,"keypress",c._qiKeyPressHandler)},this._qiButtonClickHandler=function(i){i=i||event,c._qi_button_click(i.target||i.srcElement)},this._qiKeyPressHandler=function(i){var r=(i=i||event).which||event.keyCode;r!==13&&r!==32||setTimeout(function(){c._qi_button_click(i.target||i.srcElement)},1)},this._gantt=s}return u.prototype._showAtCoordinates=function(s,c){this.hide(!0),this._quickInfoBoxId=0,this._quickInfoTask=null,this._quickInfoBox||(this._createQuickInfoElement(),this.setContent()),this._appendAtCoordinates(s,c),this._gantt.callEvent("onQuickInfo",[null])},u.prototype._showForTask=function(s){var c=this._gantt;if((s!==this._quickInfoBoxId||!c.utils.dom.isChildOf(this._quickInfoBox,document.body))&&c.config.show_quick_info){this.hide(!0);var i=this._getContainer(),r=this._get_event_counter_part(s,6,i.xViewport,i.yViewport);r&&(this._quickInfoBox=this._init_quick_info(s),this._quickInfoTask=s,this._quickInfoBox.className=this._prepare_quick_info_classname(s),this._fill_quick_data(s),this._show_quick_info(r,6),c.callEvent("onQuickInfo",[s]))}},u.prototype._get_event_counter_part=function(s,c,i,r){var e=this._gantt,t=e.getTaskNode(s);if(!t&&!(t=e.getTaskRowNode(s)))return null;var n=0,o=c+t.offsetTop+t.offsetHeight,a=t;if(e.utils.dom.isChildOf(a,i))for(;a&&a!==i;)n+=a.offsetLeft,a=a.offsetParent;var l=e.getScrollState();return a?{left:n,top:o,dx:n+t.offsetWidth/2-l.x>i.offsetWidth/2?1:0,dy:o+t.offsetHeight/2-l.y>r.offsetHeight/2?1:0,width:t.offsetWidth,height:t.offsetHeight}:null},u.prototype._createQuickInfoElement=function(){var s=this,c=this._gantt,i=document.createElement("div");i.className+="gantt_cal_quick_info",c._waiAria.quickInfoAttr(i);var r='<div class="gantt_cal_qi_title" '+c._waiAria.quickInfoHeaderAttrString()+'><div class="gantt_cal_qi_tcontent"></div><div  class="gantt_cal_qi_tdate"></div></div><div class="gantt_cal_qi_content"></div>';if(r+='<div class="gantt_cal_qi_controls">',r+="</div>",i.innerHTML=r,c.config.quick_info_detached){var e=this._getContainer();c.event(e.parent,"scroll",function(){s.hide()})}return this._quickInfoBox=i,i},u.prototype._init_quick_info=function(s){var c=this._gantt,i=c.getTask(s);return typeof this._quickInfoReadonly=="boolean"&&c.isReadonly(i)!==this._quickInfoReadonly&&(this.hide(!0),this._quickInfoBox=null),this._quickInfoReadonly=c.isReadonly(i),this._quickInfoBox||(this._quickInfoBox=this._createQuickInfoElement()),this._quickInfoBox},u.prototype._prepare_quick_info_classname=function(s){var c=this._gantt,i=c.getTask(s),r="gantt_cal_quick_info",e=c.templates.quick_info_class(i.start_date,i.end_date,i);return e&&(r+=" "+e),r},u.prototype._fill_quick_data=function(s){var c=this._gantt,i=c.getTask(s);this._quickInfoBoxId=s;var r=[];if(this._quickInfoReadonly)for(var e=c.config.quickinfo_buttons,t={icon_delete:!0,icon_edit:!0},n=0;n<e.length;n++)this._quickInfoReadonly&&t[e[n]]||r.push(e[n]);else r=c.config.quickinfo_buttons;this.setContent({header:{title:c.templates.quick_info_title(i.start_date,i.end_date,i),date:c.templates.quick_info_date(i.start_date,i.end_date,i)},content:c.templates.quick_info_content(i.start_date,i.end_date,i),buttons:r})},u.prototype._appendAtCoordinates=function(s,c){var i=this._quickInfoBox,r=this._getContainer();i.parentNode&&i.parentNode.nodeName.toLowerCase()!=="#document-fragment"||r.parent.appendChild(i),i.style.left=s+"px",i.style.top=c+"px"},u.prototype._show_quick_info=function(s,c){var i=this._gantt,r=this._quickInfoBox;if(i.config.quick_info_detached){var e=this._getContainer();r.parentNode&&r.parentNode.nodeName.toLowerCase()!=="#document-fragment"||e.parent.appendChild(r);var t=r.offsetWidth,n=r.offsetHeight,o=i.getScrollState(),a=e.xViewport,l=e.yViewport,d=a.offsetWidth+o.x-t,f=s.top-o.y+n,g=s.top;f>l.offsetHeight/2&&(g=s.top-(n+s.height+2*c))<o.y&&f<=l.offsetHeight&&(g=s.top),g<o.y&&(g=o.y);var p=Math.min(Math.max(o.x,s.left-s.dx*(t-s.width)),d),v=g;this._appendAtCoordinates(p,v)}else r.style.top="20px",s.dx===1?(r.style.right="auto",r.style.left="-300px",setTimeout(function(){r.style.left="10px"},1)):(r.style.left="auto",r.style.right="-300px",setTimeout(function(){r.style.right="10px"},1)),r.className+=" gantt_qi_"+(s.dx===1?"left":"right"),i.$root.appendChild(r)},u.prototype._qi_button_click=function(s){var c=this._gantt,i=this._quickInfoBox;if(s&&s!==i){var r=s.className;if(r.indexOf("_icon")!==-1){var e=this._quickInfoBoxId;c.$click.buttons[r.split(" ")[1].replace("icon_","")](e)}else this._qi_button_click(s.parentNode)}},u.prototype._getContainer=function(){var s=this._gantt,c=this._container?this._container:s.$task_data;return c&&c.offsetHeight&&c.offsetWidth?{parent:c,xViewport:s.$task,yViewport:s.$task_data}:(c=this._container?this._container:s.$grid_data)&&c.offsetHeight&&c.offsetWidth?{parent:c,xViewport:s.$grid,yViewport:s.$grid_data}:{parent:this._container?this._container:s.$layout,xViewport:s.$layout,yViewport:s.$layout}},u}();E.QuickInfo=_},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(257);E.default=function(u){u.ext||(u.ext={}),u.ext.quickInfo=new _.QuickInfo(u),u.config.quickinfo_buttons=["icon_delete","icon_edit"],u.config.quick_info_detached=!0,u.config.show_quick_info=!0,u.templates.quick_info_title=function(e,t,n){return n.text.substr(0,50)},u.templates.quick_info_content=function(e,t,n){return n.details||n.text},u.templates.quick_info_date=function(e,t,n){return u.templates.task_time(e,t,n)},u.templates.quick_info_class=function(e,t,n){return""},u.attachEvent("onTaskClick",function(e,t){return u.utils.dom.closest(t.target,".gantt_add")||setTimeout(function(){u.ext.quickInfo.show(e)},0),!0});for(var s=["onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],c=function(){return u.ext.quickInfo.hide(),!0},i=0;i<s.length;i++)u.attachEvent(s[i],c);function r(){return u.ext.quickInfo.hide(),u.ext.quickInfo._quickInfoBox=null,!0}u.attachEvent("onEmptyClick",function(e){var t=!0,n=document.querySelector(".gantt_cal_quick_info");n&&u.utils.dom.isChildOf(e.target,n)&&(t=!1),t&&c()}),u.attachEvent("onGanttReady",r),u.attachEvent("onDestroy",r),u.event(window,"keydown",function(e){e.keyCode===27&&u.ext.quickInfo.hide()})}},function(D,E,h){var _=h(2).replaceValidZeroId;D.exports=function(u){u.config.multiselect=!0,u.config.multiselect_one_level=!1,u._multiselect={_selected:{},_one_level:!1,_active:!0,_first_selected_when_shift:null,getDefaultSelected:function(){var s=this.getSelected();return s.length?s[s.length-1]:null},setFirstSelected:function(s){this._first_selected_when_shift=s},getFirstSelected:function(){return this._first_selected_when_shift},isActive:function(){return this.updateState(),this._active},updateState:function(){this._one_level=u.config.multiselect_one_level;var s=this._active;this._active=u.config.select_task,this._active!=s&&this.reset()},reset:function(){this._selected={}},setLastSelected:function(s){u.$data.tasksStore.silent(function(){var c=u.$data.tasksStore;s?c.select(s+""):c.unselect(null)})},getLastSelected:function(){var s=u.$data.tasksStore.getSelectedId();return s&&u.isTaskExists(s)?s:null},select:function(s,c){return!!(s&&u.callEvent("onBeforeTaskMultiSelect",[s,!0,c])&&u.callEvent("onBeforeTaskSelected",[s]))&&(this._selected[s]=!0,this.setLastSelected(s),this.afterSelect(s),u.callEvent("onTaskMultiSelect",[s,!0,c]),u.callEvent("onTaskSelected",[s]),!0)},toggle:function(s,c){this._selected[s]?this.unselect(s,c):this.select(s,c)},unselect:function(s,c){s&&u.callEvent("onBeforeTaskMultiSelect",[s,!1,c])&&(this._selected[s]=!1,this.getLastSelected()==s&&this.setLastSelected(this.getDefaultSelected()),this.afterSelect(s),u.callEvent("onTaskMultiSelect",[s,!1,c]),u.callEvent("onTaskUnselected",[s]))},isSelected:function(s){return!(!u.isTaskExists(s)||!this._selected[s])},getSelected:function(){var s=[];for(var c in this._selected)this._selected[c]&&u.isTaskExists(c)?s.push(c):this._selected[c]=!1;return s.sort(function(i,r){return u.getGlobalTaskIndex(i)>u.getGlobalTaskIndex(r)?1:-1}),s},forSelected:function(s){for(var c=this.getSelected(),i=0;i<c.length;i++)s(c[i])},isSameLevel:function(s){if(!this._one_level)return!0;var c=this.getLastSelected();return!c||!u.isTaskExists(c)||!u.isTaskExists(s)||u.calculateTaskLevel(u.getTask(c))==u.calculateTaskLevel(u.getTask(s))},afterSelect:function(s){u.isTaskExists(s)&&u._quickRefresh(function(){u.refreshTask(s)})},doSelection:function(s){if(!this.isActive()||u._is_icon_open_click(s))return!1;var c=u.locate(s);if(!c||!u.callEvent("onBeforeMultiSelect",[s]))return!1;var i=this.getSelected(),r=this.getFirstSelected(),e=!1,t=this.getLastSelected(),n=u.config.multiselect,o=function(){var l=u.ext.inlineEditors,d=l.getState(),f=l.locateCell(s.target);u.config.inline_editors_multiselect_open&&f&&l.getEditorConfig(f.columnName)&&(l.isVisible()&&d.id==f.id&&d.columnName==f.columnName||l.startEdit(f.id,f.columnName)),this.setFirstSelected(c),this.isSelected(c)||this.select(c,s),i=this.getSelected();for(var g=0;g<i.length;g++)i[g]!==c&&this.unselect(i[g],s)}.bind(this),a=function(){if(t){if(c){for(var l=u.getGlobalTaskIndex(this.getFirstSelected()),d=u.getGlobalTaskIndex(c),f=u.getGlobalTaskIndex(t),g=t;u.getGlobalTaskIndex(g)!==l;)this.unselect(g,s),g=l>f?u.getNext(g):u.getPrev(g);for(g=c;u.getGlobalTaskIndex(g)!==l;)this.select(g,s)&&!e&&(e=!0,r=g),g=l>d?u.getNext(g):u.getPrev(g)}}else t=c}.bind(this);return n&&(s.ctrlKey||s.metaKey)?(this.isSelected(c)||this.setFirstSelected(c),c&&this.toggle(c,s)):n&&s.shiftKey?(u.isTaskExists(this.getFirstSelected())&&this.getFirstSelected()!==null||this.setFirstSelected(c),i.length?a():o()):o(),this.isSelected(c)?this.setLastSelected(c):r?c==t&&this.setLastSelected(s.shiftKey?r:this.getDefaultSelected()):this.setLastSelected(null),this.getSelected().length||this.setLastSelected(null),this.getLastSelected()&&this.isSelected(this.getFirstSelected())||this.setFirstSelected(this.getLastSelected()),!0}},function(){var s=u.selectTask;u.selectTask=function(i){if(!(i=_(i,this.config.root_id)))return!1;var r=u._multiselect,e=i;return r.isActive()?(r.select(i,null)&&r.setLastSelected(i),r.setFirstSelected(r.getLastSelected())):e=s.call(this,i),e};var c=u.unselectTask;u.unselectTask=function(i){var r=u._multiselect,e=r.isActive();(i=i||r.getLastSelected())&&e&&(r.unselect(i,null),i==r.getLastSelected()&&r.setLastSelected(null),u.refreshTask(i),r.setFirstSelected(r.getLastSelected()));var t=i;return e||(t=c.call(this,i)),t},u.toggleTaskSelection=function(i){var r=u._multiselect;i&&r.isActive()&&(r.toggle(i),r.setFirstSelected(r.getLastSelected()))},u.getSelectedTasks=function(){var i=u._multiselect;return i.isActive(),i.getSelected()},u.eachSelectedTask=function(i){return this._multiselect.forSelected(i)},u.isSelectedTask=function(i){return this._multiselect.isSelected(i)},u.getLastSelectedTask=function(){return this._multiselect.getLastSelected()},u.attachEvent("onGanttReady",function(){var i=u.$data.tasksStore.isSelected;u.$data.tasksStore.isSelected=function(r){return u._multiselect.isActive()?u._multiselect.isSelected(r):i.call(this,r)}})}(),u.attachEvent("onTaskIdChange",function(s,c){var i=u._multiselect;if(!i.isActive())return!0;u.isSelectedTask(s)&&(i.unselect(s,null),i.select(c,null))}),u.attachEvent("onAfterTaskDelete",function(s,c){var i=u._multiselect;if(!i.isActive())return!0;i._selected[s]&&(i.unselect(s,null),i._selected[s]=!1,i.setLastSelected(i.getDefaultSelected())),i.forSelected(function(r){u.isTaskExists(r)||i.unselect(r,null)})}),u.attachEvent("onBeforeTaskMultiSelect",function(s,c,i){var r=u._multiselect;return!(c&&r.isActive()&&r._one_level)||r.isSameLevel(s)}),u.attachEvent("onTaskClick",function(s,c){return u._multiselect.doSelection(c)&&u.callEvent("onMultiSelect",[c]),!0})}},function(D,E){D.exports=function(h){function _(s){if(!h.config.show_markers||!s.start_date)return!1;var c=h.getState();if(!(+s.start_date>+c.max_date||(!s.end_date||+s.end_date<+c.min_date)&&+s.start_date<+c.min_date)){var i=document.createElement("div");i.setAttribute("data-marker-id",s.id);var r="gantt_marker";h.templates.marker_class&&(r+=" "+h.templates.marker_class(s)),s.css&&(r+=" "+s.css),s.title&&(i.title=s.title),i.className=r;var e=h.posFromDate(s.start_date);i.style.left=e+"px";var t=Math.max(h.getRowTop(h.getVisibleTaskCount()),0)+"px";if(h.config.timeline_placeholder&&(t=h.$container.scrollHeight+"px"),i.style.height=t,s.end_date){var n=h.posFromDate(s.end_date);i.style.width=Math.max(n-e,0)+"px"}return s.text&&(i.innerHTML="<div class='gantt_marker_content' >"+s.text+"</div>"),i}}function u(){if(h.$task_data){var s=document.createElement("div");s.className="gantt_marker_area",h.$task_data.appendChild(s),h.$marker_area=s}}h._markers||(h._markers=h.createDatastore({name:"marker",initItem:function(s){return s.id=s.id||h.uid(),s}})),h.config.show_markers=!0,h.attachEvent("onBeforeGanttRender",function(){h.$marker_area||u()}),h.attachEvent("onDataRender",function(){h.$marker_area||(u(),h.renderMarkers())}),h.attachEvent("onGanttLayoutReady",function(){h.attachEvent("onBeforeGanttRender",function(){u(),h.$services.getService("layers").createDataRender({name:"marker",defaultContainer:function(){return h.$marker_area}}).addLayer(_)},{once:!0})}),h.getMarker=function(s){return this._markers?this._markers.getItem(s):null},h.addMarker=function(s){return this._markers.addItem(s)},h.deleteMarker=function(s){return!!this._markers.exists(s)&&(this._markers.removeItem(s),!0)},h.updateMarker=function(s){this._markers.refresh(s)},h._getMarkers=function(){return this._markers.getItems()},h.renderMarkers=function(){this._markers.refresh()}}},function(D,E){D.exports=function(h){h.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new h.$keyboardNavigation.GanttNode,enable:function(){this.isActive=!0,this.setActiveNode(this.getActiveNode())},disable:function(){this.isActive=!1},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){var _;return(_=h.config.keyboard_navigation_cells?new h.$keyboardNavigation.TaskCell:new h.$keyboardNavigation.TaskRow).isValid()||(_=_.fallback()),_},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var _=this.activeNode;return _&&!_.isValid()&&(_=_.fallback()),_},fromDomElement:function(_){for(var u=[h.$keyboardNavigation.TaskRow,h.$keyboardNavigation.TaskCell,h.$keyboardNavigation.HeaderCell],s=0;s<u.length;s++)if(u[s].prototype.fromDomElement){var c=u[s].prototype.fromDomElement(_);if(c)return c}return null},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(_){var u=!0;this.activeNode&&this.activeNode.compareTo(_)&&(u=!1),this.isEnabled()&&(u&&this.blurNode(this.activeNode),this.activeNode=_,this.focusNode(this.activeNode,!u))},focusNode:function(_,u){_&&_.focus&&_.focus(u)},blurNode:function(_){_&&_.blur&&_.blur()},keyDownHandler:function(_){if(!h.$keyboardNavigation.isModal()&&this.isEnabled()&&!_.defaultPrevented){var u=this.globalNode,s=h.$keyboardNavigation.shortcuts.getCommandFromEvent(_),c=this.getActiveNode();h.$keyboardNavigation.facade.callEvent("onKeyDown",[s,_])!==!1&&(c?c.findHandler(s)?c.doAction(s,_):u.findHandler(s)&&u.doAction(s,_):this.setDefaultNode())}},_timeout:null,awaitsFocus:function(){return this._timeout!==null},delay:function(_,u){clearTimeout(this._timeout),this._timeout=setTimeout(h.bind(function(){this._timeout=null,_()},this),u||1)},clearDelay:function(){clearTimeout(this._timeout)}}}},function(D,E){D.exports=function(h){(function(){var _=[];function u(){return!!_.length}function s(n){setTimeout(function(){u()||h.$destroyed||h.focus()},1)}function c(n){h.eventRemove(n,"keydown",r),h.event(n,"keydown",r),_.push(n)}function i(){var n=_.pop();n&&h.eventRemove(n,"keydown",r),s()}function r(n){var o=n.currentTarget;(function(a){return a==_[_.length-1]})(o)&&h.$keyboardNavigation.trapFocus(o,n)}function e(){c(h.getLightbox())}h.attachEvent("onLightbox",e),h.attachEvent("onAfterLightbox",i),h.attachEvent("onLightboxChange",function(){i(),e()}),h.attachEvent("onAfterQuickInfo",function(){s()}),h.attachEvent("onMessagePopup",function(n){t=h.utils.dom.getActiveElement(),c(n)}),h.attachEvent("onAfterMessagePopup",function(){i(),setTimeout(function(){t&&(t.focus(),t=null)},1)});var t=null;h.$keyboardNavigation.isModal=u})()}},function(D,E,h){D.exports=function(_){var u=h(1),s=h(2).replaceValidZeroId;_.$keyboardNavigation.TaskCell=function(c,i){if(!(c=s(c,_.config.root_id))){var r=_.getChildren(_.config.root_id);r[0]&&(c=r[0])}this.taskId=c,this.columnIndex=i||0,_.isTaskExists(this.taskId)&&(this.index=_.getTaskIndex(this.taskId),this.globalIndex=_.getGlobalTaskIndex(this.taskId))},_.$keyboardNavigation.TaskCell.prototype=_._compose(_.$keyboardNavigation.TaskRow,{_handlers:null,isValid:function(){return _.$keyboardNavigation.TaskRow.prototype.isValid.call(this)&&!!_.getGridColumns()[this.columnIndex]},fallback:function(){var c=_.$keyboardNavigation.TaskRow.prototype.fallback.call(this),i=c;if(c instanceof _.$keyboardNavigation.TaskRow){for(var r=_.getGridColumns(),e=this.columnIndex;e>=0&&!r[e];)e--;r[e]&&(i=new _.$keyboardNavigation.TaskCell(c.taskId,e))}return i},fromDomElement:function(c){if(!_.config.keyboard_navigation_cells)return null;var i=_.locate(c);if(_.isTaskExists(i)){var r=0,e=u.locateAttribute(c,"data-column-index");return e&&(r=1*e.getAttribute("data-column-index")),new _.$keyboardNavigation.TaskCell(i,r)}return null},getNode:function(){if(_.isTaskExists(this.taskId)&&_.isTaskVisible(this.taskId)){if(_.config.show_grid){var c=_.$grid.querySelector(".gantt_row["+_.config.task_attribute+"='"+this.taskId+"']");return c?c.querySelector("[data-column-index='"+this.columnIndex+"']"):null}return _.getTaskNode(this.taskId)}},keys:{up:function(){var c=null,i=_.getPrev(this.taskId);c=_.isTaskExists(i)?new _.$keyboardNavigation.TaskCell(i,this.columnIndex):new _.$keyboardNavigation.HeaderCell(this.columnIndex),this.moveTo(c)},down:function(){var c=_.getNext(this.taskId);_.isTaskExists(c)&&this.moveTo(new _.$keyboardNavigation.TaskCell(c,this.columnIndex))},left:function(){this.columnIndex>0&&this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex-1))},right:function(){var c=_.getGridColumns();this.columnIndex<c.length-1&&this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex+1))},end:function(){var c=_.getGridColumns();this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,c.length-1))},home:function(){this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,0))},pagedown:function(){_.getVisibleTaskCount()&&this.moveTo(new _.$keyboardNavigation.TaskCell(_.getTaskByIndex(_.getVisibleTaskCount()-1).id,this.columnIndex))},pageup:function(){_.getVisibleTaskCount()&&this.moveTo(new _.$keyboardNavigation.TaskCell(_.getTaskByIndex(0).id,this.columnIndex))}}}),_.$keyboardNavigation.TaskCell.prototype.bindAll(_.$keyboardNavigation.TaskRow.prototype.keys),_.$keyboardNavigation.TaskCell.prototype.bindAll(_.$keyboardNavigation.TaskCell.prototype.keys)}},function(D,E){D.exports=function(h){h.$keyboardNavigation.TaskRow=function(_){if(!_){var u=h.getChildren(h.config.root_id);u[0]&&(_=u[0])}this.taskId=_,h.isTaskExists(this.taskId)&&(this.index=h.getTaskIndex(this.taskId),this.globalIndex=h.getGlobalTaskIndex(this.taskId))},h.$keyboardNavigation.TaskRow.prototype=h._compose(h.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return h.isTaskExists(this.taskId)&&h.getTaskIndex(this.taskId)>-1},fallback:function(){if(!h.getVisibleTaskCount()){var _=new h.$keyboardNavigation.HeaderCell;return _.isValid()?_:null}var u=-1;if(h.getTaskByIndex(this.globalIndex-1))u=this.globalIndex-1;else if(h.getTaskByIndex(this.globalIndex+1))u=this.globalIndex+1;else for(var s=this.globalIndex;s>=0;){if(h.getTaskByIndex(s)){u=s;break}s--}if(u>-1)return new h.$keyboardNavigation.TaskRow(h.getTaskByIndex(u).id)},fromDomElement:function(_){if(h.config.keyboard_navigation_cells)return null;var u=h.locate(_);return h.isTaskExists(u)?new h.$keyboardNavigation.TaskRow(u):null},getNode:function(){if(h.isTaskExists(this.taskId)&&h.isTaskVisible(this.taskId))return h.config.show_grid?h.$grid.querySelector(".gantt_row["+h.config.task_attribute+"='"+this.taskId+"']"):h.getTaskNode(this.taskId)},focus:function(_){if(!_){var u,s,c=h.getTaskPosition(h.getTask(this.taskId)),i=h.getTaskHeight(this.taskId),r=h.getScrollState();u=h.$task?h.$task.offsetWidth:r.inner_width,s=h.$grid_data||h.$task_data?(h.$grid_data||h.$task_data).offsetHeight:r.inner_height,c.top<r.y||c.top+i>r.y+s?h.scrollTo(null,c.top-5*i):h.config.scroll_on_click&&h.config.show_chart&&(c.left>r.x+u?h.scrollTo(c.left-h.config.task_scroll_offset):c.left+c.width<r.x&&h.scrollTo(c.left+c.width-h.config.task_scroll_offset))}h.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this,[_]),function(){var e=h.$ui.getView("grid"),t=parseInt(e.$grid.scrollLeft),n=parseInt(e.$grid_data.scrollTop),o=e.$config.scrollX;if(o&&e.$config.scrollable){var a=h.$ui.getView(o);a&&a.scrollTo(t,n)}var l=e.$config.scrollY;if(l){var d=h.$ui.getView(l);d&&d.scrollTo(t,n)}}()},keys:{pagedown:function(){h.getVisibleTaskCount()&&this.moveTo(new h.$keyboardNavigation.TaskRow(h.getTaskByIndex(h.getVisibleTaskCount()-1).id))},pageup:function(){h.getVisibleTaskCount()&&this.moveTo(new h.$keyboardNavigation.TaskRow(h.getTaskByIndex(0).id))},up:function(){var _=null,u=h.getPrev(this.taskId);_=h.isTaskExists(u)?new h.$keyboardNavigation.TaskRow(u):new h.$keyboardNavigation.HeaderCell,this.moveTo(_)},down:function(){var _=h.getNext(this.taskId);h.isTaskExists(_)&&this.moveTo(new h.$keyboardNavigation.TaskRow(_))},"shift+down":function(){h.hasChild(this.taskId)&&!h.getTask(this.taskId).$open&&h.open(this.taskId)},"shift+up":function(){h.hasChild(this.taskId)&&h.getTask(this.taskId).$open&&h.close(this.taskId)},"shift+right":function(){if(!h.isReadonly(this)){var _=h.getPrevSibling(this.taskId);h.isTaskExists(_)&&!h.isChildOf(this.taskId,_)&&(h.getTask(_).$open=!0,h.moveTask(this.taskId,-1,_)!==!1&&h.updateTask(this.taskId))}},"shift+left":function(){if(!h.isReadonly(this)){var _=h.getParent(this.taskId);h.isTaskExists(_)&&h.moveTask(this.taskId,h.getTaskIndex(_)+1,h.getParent(_))!==!1&&h.updateTask(this.taskId)}},space:function(_){h.isSelectedTask(this.taskId)?h.unselectTask(this.taskId):h.selectTask(this.taskId)},"ctrl+left":function(_){h.close(this.taskId)},"ctrl+right":function(_){h.open(this.taskId)},delete:function(_){h.isReadonly(this)||h.$click.buttons.delete(this.taskId)},enter:function(){h.isReadonly(this)||h.showLightbox(this.taskId)},"ctrl+enter":function(){h.isReadonly(this)||h.createTask({},this.taskId)}}}),h.$keyboardNavigation.TaskRow.prototype.bindAll(h.$keyboardNavigation.TaskRow.prototype.keys)}},function(D,E,h){D.exports=function(_){var u=h(1);_.$keyboardNavigation.HeaderCell=function(s){this.index=s||0},_.$keyboardNavigation.HeaderCell.prototype=_._compose(_.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return!(!_.config.show_grid&&_.getVisibleTaskCount())&&(!!_.getGridColumns()[this.index]||!_.getVisibleTaskCount())},fallback:function(){if(!_.config.show_grid)return _.getVisibleTaskCount()?new _.$keyboardNavigation.TaskRow:null;for(var s=_.getGridColumns(),c=this.index;c>=0&&!s[c];)c--;return s[c]?new _.$keyboardNavigation.HeaderCell(c):null},fromDomElement:function(s){var c=u.locateClassName(s,"gantt_grid_head_cell");if(c){for(var i=0;c&&c.previousSibling;)c=c.previousSibling,i+=1;return new _.$keyboardNavigation.HeaderCell(i)}return null},getNode:function(){return _.$grid_scale.childNodes[this.index]},keys:{left:function(){this.index>0&&this.moveTo(new _.$keyboardNavigation.HeaderCell(this.index-1))},right:function(){var s=_.getGridColumns();this.index<s.length-1&&this.moveTo(new _.$keyboardNavigation.HeaderCell(this.index+1))},down:function(){var s,c=_.getChildren(_.config.root_id);_.isTaskExists(c[0])&&(s=c[0]),s&&(_.config.keyboard_navigation_cells?this.moveTo(new _.$keyboardNavigation.TaskCell(s,this.index)):this.moveTo(new _.$keyboardNavigation.TaskRow(s)))},end:function(){var s=_.getGridColumns();this.moveTo(new _.$keyboardNavigation.HeaderCell(s.length-1))},home:function(){this.moveTo(new _.$keyboardNavigation.HeaderCell(0))},"enter, space":function(){u.getActiveElement().click()},"ctrl+enter":function(){_.isReadonly(this)||_.createTask({},this.taskId)}}}),_.$keyboardNavigation.HeaderCell.prototype.bindAll(_.$keyboardNavigation.HeaderCell.prototype.keys)}},function(D,E){D.exports=function(h){h.$keyboardNavigation.KeyNavNode=function(){},h.$keyboardNavigation.KeyNavNode.prototype=h._compose(h.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(_){h.$keyboardNavigation.dispatcher.setActiveNode(_)},compareTo:function(_){if(!_)return!1;for(var u in this){if(!!this[u]!=!!_[u])return!1;var s=!(!this[u]||!this[u].toString),c=!(!_[u]||!_[u].toString);if(c!=s)return!1;if(c&&s){if(_[u].toString()!=this[u].toString())return!1}else if(_[u]!=this[u])return!1}return!0},getNode:function(){},focus:function(){var _=this.getNode();if(_){var u=h.$keyboardNavigation.facade;u.callEvent("onBeforeFocus",[_])!==!1&&_&&(_.setAttribute("tabindex","-1"),_.$eventAttached||(_.$eventAttached=!0,h.event(_,"focus",function(s){return s.preventDefault(),!1},!1)),h.utils.dom.isChildOf(document.activeElement,_)&&(_=document.activeElement),_.focus&&_.focus(),u.callEvent("onFocus",[this.getNode()]))}},blur:function(){var _=this.getNode();_&&(h.$keyboardNavigation.facade.callEvent("onBlur",[_]),_.setAttribute("tabindex","-1"))}})}},function(D,E){D.exports=function(h){h.$keyboardNavigation.GanttNode=function(){},h.$keyboardNavigation.GanttNode.prototype=h._compose(h.$keyboardNavigation.EventHandler,{focus:function(){h.focus()},blur:function(){},isEnabled:function(){return h.$container.hasAttribute("tabindex")},scrollHorizontal:function(_){var u=h.dateFromPos(h.getScrollState().x),s=h.getScale(),c=_<0?-s.step:s.step;u=h.date.add(u,c,s.unit),h.scrollTo(h.posFromDate(u))},scrollVertical:function(_){var u=h.getScrollState().y,s=h.config.row_height;h.scrollTo(null,u+(_<0?-1:1)*s)},keys:{"alt+left":function(_){this.scrollHorizontal(-1)},"alt+right":function(_){this.scrollHorizontal(1)},"alt+up":function(_){this.scrollVertical(-1)},"alt+down":function(_){this.scrollVertical(1)},"ctrl+z":function(){h.undo&&h.undo()},"ctrl+r":function(){h.redo&&h.redo()}}}),h.$keyboardNavigation.GanttNode.prototype.bindAll(h.$keyboardNavigation.GanttNode.prototype.keys)}},function(D,E,h){D.exports=function(_){(function(){var u=h(1);_.$keyboardNavigation.getFocusableNodes=u.getFocusableNodes,_.$keyboardNavigation.trapFocus=function(s,c){if(c.keyCode!=9)return!1;for(var i=_.$keyboardNavigation.getFocusableNodes(s),r=u.getActiveElement(),e=-1,t=0;t<i.length;t++)if(i[t]==r){e=t;break}if(c.shiftKey){if(e<=0){var n=i[i.length-1];if(n)return n.focus(),c.preventDefault(),!0}}else if(e>=i.length-1){var o=i[0];if(o)return o.focus(),c.preventDefault(),!0}return!1}})()}},function(D,E){D.exports=function(h){h.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(_){this._handlers||(this._handlers={});var u=h.$keyboardNavigation.shortcuts.getHash(_);return this._handlers[u]},doAction:function(_,u){var s=this.findHandler(_);if(s){if(h.$keyboardNavigation.facade.callEvent("onBeforeAction",[_,u])===!1)return;s.call(this,u),u.preventDefault?u.preventDefault():u.returnValue=!1}},bind:function(_,u){this._handlers||(this._handlers={});for(var s=h.$keyboardNavigation.shortcuts,c=s.parse(_),i=0;i<c.length;i++)this._handlers[s.getHash(c[i])]=u},unbind:function(_){for(var u=h.$keyboardNavigation.shortcuts,s=u.parse(_),c=0;c<s.length;c++)this._handlers[u.getHash(s[c])]&&delete this._handlers[u.getHash(s[c])]},bindAll:function(_){for(var u in _)this.bind(u,_[u])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}},function(D,E){D.exports=function(h){h.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(_){for(var u=[],s=this.getExpressions(this.trim(_)),c=0;c<s.length;c++){for(var i=this.getWords(s[c]),r=this.createCommand(),e=0;e<i.length;e++)this.commandKeys[i[e]]?r.modifiers[i[e]]=!0:this.specialKeys[i[e]]?r.keyCode=this.specialKeys[i[e]]:r.keyCode=i[e].charCodeAt(0);u.push(r)}return u},getCommandFromEvent:function(_){var u=this.createCommand();u.modifiers.shift=!!_.shiftKey,u.modifiers.alt=!!_.altKey,u.modifiers.ctrl=!!_.ctrlKey,u.modifiers.meta=!!_.metaKey,u.keyCode=_.which||_.keyCode,u.keyCode>=96&&u.keyCode<=105&&(u.keyCode-=48);var s=String.fromCharCode(u.keyCode);return s&&(u.keyCode=s.toLowerCase().charCodeAt(0)),u},getHashFromEvent:function(_){return this.getHash(this.getCommandFromEvent(_))},getHash:function(_){var u=[];for(var s in _.modifiers)_.modifiers[s]&&u.push(s);return u.push(_.keyCode),u.join(this.junctionChar)},getExpressions:function(_){return _.split(this.junctionChar)},getWords:function(_){return _.split(this.combinationChar)},trim:function(_){return _.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}},function(D,E,h){D.exports=function(_){var u=h(5);(function(s){s.config.keyboard_navigation=!0,s.config.keyboard_navigation_cells=!1,s.$keyboardNavigation={},s._compose=function(){for(var i=Array.prototype.slice.call(arguments,0),r={},e=0;e<i.length;e++){var t=i[e];for(var n in typeof t=="function"&&(t=new t),t)r[n]=t[n]}return r},h(270)(s),h(269)(s),h(268)(s),h(267)(s),h(266)(s),h(265)(s),h(264)(s),h(263)(s),h(262)(s),h(261)(s);var c=h(1);(function(){var i=s.$keyboardNavigation.dispatcher;i.isTaskFocused=function(m){var b=i.activeNode;return(b instanceof s.$keyboardNavigation.TaskRow||b instanceof s.$keyboardNavigation.TaskCell)&&b.taskId==m};var r=function(m){if(s.config.keyboard_navigation&&(s.config.keyboard_navigation_cells||!n(m))&&!o(m)&&!function(b){return!!c.closest(b.target,".gantt_cal_light")}(m))return i.keyDownHandler(m)},e=function(m){if(i.$preventDefault)return m.preventDefault(),s.$container.blur(),!1;i.awaitsFocus()||i.focusGlobalNode()},t=function(){if(i.isEnabled()){var m=!c.isChildOf(document.activeElement,s.$container)&&document.activeElement.localName!="body",b=i.getActiveNode();if(b&&!m){var k,$,x=b.getNode();x&&x.parentNode&&(k=x.parentNode.scrollTop,$=x.parentNode.scrollLeft),b.focus(!0),x&&x.parentNode&&(x.parentNode.scrollTop=k,x.parentNode.scrollLeft=$)}}};function n(m){return!!c.closest(m.target,".gantt_grid_editor_placeholder")}function o(m){return!!c.closest(m.target,".no_keyboard_navigation")}function a(m){if(!s.config.keyboard_navigation||!s.config.keyboard_navigation_cells&&n(m))return!0;if(!o(m)){var b,k=i.fromDomElement(m);k&&(i.activeNode instanceof s.$keyboardNavigation.TaskCell&&c.isChildOf(m.target,s.$task)&&(k=new s.$keyboardNavigation.TaskCell(k.taskId,i.activeNode.columnIndex)),b=k),b?i.isEnabled()?i.delay(function(){i.setActiveNode(b)}):i.activeNode=b:(i.$preventDefault=!0,setTimeout(function(){i.$preventDefault=!1},300))}}s.attachEvent("onDataRender",function(){s.config.keyboard_navigation&&t()}),s.attachEvent("onGanttRender",function(){s.eventRemove(s.$root,"keydown",r),s.eventRemove(s.$container,"focus",e),s.eventRemove(s.$container,"mousedown",a),s.config.keyboard_navigation?(s.event(s.$root,"keydown",r),s.event(s.$container,"focus",e),s.event(s.$container,"mousedown",a),s.$container.setAttribute("tabindex","0")):s.$container.removeAttribute("tabindex")});var l=s.attachEvent("onGanttReady",function(){if(s.detachEvent(l),s.$data.tasksStore.attachEvent("onStoreUpdated",function(b){if(s.config.keyboard_navigation&&i.isEnabled()){var k=i.getActiveNode();k&&k.taskId==b&&t()}}),s._smart_render){var m=s._smart_render._redrawTasks;s._smart_render._redrawTasks=function(b,k){if(s.config.keyboard_navigation&&i.isEnabled()){var $=i.getActiveNode();if($&&$.taskId!==void 0){for(var x=!1,w=0;w<k.length;w++)if(k[w].id==$.taskId&&k[w].start_date){x=!0;break}x||k.push(s.getTask($.taskId))}}return m.apply(this,arguments)}}}),d=null,f=!1;s.attachEvent("onTaskCreated",function(m){return d=m.id,!0}),s.attachEvent("onAfterTaskAdd",function(m,b){if(!s.config.keyboard_navigation)return!0;if(i.isEnabled()){if(m==d&&(f=!0,setTimeout(function(){f=!1,d=null})),f&&b.type==s.config.types.placeholder)return;var k=0,$=i.activeNode;$ instanceof s.$keyboardNavigation.TaskCell&&(k=$.columnIndex);var x=s.config.keyboard_navigation_cells?s.$keyboardNavigation.TaskCell:s.$keyboardNavigation.TaskRow;b.type==s.config.types.placeholder&&s.config.placeholder_task.focusOnCreate===!1||i.setActiveNode(new x(m,k))}}),s.attachEvent("onTaskIdChange",function(m,b){if(!s.config.keyboard_navigation)return!0;var k=i.activeNode;return i.isTaskFocused(m)&&(k.taskId=b),!0});var g=setInterval(function(){s.config.keyboard_navigation&&(i.isEnabled()||i.enable())},500);function p(m){var b={gantt:s.$keyboardNavigation.GanttNode,headerCell:s.$keyboardNavigation.HeaderCell,taskRow:s.$keyboardNavigation.TaskRow,taskCell:s.$keyboardNavigation.TaskCell};return b[m]||b.gantt}function v(m){for(var b=s.getGridColumns(),k=0;k<b.length;k++)if(b[k].name==m)return k;return 0}s.attachEvent("onDestroy",function(){clearInterval(g)});var y={};u(y),s.mixin(y,{addShortcut:function(m,b,k){var $=p(k);$&&$.prototype.bind(m,b)},getShortcutHandler:function(m,b){var k=s.$keyboardNavigation.shortcuts.parse(m);if(k.length)return y.getCommandHandler(k[0],b)},getCommandHandler:function(m,b){var k=p(b);if(k&&m)return k.prototype.findHandler(m)},removeShortcut:function(m,b){var k=p(b);k&&k.prototype.unbind(m)},focus:function(m){var b,k=m?m.type:null,$=p(k);switch(k){case"taskCell":b=new $(m.id,v(m.column));break;case"taskRow":b=new $(m.id);break;case"headerCell":b=new $(v(m.column))}i.delay(function(){b?i.setActiveNode(b):(i.enable(),i.getActiveNode()?i.awaitsFocus()||i.enable():i.setDefaultNode())})},getActiveNode:function(){if(i.isEnabled()){var m=i.getActiveNode(),b=function($){return $ instanceof s.$keyboardNavigation.GanttNode?"gantt":$ instanceof s.$keyboardNavigation.HeaderCell?"headerCell":$ instanceof s.$keyboardNavigation.TaskRow?"taskRow":$ instanceof s.$keyboardNavigation.TaskCell?"taskCell":null}(m),k=s.getGridColumns();switch(b){case"taskCell":return{type:"taskCell",id:m.taskId,column:k[m.columnIndex].name};case"taskRow":return{type:"taskRow",id:m.taskId};case"headerCell":return{type:"headerCell",column:k[m.index].name}}}return null}}),s.$keyboardNavigation.facade=y,s.ext.keyboardNavigation=y,s.focus=function(){y.focus()},s.addShortcut=y.addShortcut,s.getShortcutHandler=y.getShortcutHandler,s.removeShortcut=y.removeShortcut})()})(_)}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(_){function u(){var a=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return!(!a||a!==document.body)}function s(){try{return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}catch(a){console.error("Fullscreen is not available:",a)}}_.$services.getService("state").registerProvider("fullscreen",function(){return s()?{fullscreen:u()}:void 0});var c={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},i={width:null,height:null,top:null,left:null,position:null,zIndex:null,modified:!1},r=null;function e(a,l){l.width=a.width,l.height=a.height,l.top=a.top,l.left=a.left,l.position=a.position,l.zIndex=a.zIndex}var t=!1;function n(){var a;_.$container&&(u()?t&&(a="onExpand",function(){var l=_.ext.fullscreen.getFullscreenElement(),d=document.body;e(l.style,i),c={overflow:d.style.overflow,padding:d.style.padding?d.style.padding:null,paddingTop:d.style.paddingTop?d.style.paddingTop:null,paddingRight:d.style.paddingRight?d.style.paddingRight:null,paddingBottom:d.style.paddingBottom?d.style.paddingBottom:null,paddingLeft:d.style.paddingLeft?d.style.paddingLeft:null},d.style.padding&&(d.style.padding="0"),d.style.paddingTop&&(d.style.paddingTop="0"),d.style.paddingRight&&(d.style.paddingRight="0"),d.style.paddingBottom&&(d.style.paddingBottom="0"),d.style.paddingLeft&&(d.style.paddingLeft="0"),d.style.overflow="hidden",l.style.width="100vw",l.style.height="100vh",l.style.top="0px",l.style.left="0px",l.style.position="absolute",l.style.zIndex=1,i.modified=!0,r=function(f){for(var g=f.parentNode,p=[];g&&g.style;)p.push({element:g,originalPositioning:g.style.position}),g.style.position="static",g=g.parentNode;return p}(l)}()):t&&(t=!1,a="onCollapse",function(){var l=_.ext.fullscreen.getFullscreenElement(),d=document.body;i.modified&&(c.padding&&(d.style.padding=c.padding),c.paddingTop&&(d.style.paddingTop=c.paddingTop),c.paddingRight&&(d.style.paddingRight=c.paddingRight),c.paddingBottom&&(d.style.paddingBottom=c.paddingBottom),c.paddingLeft&&(d.style.paddingLeft=c.paddingLeft),d.style.overflow=c.overflow,c={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},e(i,l.style),i.modified=!1),function(f){f.forEach(function(g){g.element.style.position=g.originalPositioning})}(r),r=null}()),setTimeout(function(){_.render()}),setTimeout(function(){_.callEvent(a,[_.ext.fullscreen.getFullscreenElement()])}))}function o(){return!_.$container||!_.ext.fullscreen.getFullscreenElement()||!s()&&((console.warning||console.log)("The `fullscreen` feature not being allowed, or full-screen mode not being supported"),!0)}_.ext.fullscreen={expand:function(){if(!o()&&!u()&&_.callEvent("onBeforeExpand",[this.getFullscreenElement()])){t=!0;var a=document.body,l=a.webkitRequestFullscreen?[Element.ALLOW_KEYBOARD_INPUT]:[],d=a.msRequestFullscreen||a.mozRequestFullScreen||a.webkitRequestFullscreen||a.requestFullscreen;d&&d.apply(a,l)}},collapse:function(){if(!o()&&u()&&_.callEvent("onBeforeCollapse",[this.getFullscreenElement()])){var a=document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.exitFullscreen;a&&a.apply(document)}},toggle:function(){o()||(u()?this.collapse():this.expand())},getFullscreenElement:function(){return _.$root}},_.expand=function(){_.ext.fullscreen.expand()},_.collapse=function(){_.ext.fullscreen.collapse()},_.attachEvent("onGanttReady",function(){_.event(document,"webkitfullscreenchange",n),_.event(document,"mozfullscreenchange",n),_.event(document,"MSFullscreenChange",n),_.event(document,"fullscreenChange",n),_.event(document,"fullscreenchange",n)})}},function(D,E,h){function _(r){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}var u=function(r){switch(_(r)){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};D.exports=function(r,e,t,n){return e=e||"&",t=t||"=",r===null&&(r=void 0),_(r)==="object"?c(i(r),function(o){var a=encodeURIComponent(u(o))+t;return s(r[o])?c(r[o],function(l){return a+encodeURIComponent(u(l))}).join(e):a+encodeURIComponent(u(r[o]))}).join(e):n?encodeURIComponent(u(n))+t+encodeURIComponent(u(r)):""};var s=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function c(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var i=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e}},function(D,E,h){function _(s,c){return Object.prototype.hasOwnProperty.call(s,c)}D.exports=function(s,c,i,r){c=c||"&",i=i||"=";var e={};if(typeof s!="string"||s.length===0)return e;var t=/\+/g;s=s.split(c);var n=1e3;r&&typeof r.maxKeys=="number"&&(n=r.maxKeys);var o=s.length;n>0&&o>n&&(o=n);for(var a=0;a<o;++a){var l,d,f,g,p=s[a].replace(t,"%20"),v=p.indexOf(i);v>=0?(l=p.substr(0,v),d=p.substr(v+1)):(l=p,d=""),f=decodeURIComponent(l),g=decodeURIComponent(d),_(e,f)?u(e[f])?e[f].push(g):e[f]=[e[f],g]:e[f]=g}return e};var u=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"}},function(D,E,h){E.decode=E.parse=h(274),E.encode=E.stringify=h(273)},function(D,E,h){function _(u){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}D.exports={isString:function(u){return typeof u=="string"},isObject:function(u){return _(u)==="object"&&u!==null},isNull:function(u){return u===null},isNullOrUndefined:function(u){return u==null}}},function(D,E){D.exports=function(h){return h.webpackPolyfill||(h.deprecate=function(){},h.paths=[],h.children||(h.children=[]),Object.defineProperty(h,"loaded",{enumerable:!0,get:function(){return h.l}}),Object.defineProperty(h,"id",{enumerable:!0,get:function(){return h.i}}),h.webpackPolyfill=1),h}},function(D,E,h){(function(_,u){var s;function c(i){"@babel/helpers - typeof";return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}/*! https://mths.be/punycode v1.4.1 by @mathias */(function(i){var r=c(E)=="object"&&E&&!E.nodeType&&E,e=c(_)=="object"&&_&&!_.nodeType&&_,t=(u===void 0?"undefined":c(u))=="object"&&u;t.global!==t&&t.window!==t&&t.self!==t||(i=t);var n,o,a=2147483647,l=36,d=1,f=26,g=38,p=700,v=72,y=128,m="-",b=/^xn--/,k=/[^\x20-\x7E]/,$=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=l-d,T=Math.floor,A=String.fromCharCode;function I(O){throw new RangeError(x[O])}function N(O,Y){for(var q=O.length,U=[];q--;)U[q]=Y(O[q]);return U}function j(O,Y){var q=O.split("@"),U="";return q.length>1&&(U=q[0]+"@",O=q[1]),U+N((O=O.replace($,".")).split("."),Y).join(".")}function B(O){for(var Y,q,U=[],L=0,S=O.length;L<S;)(Y=O.charCodeAt(L++))>=55296&&Y<=56319&&L<S?(64512&(q=O.charCodeAt(L++)))==56320?U.push(((1023&Y)<<10)+(1023&q)+65536):(U.push(Y),L--):U.push(Y);return U}function z(O){return N(O,function(Y){var q="";return Y>65535&&(q+=A((Y-=65536)>>>10&1023|55296),Y=56320|1023&Y),q+=A(Y)}).join("")}function K(O){return O-48<10?O-22:O-65<26?O-65:O-97<26?O-97:l}function J(O,Y){return O+22+75*(O<26)-((Y!=0)<<5)}function R(O,Y,q){var U=0;for(O=q?T(O/p):O>>1,O+=T(O/Y);O>w*f>>1;U+=l)O=T(O/w);return T(U+(w+1)*O/(O+g))}function P(O){var Y,q,U,L,S,C,M,H,F,W,Q=[],V=O.length,et=0,at=y,nt=v;for((q=O.lastIndexOf(m))<0&&(q=0),U=0;U<q;++U)O.charCodeAt(U)>=128&&I("not-basic"),Q.push(O.charCodeAt(U));for(L=q>0?q+1:0;L<V;){for(S=et,C=1,M=l;L>=V&&I("invalid-input"),((H=K(O.charCodeAt(L++)))>=l||H>T((a-et)/C))&&I("overflow"),et+=H*C,!(H<(F=M<=nt?d:M>=nt+f?f:M-nt));M+=l)C>T(a/(W=l-F))&&I("overflow"),C*=W;nt=R(et-S,Y=Q.length+1,S==0),T(et/Y)>a-at&&I("overflow"),at+=T(et/Y),et%=Y,Q.splice(et++,0,at)}return z(Q)}function G(O){var Y,q,U,L,S,C,M,H,F,W,Q,V,et,at,nt,X=[];for(V=(O=B(O)).length,Y=y,q=0,S=v,C=0;C<V;++C)(Q=O[C])<128&&X.push(A(Q));for(U=L=X.length,L&&X.push(m);U<V;){for(M=a,C=0;C<V;++C)(Q=O[C])>=Y&&Q<M&&(M=Q);for(M-Y>T((a-q)/(et=U+1))&&I("overflow"),q+=(M-Y)*et,Y=M,C=0;C<V;++C)if((Q=O[C])<Y&&++q>a&&I("overflow"),Q==Y){for(H=q,F=l;!(H<(W=F<=S?d:F>=S+f?f:F-S));F+=l)nt=H-W,at=l-W,X.push(A(J(W+nt%at,0))),H=T(nt/at);X.push(A(J(H,0))),S=R(q,et,U==L),q=0,++U}++q,++Y}return X.join("")}if(n={version:"1.4.1",ucs2:{decode:B,encode:z},decode:P,encode:G,toASCII:function(O){return j(O,function(Y){return k.test(Y)?"xn--"+G(Y):Y})},toUnicode:function(O){return j(O,function(Y){return b.test(Y)?P(Y.slice(4).toLowerCase()):Y})}},c(h(53))=="object"&&h(53))(s=function(){return n}.call(E,h,E,_))===void 0||(_.exports=s);else if(r&&e)if(_.exports==r)e.exports=n;else for(o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);else i.punycode=n})(this)}).call(this,h(277)(D),h(4))},function(D,E){D.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(D,E){D.exports=function(){for(var _={},u=0;u<arguments.length;u++){var s=arguments[u];for(var c in s)h.call(s,c)&&(_[c]=s[c])}return _};var h=Object.prototype.hasOwnProperty},function(D,E,h){var _=h(13).Buffer;D.exports=function(u){if(u instanceof Uint8Array){if(u.byteOffset===0&&u.byteLength===u.buffer.byteLength)return u.buffer;if(typeof u.buffer.slice=="function")return u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)}if(_.isBuffer(u)){for(var s=new Uint8Array(u.length),c=u.length,i=0;i<c;i++)s[i]=u[i];return s.buffer}throw new Error("Argument must be a Buffer")}},function(D,E,h){D.exports=s;var _=h(55),u=h(17);function s(c){if(!(this instanceof s))return new s(c);_.call(this,c)}u.inherits=h(8),u.inherits(s,_),s.prototype._transform=function(c,i,r){r(null,c)}},function(D,E,h){(function(_){function u(s){try{if(!_.localStorage)return!1}catch{return!1}var c=_.localStorage[s];return c!=null&&String(c).toLowerCase()==="true"}D.exports=function(s,c){if(u("noDeprecation"))return s;var i=!1;return function(){if(!i){if(u("throwDeprecation"))throw new Error(c);u("traceDeprecation")?console.trace(c):console.warn(c),i=!0}return s.apply(this,arguments)}}}).call(this,h(4))},function(D,E,h){(function(_,u){(function(s,c){if(!s.setImmediate){var i,r=1,e={},t=!1,n=s.document,o=Object.getPrototypeOf&&Object.getPrototypeOf(s);o=o&&o.setTimeout?o:s,{}.toString.call(s.process)==="[object process]"?i=function(d){u.nextTick(function(){l(d)})}:function(){if(s.postMessage&&!s.importScripts){var d=!0,f=s.onmessage;return s.onmessage=function(){d=!1},s.postMessage("","*"),s.onmessage=f,d}}()?function(){var d="setImmediate$"+Math.random()+"$",f=function(g){g.source===s&&typeof g.data=="string"&&g.data.indexOf(d)===0&&l(+g.data.slice(d.length))};s.addEventListener?s.addEventListener("message",f,!1):s.attachEvent("onmessage",f),i=function(g){s.postMessage(d+g,"*")}}():s.MessageChannel?function(){var d=new MessageChannel;d.port1.onmessage=function(f){l(f.data)},i=function(f){d.port2.postMessage(f)}}():n&&"onreadystatechange"in n.createElement("script")?function(){var d=n.documentElement;i=function(f){var g=n.createElement("script");g.onreadystatechange=function(){l(f),g.onreadystatechange=null,d.removeChild(g),g=null},d.appendChild(g)}}():i=function(d){setTimeout(l,0,d)},o.setImmediate=function(d){typeof d!="function"&&(d=new Function(""+d));for(var f=new Array(arguments.length-1),g=0;g<f.length;g++)f[g]=arguments[g+1];var p={callback:d,args:f};return e[r]=p,i(r),r++},o.clearImmediate=a}function a(d){delete e[d]}function l(d){if(t)setTimeout(l,0,d);else{var f=e[d];if(f){t=!0;try{(function(g){var p=g.callback,v=g.args;switch(v.length){case 0:p();break;case 1:p(v[0]);break;case 2:p(v[0],v[1]);break;case 3:p(v[0],v[1],v[2]);break;default:p.apply(c,v)}})(f)}finally{a(d),t=!1}}}}})(typeof self>"u"?_===void 0?this:_:self)}).call(this,h(4),h(9))},function(D,E){},function(D,E,h){var _=h(22).Buffer,u=h(285);function s(c,i,r){c.copy(i,r)}D.exports=function(){function c(){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(i){var r={data:i,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length},c.prototype.unshift=function(i){var r={data:i,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length},c.prototype.shift=function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(i){if(this.length===0)return"";for(var r=this.head,e=""+r.data;r=r.next;)e+=i+r.data;return e},c.prototype.concat=function(i){if(this.length===0)return _.alloc(0);if(this.length===1)return this.head.data;for(var r=_.allocUnsafe(i>>>0),e=this.head,t=0;e;)s(e.data,r,t),t+=e.data.length,e=e.next;return r},c}(),u&&u.inspect&&u.inspect.custom&&(D.exports.prototype[u.inspect.custom]=function(){var c=u.inspect({length:this.length});return this.constructor.name+" "+c})},function(D,E){},function(D,E,h){(function(_,u,s){var c=h(65),i=h(8),r=h(64),e=h(63),t=h(281),n=r.IncomingMessage,o=r.readyStates,a=D.exports=function(d){var f,g=this;e.Writable.call(g),g._opts=d,g._body=[],g._headers={},d.auth&&g.setHeader("Authorization","Basic "+new _(d.auth).toString("base64")),Object.keys(d.headers).forEach(function(v){g.setHeader(v,d.headers[v])});var p=!0;if(d.mode==="disable-fetch"||"requestTimeout"in d&&!c.abortController)p=!1,f=!0;else if(d.mode==="prefer-streaming")f=!1;else if(d.mode==="allow-wrong-content-type")f=!c.overrideMimeType;else{if(d.mode&&d.mode!=="default"&&d.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");f=!0}g._mode=function(v,y){return c.fetch&&y?"fetch":c.mozchunkedarraybuffer?"moz-chunked-arraybuffer":c.msstream?"ms-stream":c.arraybuffer&&v?"arraybuffer":c.vbArray&&v?"text:vbarray":"text"}(f,p),g._fetchTimer=null,g.on("finish",function(){g._onFinish()})};i(a,e.Writable),a.prototype.setHeader=function(d,f){var g=d.toLowerCase();l.indexOf(g)===-1&&(this._headers[g]={name:d,value:f})},a.prototype.getHeader=function(d){var f=this._headers[d.toLowerCase()];return f?f.value:null},a.prototype.removeHeader=function(d){delete this._headers[d.toLowerCase()]},a.prototype._onFinish=function(){var d=this;if(!d._destroyed){var f=d._opts,g=d._headers,p=null;f.method!=="GET"&&f.method!=="HEAD"&&(p=c.arraybuffer?t(_.concat(d._body)):c.blobConstructor?new u.Blob(d._body.map(function(k){return t(k)}),{type:(g["content-type"]||{}).value||""}):_.concat(d._body).toString());var v=[];if(Object.keys(g).forEach(function(k){var $=g[k].name,x=g[k].value;Array.isArray(x)?x.forEach(function(w){v.push([$,w])}):v.push([$,x])}),d._mode==="fetch"){var y=null;if(c.abortController){var m=new AbortController;y=m.signal,d._fetchAbortController=m,"requestTimeout"in f&&f.requestTimeout!==0&&(d._fetchTimer=u.setTimeout(function(){d.emit("requestTimeout"),d._fetchAbortController&&d._fetchAbortController.abort()},f.requestTimeout))}u.fetch(d._opts.url,{method:d._opts.method,headers:v,body:p||void 0,mode:"cors",credentials:f.withCredentials?"include":"same-origin",signal:y}).then(function(k){d._fetchResponse=k,d._connect()},function(k){u.clearTimeout(d._fetchTimer),d._destroyed||d.emit("error",k)})}else{var b=d._xhr=new u.XMLHttpRequest;try{b.open(d._opts.method,d._opts.url,!0)}catch(k){return void s.nextTick(function(){d.emit("error",k)})}"responseType"in b&&(b.responseType=d._mode.split(":")[0]),"withCredentials"in b&&(b.withCredentials=!!f.withCredentials),d._mode==="text"&&"overrideMimeType"in b&&b.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in f&&(b.timeout=f.requestTimeout,b.ontimeout=function(){d.emit("requestTimeout")}),v.forEach(function(k){b.setRequestHeader(k[0],k[1])}),d._response=null,b.onreadystatechange=function(){switch(b.readyState){case o.LOADING:case o.DONE:d._onXHRProgress()}},d._mode==="moz-chunked-arraybuffer"&&(b.onprogress=function(){d._onXHRProgress()}),b.onerror=function(){d._destroyed||d.emit("error",new Error("XHR error"))};try{b.send(p)}catch(k){return void s.nextTick(function(){d.emit("error",k)})}}}},a.prototype._onXHRProgress=function(){(function(d){try{var f=d.status;return f!==null&&f!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},a.prototype._connect=function(){var d=this;d._destroyed||(d._response=new n(d._xhr,d._fetchResponse,d._mode,d._fetchTimer),d._response.on("error",function(f){d.emit("error",f)}),d.emit("response",d._response))},a.prototype._write=function(d,f,g){this._body.push(d),g()},a.prototype.abort=a.prototype.destroy=function(){this._destroyed=!0,u.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},a.prototype.end=function(d,f,g){typeof d=="function"&&(g=d,d=void 0),e.Writable.prototype.end.call(this,d,f,g)},a.prototype.flushHeaders=function(){},a.prototype.setTimeout=function(){},a.prototype.setNoDelay=function(){},a.prototype.setSocketKeepAlive=function(){};var l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,h(13).Buffer,h(4),h(9))},function(D,E,h){var _=h(66),u=h(54),s=D.exports;for(var c in _)_.hasOwnProperty(c)&&(s[c]=_[c]);function i(r){if(typeof r=="string"&&(r=u.parse(r)),r.protocol||(r.protocol="https:"),r.protocol!=="https:")throw new Error('Protocol "'+r.protocol+'" not supported. Expected "https:"');return r}s.request=function(r,e){return r=i(r),_.request.call(this,r,e)},s.get=function(r,e){return r=i(r),_.get.call(this,r,e)}},function(D,E){E.read=function(h,_,u,s,c){var i,r,e=8*c-s-1,t=(1<<e)-1,n=t>>1,o=-7,a=u?c-1:0,l=u?-1:1,d=h[_+a];for(a+=l,i=d&(1<<-o)-1,d>>=-o,o+=e;o>0;i=256*i+h[_+a],a+=l,o-=8);for(r=i&(1<<-o)-1,i>>=-o,o+=s;o>0;r=256*r+h[_+a],a+=l,o-=8);if(i===0)i=1-n;else{if(i===t)return r?NaN:1/0*(d?-1:1);r+=Math.pow(2,s),i-=n}return(d?-1:1)*r*Math.pow(2,i-s)},E.write=function(h,_,u,s,c,i){var r,e,t,n=8*i-c-1,o=(1<<n)-1,a=o>>1,l=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=s?0:i-1,f=s?1:-1,g=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(e=isNaN(_)?1:0,r=o):(r=Math.floor(Math.log(_)/Math.LN2),_*(t=Math.pow(2,-r))<1&&(r--,t*=2),(_+=r+a>=1?l/t:l*Math.pow(2,1-a))*t>=2&&(r++,t/=2),r+a>=o?(e=0,r=o):r+a>=1?(e=(_*t-1)*Math.pow(2,c),r+=a):(e=_*Math.pow(2,a-1)*Math.pow(2,c),r=0));c>=8;h[u+d]=255&e,d+=f,e/=256,c-=8);for(r=r<<c|e,n+=c;n>0;h[u+d]=255&r,d+=f,r/=256,n-=8);h[u+d-f]|=128*g}},function(D,E,h){E.byteLength=function(o){var a=e(o),l=a[0],d=a[1];return 3*(l+d)/4-d},E.toByteArray=function(o){for(var a,l=e(o),d=l[0],f=l[1],g=new s(function(m,b,k){return 3*(b+k)/4-k}(0,d,f)),p=0,v=f>0?d-4:d,y=0;y<v;y+=4)a=u[o.charCodeAt(y)]<<18|u[o.charCodeAt(y+1)]<<12|u[o.charCodeAt(y+2)]<<6|u[o.charCodeAt(y+3)],g[p++]=a>>16&255,g[p++]=a>>8&255,g[p++]=255&a;return f===2&&(a=u[o.charCodeAt(y)]<<2|u[o.charCodeAt(y+1)]>>4,g[p++]=255&a),f===1&&(a=u[o.charCodeAt(y)]<<10|u[o.charCodeAt(y+1)]<<4|u[o.charCodeAt(y+2)]>>2,g[p++]=a>>8&255,g[p++]=255&a),g},E.fromByteArray=function(o){for(var a,l=o.length,d=l%3,f=[],g=0,p=l-d;g<p;g+=16383)f.push(n(o,g,g+16383>p?p:g+16383));return d===1?(a=o[l-1],f.push(_[a>>2]+_[a<<4&63]+"==")):d===2&&(a=(o[l-2]<<8)+o[l-1],f.push(_[a>>10]+_[a>>4&63]+_[a<<2&63]+"=")),f.join("")};for(var _=[],u=[],s=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,r=c.length;i<r;++i)_[i]=c[i],u[c.charCodeAt(i)]=i;function e(o){var a=o.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=o.indexOf("=");return l===-1&&(l=a),[l,l===a?0:4-l%4]}function t(o){return _[o>>18&63]+_[o>>12&63]+_[o>>6&63]+_[63&o]}function n(o,a,l){for(var d,f=[],g=a;g<l;g+=3)d=(o[g]<<16&16711680)+(o[g+1]<<8&65280)+(255&o[g+2]),f.push(t(d));return f.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(D,E,h){(function(_){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(u){u.ext=u.ext||{},u.ext.export_api=u.ext.export_api||{_apiUrl:"https://export.dhtmlx.com/gantt",getNodeJSTransport:function(s){var c,i,r=s.split("://")[0];switch(r){case"https":c=h(289),i=443;break;case"http":c=h(66),i=80;break;default:throw new Error("Unsupported protocol: "+r+", url: "+s)}return{module:c,defaultPort:i}},_prepareConfigPDF:function(s,c){if(s&&s.raw){var i=null;s.start&&s.end&&(i={start_date:u.config.start_date,end_date:u.config.end_date},u.config.start_date=u.date.str_to_date(u.config.date_format)(s.start),u.config.end_date=u.date.str_to_date(u.config.date_format)(s.end)),s=u.mixin(s,{name:"gantt."+c,data:u.ext.export_api._serializeHtml()}),i&&(u.config.start_date=i.start_date,u.config.end_date=i.end_date)}else s=u.mixin(s||{},{name:"gantt."+c,data:u.ext.export_api._serializeAll(),config:u.config}),u.ext.export_api._fixColumns(s.config.columns);s.version=u.version,u.ext.export_api._sendToExport(s,c)},exportToPDF:function(s){u.ext.export_api._prepareConfigPDF(s,"pdf")},exportToPNG:function(s){u.ext.export_api._prepareConfigPDF(s,"png")},exportToICal:function(s){s=u.mixin(s||{},{name:"gantt.ical",data:u.ext.export_api._serializePlain().data,version:u.version}),u.ext.export_api._sendToExport(s,"ical")},exportToExcel:function(s){var c,i,r,e;s=s||{};var t=u.config.smart_rendering;if(s.visual==="base-colors"&&(u.config.smart_rendering=!1),s.start||s.end){r=u.getState(),i=[u.config.start_date,u.config.end_date],e=u.getScrollState();var n=u.date.str_to_date(u.config.date_format);c=u.eachTask,s.start&&(u.config.start_date=n(s.start)),s.end&&(u.config.end_date=n(s.end)),u.render(),u.config.smart_rendering=t,u.eachTask=u.ext.export_api._eachTaskTimed(u.config.start_date,u.config.end_date)}else s.visual==="base-colors"&&(u.render(),u.config.smart_rendering=t);u._no_progress_colors=s.visual==="base-colors";var o=null;u.env.isNode||(o=u.ext.export_api._serializeTable(s).data),(s=u.mixin(s,{name:"gantt.xlsx",title:"Tasks",data:o,columns:u.ext.export_api._serializeColumns({rawDates:!0}),version:u.version})).visual&&(s.scales=u.ext.export_api._serializeScales(s)),u.ext.export_api._sendToExport(s,"excel"),(s.start||s.end)&&(u.config.start_date=r.min_date,u.config.end_date=r.max_date,u.eachTask=c,u.render(),u.scrollTo(e.x,e.y),u.config.start_date=i[0],u.config.end_date=i[1])},exportToJSON:function(s){s=u.mixin(s||{},{name:"gantt.json",data:u.ext.export_api._serializeAll(),config:u.config,columns:u.ext.export_api._serializeColumns(),worktime:u.ext.export_api._getWorktimeSettings(),version:u.version}),u.ext.export_api._sendToExport(s,"json")},importFromExcel:function(s){try{var c=s.data;if(!(c instanceof FormData)){if(c instanceof File){var i=new FormData;i.append("file",c),s.data=i}}}catch{}u.env.isNode?u.ext.export_api._nodejsImportExcel(s):u.ext.export_api._sendImportAjaxExcel(s)},importFromMSProject:function(s){var c=s.data;try{if(!(c instanceof FormData)){if(c instanceof File){var i=new FormData;i.append("file",c),s.data=i}}}catch{}u.env.isNode?u.ext.export_api._nodejsImportMSP(s):u.ext.export_api._sendImportAjaxMSP(s)},importFromPrimaveraP6:function(s){return s.type="primaveraP6-parse",u.importFromMSProject(s)},exportToMSProject:function(s){(s=s||{}).skip_circular_links=s.skip_circular_links===void 0||!!s.skip_circular_links;var c=u.templates.xml_format,i=u.templates.format_date,r=u.config.xml_date,e=u.config.date_format;u.config.xml_date="%d-%m-%Y %H:%i:%s",u.config.date_format="%d-%m-%Y %H:%i:%s",u.templates.xml_format=u.date.date_to_str("%d-%m-%Y %H:%i:%s"),u.templates.format_date=u.date.date_to_str("%d-%m-%Y %H:%i:%s");var t=u.ext.export_api._serializeAll();u.ext.export_api._customProjectProperties(t,s),u.ext.export_api._customTaskProperties(t,s),s.skip_circular_links&&u.ext.export_api._clearRecLinks(t),s=u.ext.export_api._exportConfig(t,s),u.ext.export_api._sendToExport(s,s.type||"msproject"),u.config.xml_date=r,u.config.date_format=e,u.templates.xml_format=c,u.templates.format_date=i,u.config.$custom_data=null,u.config.custom=null},exportToPrimaveraP6:function(s){return(s=s||{}).type="primaveraP6",u.exportToMSProject(s)},_nodejsImportExcel:function(s){var c=h(52),i=s.server||u.ext.export_api._apiUrl,r=u.ext.export_api.getNodeJSTransport(i),e=i.split("://")[1],t=e.split("/")[0].split(":"),n=e.split("/"),o={hostname:t[0],port:t[1]||r.defaultPort,path:"/"+n.slice(1).join("/"),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}},a=new c;a.append("file",s.data),a.append("type","excel-parse"),a.append("data",JSON.stringify({sheet:s.sheet||0})),o.headers["Content-Type"]=a.getHeaders()["content-type"];var l=r.module.request(o,function(d){var f="";d.on("data",function(g){f+=g}),d.on("end",function(g){s.callback(f.toString())})});l.on("error",function(d){console.error(d)}),a.pipe(l)},_nodejsImportMSP:function(s){var c=h(52),i=s.server||u.ext.export_api._apiUrl,r=u.ext.export_api.getNodeJSTransport(i),e=i.split("://")[1],t=e.split("/")[0].split(":"),n=e.split("/"),o={hostname:t[0],port:t[1]||r.defaultPort,path:"/"+n.slice(1).join("/"),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}},a={durationUnit:s.durationUnit||void 0,projectProperties:s.projectProperties||void 0,taskProperties:s.taskProperties||void 0},l=new c;l.append("file",s.data),l.append("type",s.type||"msproject-parse"),l.append("data",JSON.stringify(a),o),o.headers["Content-Type"]=l.getHeaders()["content-type"];var d=r.module.request(o,function(f){var g="";f.on("data",function(p){g+=p}),f.on("end",function(p){s.callback(g.toString())})});d.on("error",function(f){console.error(f)}),l.pipe(d)},_fixColumns:function(s){for(var c=0;c<s.length;c++)s[c].label=s[c].label||u.locale.labels["column_"+s[c].name],typeof s[c].width=="string"&&(s[c].width=1*s[c].width)},_xdr:function(s,c,i){u.env.isNode?u.ext.export_api._nodejsPostRequest(s,c,i):u.ajax.post(s,c,i)},_nodejsPostRequest:function(s,c,i){var r=u.ext.export_api.getNodeJSTransport(s),e=s.split("://")[1],t=e.split("/")[0].split(":"),n=e.split("/"),o={hostname:t[0],port:t[1]||r.defaultPort,path:"/"+n.slice(1).join("/"),method:"POST",headers:{"Content-Type":"application/json","Content-Length":JSON.stringify(c).length}},a=r.module.request(o,function(l){var d=[];l.on("data",function(f){d.push(f)}),l.on("end",function(f){i(_.concat(d))})});a.on("error",function(l){console.error(l)}),a.write(JSON.stringify(c)),a.end()},_markColumns:function(s){var c=s.config.columns;if(c)for(var i=0;i<c.length;i++)c[i].template&&(c[i].$template=!0)},_sendImportAjaxExcel:function(s){var c=s.server||u.ext.export_api._apiUrl,i=s.store||0,r=s.data,e=s.callback;r.append("type","excel-parse"),r.append("data",JSON.stringify({sheet:s.sheet||0})),i&&r.append("store",i);var t=new XMLHttpRequest;t.onreadystatechange=function(n){t.readyState===4&&t.status===0&&e&&e(null)},t.onload=function(){var n=null;if(!(t.status>400))try{n=JSON.parse(t.responseText)}catch{}e&&e(n)},t.open("POST",c,!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(r)},_ajaxToExport:function(s,c,i){delete s.callback;var r=s.server||u.ext.export_api._apiUrl,e="type="+c+"&store=1&data="+encodeURIComponent(JSON.stringify(s));u.ext.export_api._xdr(r,e,function(t){var n=t.xmlDoc||t,o=null;if(!(n.status>400))try{o=JSON.parse(n.responseText)}catch{}i(o)})},_serializableGanttConfig:function(s){var c=u.mixin({},s);return c.columns&&(c.columns=c.columns.map(function(i){var r=u.mixin({},i);return delete r.editor,r})),delete c.editor_types,c},_sendToExport:function(s,c){var i=u.date.date_to_str(u.config.date_format||u.config.xml_date);if(s.config&&(s.config=u.copy(u.ext.export_api._serializableGanttConfig(s.config)),u.ext.export_api._markColumns(s,c),s.config.start_date&&s.config.end_date&&(s.config.start_date instanceof Date&&(s.config.start_date=i(s.config.start_date)),s.config.end_date instanceof Date&&(s.config.end_date=i(s.config.end_date)))),u.env.isNode){var r=s.server||u.ext.export_api._apiUrl,e={type:c,store:0,data:JSON.stringify(s)},t=s.callback||function(o){console.log(o)};return u.ext.export_api._xdr(r,e,t)}if(s.callback)return u.ext.export_api._ajaxToExport(s,c,s.callback);var n=u.ext.export_api._createHiddenForm();n.firstChild.action=s.server||u.ext.export_api._apiUrl,n.firstChild.childNodes[0].value=JSON.stringify(s),n.firstChild.childNodes[1].value=c,n.firstChild.submit()},_createHiddenForm:function(){if(!u.ext.export_api._hidden_export_form){var s=u.ext.export_api._hidden_export_form=document.createElement("div");s.style.display="none",s.innerHTML="<form method='POST' target='_blank'><textarea name='data' style='width:0px; height:0px;' readonly='true'></textarea><input type='hidden' name='type' value=''></form>",document.body.appendChild(s)}return u.ext.export_api._hidden_export_form},_copyObjectBase:function(s){var c={start_date:void 0,end_date:void 0};for(var i in s)i.charAt(0)!=="$"&&(c[i]=s[i]);var r=u.templates.xml_format||u.templates.format_date;return c.start_date=r(c.start_date),c.end_date&&(c.end_date=r(c.end_date)),c},_color_box:null,_color_hash:{},_getStyles:function(s){if(u.ext.export_api._color_box||(u.ext.export_api._color_box=document.createElement("DIV"),u.ext.export_api._color_box.style.cssText="position:absolute; display:none;",document.body.appendChild(u.ext.export_api._color_box)),u.ext.export_api._color_hash[s])return u.ext.export_api._color_hash[s];u.ext.export_api._color_box.className=s;var c=u.ext.export_api._getColor(u.ext.export_api._color_box,"color"),i=u.ext.export_api._getColor(u.ext.export_api._color_box,"backgroundColor");return u.ext.export_api._color_hash[s]=c+";"+i},_getMinutesWorktimeSettings:function(s){var c=[];return s.forEach(function(i){c.push(i.startMinute),c.push(i.endMinute)}),c},_getWorktimeSettings:function(){var s,c={hours:[0,24],minutes:null,dates:{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0}};if(u.config.work_time){var i=u._working_time_helper;if(i&&i.get_calendar)s=i.get_calendar();else if(i)s={hours:i.hours,minutes:null,dates:i.dates};else if(u.config.worktimes&&u.config.worktimes.global){var r=u.config.worktimes.global;if(r.parsed){var e=u.ext.export_api._getMinutesWorktimeSettings(r.parsed.hours);for(var t in s={hours:null,minutes:e,dates:{}},r.parsed.dates)Array.isArray(r.parsed.dates[t])?s.dates[t]=u.ext.export_api._getMinutesWorktimeSettings(r.parsed.dates[t]):s.dates[t]=r.parsed.dates[t]}else s={hours:r.hours,minutes:null,dates:r.dates}}else s=c}else s=c;return s},_eachTaskTimed:function(s,c){return function(i,r,e){r=r||u.config.root_id,e=e||u;var t=u.getChildren(r);if(t)for(var n=0;n<t.length;n++){var o=u._pull[t[n]];(!s||o.end_date>s)&&(!c||o.start_date<c)&&i.call(e,o),u.hasChild(o.id)&&u.eachTask(i,o.id,e)}}},_originalCopyObject:u.json._copyObject,_copyObjectPlain:function(s){var c=u.templates.task_text(s.start_date,s.end_date,s),i=u.ext.export_api._copyObjectBase(s);return i.text=c||i.text,i},_getColor:function(s,c){var i=s.currentStyle?s.currentStyle[c]:getComputedStyle(s,null)[c],r=i.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return(r&&r.length===4?("0"+parseInt(r[1],10).toString(16)).slice(-2)+("0"+parseInt(r[2],10).toString(16)).slice(-2)+("0"+parseInt(r[3],10).toString(16)).slice(-2):i).replace("#","")},_copyObjectTable:function(s){var c=u.date.date_to_str("%Y-%m-%dT%H:%i:%s.000Z"),i=u.ext.export_api._copyObjectColumns(s,u.ext.export_api._copyObjectPlain(s));i.start_date&&(i.start_date=c(s.start_date)),i.end_date&&(i.end_date=c(s.end_date));var r=u._day_index_by_date?u._day_index_by_date:u.columnIndexByDate;i.$start=r.call(u,s.start_date),i.$end=r.call(u,s.end_date);var e=0,t=u.getScale().width;if(t.indexOf(0)>-1){for(var n=0;n<i.$start;n++)t[n]||e++;for(i.$start-=e;n<i.$end;n++)t[n]||e++;i.$end-=e}i.$level=s.$level,i.$type=s.$rendered_type;var o=u.templates;return i.$text=o.task_text(s.start,s.end_date,s),i.$left=o.leftside_text?o.leftside_text(s.start,s.end_date,s):"",i.$right=o.rightside_text?o.rightside_text(s.start,s.end_date,s):"",i},_copyObjectColors:function(s){var c=u.ext.export_api._copyObjectTable(s),i=u.getTaskNode(s.id);if(i&&i.firstChild){var r=u.ext.export_api._getColor(u._no_progress_colors?i:i.firstChild,"backgroundColor");r==="363636"&&(r=u.ext.export_api._getColor(i,"backgroundColor")),c.$color=r}else s.color&&(c.$color=s.color);return c},_copyObjectColumns:function(s,c){for(var i=0;i<u.config.columns.length;i++){var r=u.config.columns[i].template;if(r){var e=r(s);e instanceof Date&&(e=u.templates.date_grid(e,s)),c["_"+i]=e}}return c},_copyObjectAll:function(s){for(var c=u.ext.export_api._copyObjectBase(s),i=["leftside_text","rightside_text","task_text","progress_text","task_class"],r=0;r<i.length;r++){var e=u.templates[i[r]];e&&(c["$"+r]=e(s.start_date,s.end_date,s))}return u.ext.export_api._copyObjectColumns(s,c),c.open=s.$open,c},_serializeHtml:function(){var s=u.config.smart_scales,c=u.config.smart_rendering;(s||c)&&(u.config.smart_rendering=!1,u.config.smart_scales=!1,u.render());var i=u.$container.parentNode.innerHTML;return(s||c)&&(u.config.smart_scales=s,u.config.smart_rendering=c,u.render()),i},_serializeAll:function(){u.json._copyObject=u.ext.export_api._copyObjectAll;var s=u.ext.export_api._exportSerialize();return u.json._copyObject=u.ext.export_api._originalCopyObject,s},_serializePlain:function(){var s=u.templates.xml_format,c=u.templates.format_date;u.templates.xml_format=u.date.date_to_str("%Y%m%dT%H%i%s",!0),u.templates.format_date=u.date.date_to_str("%Y%m%dT%H%i%s",!0),u.json._copyObject=u.ext.export_api._copyObjectPlain;var i=u.ext.export_api._exportSerialize();return u.templates.xml_format=s,u.templates.format_date=c,u.json._copyObject=u.ext.export_api._originalCopyObject,delete i.links,i},_getRaw:function(){if(u._scale_helpers){var s=u._get_scales(),c=u.config.min_column_width,i=u._get_resize_options().x?Math.max(u.config.autosize_min_width,0):u.config.$task.offsetWidth,r=u.config.config.scale_height-1;return u._scale_helpers.prepareConfigs(s,c,i,r)}var e=u.$ui.getView("timeline");if(e){var t=e.$config.width;u.config.autosize!=="x"&&u.config.autosize!=="xy"||(t=Math.max(u.config.autosize_min_width,0));var n=u.getState(),o=(s=e._getScales(),c=u.config.min_column_width,r=u.config.scale_height-1,u.config.rtl);return e.$scaleHelper.prepareConfigs(s,c,t,r,n.min_date,n.max_date,o)}},_serializeTable:function(s){u.json._copyObject=s.visual?u.ext.export_api._copyObjectColors:u.ext.export_api._copyObjectTable;var c=u.ext.export_api._exportSerialize();if(u.json._copyObject=u.ext.export_api._originalCopyObject,delete c.links,s.cellColors){var i=u.templates.timeline_cell_class||u.templates.task_cell_class;if(i){for(var r=u.ext.export_api._getRaw(),e=r[0].trace_x,t=1;t<r.length;t++)r[t].trace_x.length>e.length&&(e=r[t].trace_x);for(t=0;t<c.data.length;t++){c.data[t].styles=[];for(var n=u.getTask(c.data[t].id),o=0;o<e.length;o++){var a=i(n,e[o]);a&&c.data[t].styles.push({index:o,styles:u.ext.export_api._getStyles(a)})}}}}return c},_serializeScales:function(s){for(var c=[],i=u.ext.export_api._getRaw(),r=1/0,e=0,t=0;t<i.length;t++)r=Math.min(r,i[t].col_width);for(t=0;t<i.length;t++){var n=0,o=0,a=[];c.push(a);var l=i[t];e=Math.max(e,l.trace_x.length);for(var d=l.format||l.template||(l.date?u.date.date_to_str(l.date):u.config.date_scale),f=0;f<l.trace_x.length;f++){var g=l.trace_x[f];o=n+Math.round(l.width[f]/r);var p={text:d(g),start:n,end:o,styles:""};if(s.cellColors){var v=l.css||u.templates.scaleCell_class;if(v){var y=v(g);y&&(p.styles=u.ext.export_api._getStyles(y))}}a.push(p),n=o}}return{width:e,height:c.length,data:c}},_serializeColumns:function(s){u.exportMode=!0;for(var c=[],i=u.config.columns,r=0,e=0;e<i.length;e++)i[e].name!=="add"&&i[e].name!=="buttons"&&(c[r]={id:i[e].template?"_"+e:i[e].name,header:i[e].label||u.locale.labels["column_"+i[e].name],width:i[e].width?Math.floor(i[e].width/4):""},i[e].name==="duration"&&(c[r].type="number"),i[e].name!=="start_date"&&i[e].name!=="end_date"||(c[r].type="date",s&&s.rawDates&&(c[r].id=i[e].name)),r++);return u.exportMode=!1,c},_exportSerialize:function(){u.exportMode=!0;var s=u.templates.xml_format,c=u.templates.format_date;u.templates.xml_format=u.templates.format_date=u.date.date_to_str(u.config.date_format||u.config.xml_date);var i=u.serialize();return u.templates.xml_format=s,u.templates.format_date=c,u.exportMode=!1,i},_setLevel:function(s){for(var c=0;c<s.length;c++){s[c].parent==0&&(s[c]._lvl=1);for(var i=c+1;i<s.length;i++)s[c].id==s[i].parent&&(s[i]._lvl=s[c]._lvl+1)}},_clearLevel:function(s){for(var c=0;c<s.length;c++)delete s[c]._lvl},_clearRecLinks:function(s){u.ext.export_api._setLevel(s.data);for(var c={},i=0;i<s.data.length;i++)c[s.data[i].id]=s.data[i];var r={};for(i=0;i<s.links.length;i++){var e=s.links[i];u.isTaskExists(e.source)&&u.isTaskExists(e.target)&&c[e.source]&&c[e.target]&&(r[e.id]=e)}for(var t in r)u.ext.export_api._makeLinksSameLevel(r[t],c);var n={};for(var t in c)u.ext.export_api._clearCircDependencies(c[t],r,c,{},n,null);for(Object.keys(r)&&u.ext.export_api._clearLinksSameLevel(r,c),i=0;i<s.links.length;i++)r[s.links[i].id]||(s.links.splice(i,1),i--);u.ext.export_api._clearLevel(s.data)},_clearCircDependencies:function(s,c,i,r,e,t){var n=s.$_source;if(n){r[s.id]&&u.ext.export_api._onCircDependencyFind(t,c,r,e),r[s.id]=!0;for(var o={},a=0;a<n.length;a++)if(!e[n[a]]){var l=c[n[a]],d=i[l._target];o[d.id]&&u.ext.export_api._onCircDependencyFind(l,c,r,e),o[d.id]=!0,u.ext.export_api._clearCircDependencies(d,c,i,r,e,l)}r[s.id]=!1}},_onCircDependencyFind:function(s,c,i,r){s&&(u.callEvent("onExportCircularDependency",[s.id,s])&&delete c[s.id],delete i[s._source],delete i[s._target],r[s.id]=!0)},_makeLinksSameLevel:function(s,c){var i,r,e={target:c[s.target],source:c[s.source]};if(e.target._lvl!=e.source._lvl){e.target._lvl<e.source._lvl?(i="source",r=e.target._lvl):(i="target",r=e.source._lvl);do{var t=c[e[i].parent];if(!t)break;e[i]=t}while(e[i]._lvl<r);for(var n=c[e.source.parent],o=c[e.target.parent];n&&o&&n.id!=o.id;)e.source=n,e.target=o,n=c[e.source.parent],o=c[e.target.parent]}s._target=e.target.id,s._source=e.source.id,e.target.$_target||(e.target.$_target=[]),e.target.$_target.push(s.id),e.source.$_source||(e.source.$_source=[]),e.source.$_source.push(s.id)},_clearLinksSameLevel:function(s,c){for(var i in s)delete s[i]._target,delete s[i]._source;for(var r in c)delete c[r].$_source,delete c[r].$_target},_customProjectProperties:function(s,c){if(c&&c.project){for(var i in c.project)u.config.$custom_data||(u.config.$custom_data={}),u.config.$custom_data[i]=typeof c.project[i]=="function"?c.project[i](u.config):c.project[i];delete c.project}},_customTaskProperties:function(s,c){c&&c.tasks&&(s.data.forEach(function(i){for(var r in c.tasks)i.$custom_data||(i.$custom_data={}),i.$custom_data[r]=typeof c.tasks[r]=="function"?c.tasks[r](i,u.config):c.tasks[r]}),delete c.tasks)},_exportConfig:function(s,c){var i=c.name||"gantt.xml";delete c.name,u.config.custom=c;var r=u.ext.export_api._getWorktimeSettings(),e=u.getSubtaskDates();if(e.start_date&&e.end_date){var t=u.templates.format_date||u.templates.xml_format;u.config.start_end={start_date:t(e.start_date),end_date:t(e.end_date)}}var n=c.auto_scheduling!==void 0&&!!c.auto_scheduling,o={callback:c.callback||null,config:u.config,data:s,manual:n,name:i,worktime:r};for(var a in c)o[a]=c[a];return o},_sendImportAjaxMSP:function(s){var c=s.server||u.ext.export_api._apiUrl,i=s.store||0,r=s.data,e=s.callback,t={durationUnit:s.durationUnit||void 0,projectProperties:s.projectProperties||void 0,taskProperties:s.taskProperties||void 0};r.append("type",s.type||"msproject-parse"),r.append("data",JSON.stringify(t)),i&&r.append("store",i);var n=new XMLHttpRequest;n.onreadystatechange=function(o){n.readyState===4&&n.status===0&&e&&e(null)},n.onload=function(){var o=null;if(!(n.status>400))try{o=JSON.parse(n.responseText)}catch{}e&&e(o)},n.open("POST",c,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(r)}},u.exportToPDF=u.ext.export_api.exportToPDF,u.exportToPNG=u.ext.export_api.exportToPNG,u.exportToICal=u.ext.export_api.exportToICal,u.exportToExcel=u.ext.export_api.exportToExcel,u.exportToJSON=u.ext.export_api.exportToJSON,u.importFromExcel=u.ext.export_api.importFromExcel,u.importFromMSProject=u.ext.export_api.importFromMSProject,u.exportToMSProject=u.ext.export_api.exportToMSProject,u.importFromPrimaveraP6=u.ext.export_api.importFromPrimaveraP6,u.exportToPrimaveraP6=u.ext.export_api.exportToPrimaveraP6}}).call(this,h(13).Buffer)},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=function(){function u(s){var c=this;this._mouseDown=!1,this._calculateDirectionVector=function(){if(c._trace.length>=10){for(var i=c._trace.slice(c._trace.length-10),r=[],e=1;e<i.length;e++)r.push({x:i[e].x-i[e-1].x,y:i[e].y-i[e-1].y});var t={x:0,y:0};return r.forEach(function(n){t.x+=n.x,t.y+=n.y}),{magnitude:Math.sqrt(t.x*t.x+t.y*t.y),angleDegrees:180*Math.atan2(Math.abs(t.y),Math.abs(t.x))/Math.PI}}return null},this._applyDndReadyStyles=function(){c._timeline.$task.classList.add("gantt_timeline_move_available")},this._clearDndReadyStyles=function(){c._timeline.$task.classList.remove("gantt_timeline_move_available")},this._getScrollPosition=function(i){var r=c._gantt;return{x:r.$ui.getView(i.$config.scrollX).getScrollState().position,y:r.$ui.getView(i.$config.scrollY).getScrollState().position}},this._countNewScrollPosition=function(i){var r=c._calculateDirectionVector(),e=c._startPoint.x-i.x,t=c._startPoint.y-i.y;return r&&(r.angleDegrees<15?t=0:r.angleDegrees>75&&(e=0)),{x:c._scrollState.x+e,y:c._scrollState.y+t}},this._setScrollPosition=function(i,r){var e=c._gantt;requestAnimationFrame(function(){e.scrollLayoutCell(i.$id,r.x,r.y)})},this._stopDrag=function(i){var r=c._gantt;if(c._trace=[],r.$root.classList.remove("gantt_noselect"),c._originalReadonly!==void 0&&(r.config.readonly=c._originalReadonly),c._originAutoscroll!==void 0&&(r.config.autoscroll=c._originAutoscroll),r.config.drag_timeline){var e=r.config.drag_timeline.useKey;if(e&&i[e]!==!0)return}c._mouseDown=!1},this._startDrag=function(i){var r=c._gantt;c._originAutoscroll=r.config.autoscroll,r.config.autoscroll=!1,r.$root.classList.add("gantt_noselect"),c._originalReadonly=r.config.readonly,r.config.readonly=!0,c._trace=[],c._mouseDown=!0;var e=c._getScrollPosition(c._timeline),t=e.x,n=e.y;c._scrollState={x:t,y:n},c._startPoint={x:i.clientX,y:i.clientY},c._trace.push(c._startPoint)},this._gantt=s,this._domEvents=s._createDomEventScope(),this._trace=[]}return u.create=function(s){return new u(s)},u.prototype.destructor=function(){this._domEvents.detachAll()},u.prototype.attach=function(s){var c=this;this._timeline=s;var i=this._gantt;this._domEvents.attach(s.$task,"mousedown",function(r){if(i.config.drag_timeline){var e=i.config.drag_timeline,t=e.useKey,n=e.ignore;if(e.enabled!==!1){var o=".gantt_task_line, .gantt_task_link";n!==void 0&&(o=n instanceof Array?n.join(", "):n),o&&i.utils.dom.closest(r.target,o)||t&&r[t]!==!0||c._startDrag(r)}}}),this._domEvents.attach(document,"keydown",function(r){if(i.config.drag_timeline){var e=i.config.drag_timeline.useKey;e&&r[e]===!0&&c._applyDndReadyStyles()}}),this._domEvents.attach(document,"keyup",function(r){if(i.config.drag_timeline){var e=i.config.drag_timeline.useKey;e&&r[e]===!1&&(c._clearDndReadyStyles(),c._stopDrag(r))}}),this._domEvents.attach(document,"mouseup",function(r){c._stopDrag(r)}),this._domEvents.attach(i.$root,"mouseup",function(r){c._stopDrag(r)}),this._domEvents.attach(document,"mouseleave",function(r){c._stopDrag(r)}),this._domEvents.attach(i.$root,"mouseleave",function(r){c._stopDrag(r)}),this._domEvents.attach(i.$root,"mousemove",function(r){if(i.config.drag_timeline){var e=i.config.drag_timeline.useKey;if(!e||r[e]===!0){var t=c._gantt.ext.clickDrag,n=(c._gantt.config.click_drag||{}).useKey;if((!t||!n||e||!r[n])&&c._mouseDown===!0){c._trace.push({x:r.clientX,y:r.clientY});var o=c._countNewScrollPosition({x:r.clientX,y:r.clientY});c._setScrollPosition(s,o),c._scrollState=o,c._startPoint={x:r.clientX,y:r.clientY}}}}})},u}();E.EventsManager=_},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(293);E.default=function(u){u.ext||(u.ext={}),u.ext.dragTimeline={create:function(){return _.EventsManager.create(u)}},u.config.drag_timeline={enabled:!0}}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(5),u=h(2),s=function(){function c(i,r,e){var t=this;this._el=document.createElement("div"),this.defaultRender=function(n,o){t._el||(t._el=document.createElement("div"));var a=t._el,l=Math.min(n.relative.top,o.relative.top),d=Math.max(n.relative.top,o.relative.top),f=Math.min(n.relative.left,o.relative.left),g=Math.max(n.relative.left,o.relative.left);if(t._singleRow){var p=t._getTaskPositionByTop(t._startPoint.relative.top);a.style.height=p.height+"px",a.style.top=p.top+"px"}else a.style.height=Math.abs(d-l)+"px",a.style.top=l+"px";return a.style.width=Math.abs(g-f)+"px",a.style.left=f+"px",a},this._gantt=r,this._view=e,this._viewPort=i.viewPort,this._el.classList.add(i.className),typeof i.callback=="function"&&(this._callback=i.callback),this.render=function(){var n;(n=i.render?i.render(t._startPoint,t._endPoint):t.defaultRender(t._startPoint,t._endPoint))!==t._el&&(t._el&&t._el.parentNode&&t._el.parentNode.removeChild(t._el),t._el=n),i.className!==""&&t._el.classList.add(i.className),t.draw()},u.isEventable(this._viewPort)||_(this._viewPort),this._singleRow=i.singleRow,this._useRequestAnimationFrame=i.useRequestAnimationFrame}return c.prototype.draw=function(){var i=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){i._viewPort.appendChild(i.getElement())});this._viewPort.appendChild(this.getElement())},c.prototype.clear=function(){var i=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){i._el.parentNode&&i._viewPort.removeChild(i._el)});this._el.parentNode&&this._viewPort.removeChild(this._el)},c.prototype.getElement=function(){return this._el},c.prototype.getViewPort=function(){return this._viewPort},c.prototype.setStart=function(i){var r=this._gantt;this._startPoint=i,this._startDate=r.dateFromPos(this._startPoint.relative.left),this._viewPort.callEvent("onBeforeDrag",[this._startPoint])},c.prototype.setEnd=function(i){var r=this._gantt;if(this._endPoint=i,this._singleRow){var e=this._getTaskPositionByTop(this._startPoint.relative.top);this._endPoint.relative.top=e.top}this._endDate=r.dateFromPos(this._endPoint.relative.left),this._startPoint.relative.left>this._endPoint.relative.left&&(this._positionPoint={relative:{left:this._endPoint.relative.left,top:this._positionPoint.relative.top},absolute:{left:this._endPoint.absolute.left,top:this._positionPoint.absolute.top}}),this._startPoint.relative.top>this._endPoint.relative.top&&(this._positionPoint={relative:{left:this._positionPoint.relative.left,top:this._endPoint.relative.top},absolute:{left:this._positionPoint.absolute.left,top:this._endPoint.absolute.top}}),this._viewPort.callEvent("onDrag",[this._startPoint,this._endPoint])},c.prototype.setPosition=function(i){this._positionPoint=i},c.prototype.dragEnd=function(i){var r,e=this._gantt;i.relative.left<0&&(i.relative.left=0),this._viewPort.callEvent("onBeforeDragEnd",[this._startPoint,i]),this.setEnd(i),this._endDate=this._endDate||e.getState().max_date,this._startDate.valueOf()>this._endDate.valueOf()&&(r=[this._endDate,this._startDate],this._startDate=r[0],this._endDate=r[1]),this.clear();var t=e.getTaskByTime(this._startDate,this._endDate),n=this._getTasksByTop(this._startPoint.relative.top,this._endPoint.relative.top);this._viewPort.callEvent("onDragEnd",[this._startPoint,this._endPoint]),this._callback&&this._callback(this._startPoint,this._endPoint,this._startDate,this._endDate,t,n)},c.prototype.getInBounds=function(){return this._singleRow},c.prototype._getTasksByTop=function(i,r){var e=this._gantt,t=i,n=r;i>r&&(t=r,n=i);for(var o=this._getTaskPositionByTop(t).index,a=this._getTaskPositionByTop(n).index,l=[],d=o;d<=a;d++)e.getTaskByIndex(d)&&l.push(e.getTaskByIndex(d));return l},c.prototype._getTaskPositionByTop=function(i){var r=this._gantt,e=this._view,t=e.getItemIndexByTopPosition(i),n=r.getTaskByIndex(t);if(n){var o=e.getItemHeight(n.id);return{top:e.getItemTop(n.id)||0,height:o||0,index:t}}var a=e.getTotalHeight();return{top:i>a?a:0,height:r.config.row_height,index:i>a?r.getTaskCount():0}},c}();E.SelectedRegion=s},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(1),u=function(){function s(c){this._mouseDown=!1,this._gantt=c,this._domEvents=c._createDomEventScope()}return s.prototype.attach=function(c,i,r){var e=this,t=this._gantt,n=c.getViewPort();this._originPosition=window.getComputedStyle(n).display,this._restoreOriginPosition=function(){n.style.position=e._originPosition},this._originPosition==="static"&&(n.style.position="relative");var o=t.$services.getService("state");o.registerProvider("clickDrag",function(){return{autoscroll:!1}});var a=null;this._domEvents.attach(n,"mousedown",function(d){a=null;var f=".gantt_task_line, .gantt_task_link";r!==void 0&&(f=r instanceof Array?r.join(", "):r),f&&t.utils.dom.closest(d.target,f)||(o.registerProvider("clickDrag",function(){return{autoscroll:e._mouseDown}}),i&&d[i]!==!0||(a=e._getCoordinates(d,c)))});var l=_.getRootNode(t.$root)||document.body;this._domEvents.attach(l,"mouseup",function(d){if(a=null,(!i||d[i]===!0)&&e._mouseDown===!0){e._mouseDown=!1;var f=e._getCoordinates(d,c);c.dragEnd(f)}}),this._domEvents.attach(n,"mousemove",function(d){if(!i||d[i]===!0){var f=e._gantt.ext.clickDrag,g=(e._gantt.config.drag_timeline||{}).useKey;if(!f||!g||i||!d[g]){var p=null;if(!e._mouseDown&&a)return p=e._getCoordinates(d,c),void(Math.abs(a.relative.left-p.relative.left)>5&&a&&(e._mouseDown=!0,c.setStart(t.copy(a)),c.setPosition(t.copy(a)),c.setEnd(t.copy(a)),a=null));e._mouseDown===!0&&(p=e._getCoordinates(d,c),c.setEnd(p),c.render())}}})},s.prototype.detach=function(){var c=this._gantt;this._domEvents.detachAll(),this._restoreOriginPosition&&this._restoreOriginPosition(),c.$services.getService("state").unregisterProvider("clickDrag")},s.prototype.destructor=function(){this.detach()},s.prototype._getCoordinates=function(c,i){var r=i.getViewPort(),e=r.getBoundingClientRect(),t=c.clientX,n=c.clientY;return{absolute:{left:t,top:n},relative:{left:t-e.left+r.scrollLeft,top:n-e.top+r.scrollTop}}},s}();E.EventsManager=u},function(D,E,h){var _=this&&this.__assign||function(){return(_=Object.assign||function(c){for(var i,r=1,e=arguments.length;r<e;r++)for(var t in i=arguments[r])Object.prototype.hasOwnProperty.call(i,t)&&(c[t]=i[t]);return c}).apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var u=h(296),s=h(295);E.default=function(c){c.ext||(c.ext={});var i={className:"gantt_click_drag_rect",useRequestAnimationFrame:!0,callback:void 0,singleRow:!1},r=new u.EventsManager(c);c.ext.clickDrag=r,c.attachEvent("onGanttReady",function(){var e=_({viewPort:c.$task_data},i);if(c.config.click_drag){var t=c.config.click_drag;e.render=t.render||i.render,e.className=t.className||i.className,e.callback=t.callback||i.callback,e.viewPort=t.viewPort||c.$task_data,e.useRequestAnimationFrame=t.useRequestAnimationFrame===void 0?i.useRequestAnimationFrame:t.useRequestAnimationFrame,e.singleRow=t.singleRow===void 0?i.singleRow:t.singleRow;var n=c.$ui.getView("timeline"),o=new s.SelectedRegion(e,c,n);c.ext.clickDrag.attach(o,t.useKey,t.ignore)}}),c.attachEvent("onDestroy",function(){r.destructor()})}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(297),u=h(294),s=h(292),c=h(272),i=h(271),r=h(260),e=h(259),t=h(258),n=h(256),o=h(253);E.default={click_drag:_.default,drag_timeline:u.default,fullscreen:c.default,keyboard_navigation:i,quick_info:t.default,tooltip:n.default,undo:o.default,marker:r,multiselect:e,export_api:s.default}},function(D,E,h){Object.defineProperty(E,"__esModule",{value:!0});var _=h(298),u=h(250),s=h(21).gantt=u(_.default);E.gantt=s,E.default=s}])})})(se);const le={class:"contain"},ce={class:"box"},ue={class:"sp"},de={class:"step"},he={class:"step"},fe={class:"maintop"},_e={class:"mainEchar1"},ge={class:"Echar1top"},pe=Xt('<div class="choosebox" data-v-2585e7f7><div class="choose" data-v-2585e7f7><div style="background-color:#b0e054;" class="item" data-v-2585e7f7></div><div data-v-2585e7f7>Optimized</div></div><div class="choose" data-v-2585e7f7><div style="background-color:#5474c4;" class="item" data-v-2585e7f7></div><div data-v-2585e7f7>Baseline</div></div><div class="choose" data-v-2585e7f7><div style="background-color:red;" class="item" data-v-2585e7f7></div><div data-v-2585e7f7>Critical Path</div></div><div class="choose" data-v-2585e7f7><div style="background-color:pink;" class="item" data-v-2585e7f7></div><div data-v-2585e7f7>Critical Path(Baseline)</div></div></div><div id="main" data-v-2585e7f7></div>',2),me={ref:"main",style:{width:"1350px",height:"610px"},id:"myEcharts"},ve={class:"mainEchar2"},ye={class:"Echar2top"},ke={class:"resources-title"},be={class:"types"},we={class:"DateContent"},xe={ref:"main01",style:{width:"1350px",height:"610px"},id:"myEcharts01"},Se={class:"button"},Te={__name:"index",setup(Ot){const ft=qt(),D=Gt();let E=Ct("day");function h(q){E.value=q}function _(q,U){let L;return function(){const S=this,C=arguments;clearTimeout(L),L=setTimeout(function(){q.apply(S,C)},U)}}let u=Ct("Compare"),s=Ct("Date"),c=Ct(!1),i=Ct("");const r=()=>{c.value=!1};Yt((q,U,L)=>{q.name=="InputData",L()}),Jt(()=>{ft.selectChange&&(G.value="",A(),R(),ft.selectChange=!1)});function e(q,U){return Math.round(q/U*1e4)/100+"%"}function t(q){return new Date(q).toISOString()}function n(q){const U=new Date(q);return`${U.getUTCFullYear()}/${U.getUTCMonth()+1}/${U.getUTCDate()} ${("0"+U.getUTCHours()).slice(-2)}:${("0"+U.getUTCMinutes()).slice(-2)}:${("0"+U.getUTCSeconds()).slice(-2)}`}const o=q=>q[0]===void 0||q[0].length===0?[]:q[0].xy.map(U=>{const[L,S]=Object.entries(U)[0];return{value:[t(parseInt(L)),S],name:t(parseInt(L))+S+q[1]}});function a(q,U,L){var S=[];return U==="day"?q:(U==="week"?S=l(q,"week",L):U==="month"?S=l(q,"month",L):U==="year"&&(S=l(q,"year",L)),S)}function l(q,U,L){var S=[],C=d(q,U);for(var M in C)if(C.hasOwnProperty(M)){var H=C[M].map(W=>W.value[1]),F=f(H);S.push({name:M+L,value:[M,F]})}return S}function d(q,U){return q.reduce(function(L,S){var C;let M=new Date(S.value[0]);return U=="week"?C=M.getFullYear()+"-W"+g(M):U==="month"?C=M.getFullYear()+"-"+(M.getMonth()+1):U==="year"&&(C=M.getFullYear().toString()),L[C]||(L[C]=[]),L[C].push(S),L},{})}function f(q){return q.reduce(function(U,L){return U+L},0)}function g(q){var U=new Date(q.getFullYear(),0,4),L=(q-U)/(24*60*60*1e3);return Math.ceil((L+U.getDay()+1)/7)}function p(q){let U=a(o(K.value),q,"new"),L=a(o(z.value),q,"base"),S;q=="day"?S="time":S="category",m.setOption({xAxis:{name:"date",type:S,axisLabel:q=="day"?{showMaxLabel:"true",showMinLabel:"true",formatter:function(C,M){return n(C)}}:{}},yAxis:{name:`units / ${q}`},series:[{name:"Baseline",type:"bar",data:L,large:!0,selectedMode:"single",select:{itemStyle:{color:"red",borderWidth:"5px"}},emphasis:{focus:"self",blurScope:"coordinateSystem"}},{name:"New",type:"bar",data:U,large:!0,selectedMode:"single",select:{itemStyle:{color:"red",borderWidth:"5px"}},emphasis:{focus:"series",blurScope:"coordinateSystem"}}]})}let v=ne,y=Ct(2),m;Dt(()=>ft.selectedData?ft.selectedData.baselineTasks.filter(U=>U.critical):void 0);function b(q){return`<span >${q}</span>`}let k=[],$=[],x,w;function T(q,U){const L=[];for(let S=0;S<q.length;S+=U)L.push(q.slice(S,S+U));return L}function A(){let q=1,U=[],L=[];u.value="Compare",$=[],k=[];const S={};ft.selectedData.tasks.forEach(X=>{S[X.id]=X}),ft.selectedData.baselineTasks.forEach((X,ot)=>{const st=S[X.id];st.old=X,$.push(st);const ct=at(ft.selectedData.baselineTasks.length-ot);k.push({name:X.name,value:[ct,t(X.newStart),t(X.newFinish),X,{baseNew:{start:X.newStart,finish:X.newFinish,duration:X.newDuration},changeNew:{start:st.newStart,finish:st.newFinish,duration:st.newDuration}}],itemStyle:{color:X.critical?"pink":void 0}})}),$=$.map((X,ot)=>{function st(ht,_t){return ht===_t?_t:ht+(ht-_t)*2}const ct=st($.length-ot+1,2);return{id:X.id,name:X.name,value:[ct,t(X.newStart),t(X.newFinish),X,{baseNew:{start:X.old.newStart,finish:X.old.newFinish,duration:X.old.newDuration},changeNew:{start:X.newStart,finish:X.newFinish,duration:X.newDuration}}],itemStyle:{color:X.critical?"red":void 0}}});let C=JSON.parse(JSON.stringify(k)),M=JSON.parse(JSON.stringify($));x=C.sort(function(X,ot){return X.value[3].plannedFinish-ot.value[3].plannedFinish}),x.map((X,ot)=>{let st={...X};return st.value[0]=at(k.length-ot+1),st});let H=new Map(M.map(X=>[X.value[3].id,X]));w=x.map(X=>{let ot=H.get(X.value[3].id);if(ot){let st={...ot};return st.value[0]=X.value[0],st}return{}}),w.map((X,ot)=>{let st={...X};return st.value[0]=at($.length-ot+1),st}),U=T(x,1e4),L=T(w,1e4),x=U[0],w=L[0];let F=v.init(document.getElementById("myEcharts"),"purple-passion");F.on("click",function(X){const ot=k.find(st=>st.name===X.data.value[3].name);X.data.value[3].plannedStart=ot.value[1],X.data.value[3].plannedFinish=ot.value[2],i.value=X.data.value[3],c.value=!0});var W;let Q=(X,ot)=>{let st=ot.coord([ot.value(1),ot.value(0)]),ct=ot.coord([ot.value(2),ot.value(0)]),ht=ot.size([0,1])[1];return{type:"rect",shape:ie({x:st[0],y:st[1]-ht/2,width:Math.max(ct[0]-st[0],1),height:ht},X.coordSys),style:ot.style(),focus:"self",blurScope:"coordinateSystem",emphasis:{}}},V;$.length<30?V=!0:V=!1,W={toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},dataZoom:[{type:"slider",filterMode:"weakFilter",xAxisIndex:[0],labelFormatter:function(X){return n(X)},moveHandleSize:15,height:15,moveHandleStyle:{}},{type:"slider",filterMode:"weakFilter",yAxisIndex:[0]},{type:"inside",filterMode:"weakFilter",xAxisIndex:[0]},{type:"inside",filterMode:"weakFilter",yAxisIndex:[0]}],legend:{data:["Baseline","New"]},xAxis:{name:"date",type:"time",splitNumber:5,boundaryGap:[0,0],axisTick:{show:!0,alignWithLabel:!0},minInterval:24*3600,max:function(X){return X.max+(X.max-X.min)*.01},min:function(X){return X.min-(X.max-X.min)*.01},axisLabel:{showMaxLabel:"true",showMinLabel:"true",formatter:function(X,ot){return n(X)}}},yAxis:{name:"tasks"},selectedMode:"single",series:[{name:"Baseline",type:"custom",data:x,large:!0,renderItem:Q,encode:{x:[1,2],y:0},label:{normal:{show:V,color:"black",position:"inside",formatter:function(X){return X.data.name},fontSize:12}}},{name:"New",type:"custom",data:w,large:!0,renderItem:Q,encode:{x:[1,2],y:0},label:{normal:{show:V,color:"black",position:"inside",formatter:function(X){return X.data.name},fontSize:12}}}],tooltip:{axisPointer:{},formatter:X=>{let ot="Resources: <br/>";if(X.value[3].resources)for(const ct in X.value[3].resources){let ht=X.value[3].resources,_t=ft.selectedData.newResources.find(xt=>xt.id==ct);_t||(_t=""),ot+=` &nbsp&nbspResource &nbsp  ${_t==null?void 0:_t.name} &nbsp id: ${ct}  <br/>&nbsp&nbsp&nbsp&nbspunits/hour:${N(ht[ct].plannedUnitsPerHour)}=> ${N(ht[ct].newUnitsPerHour)}<br/>`}function st(ct){let ht;switch(ct){case"New":X.value[3].critical?ht="red":ht="#b0e054";break;case"Old":X.value[3].critical?ht="pink":ht="#5474c4"}return`<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:${ht};"></span>`}return`${X.name}<br/>
        <div style='margin-top:20px'>
         ${st("New")} New: ${b(t(X.value[4].changeNew.start).replace("T"," ").replace("Z","").slice(0,16))} -> ${b(t(X.value[4].changeNew.finish).replace("T"," ").replace("Z","").slice(0,16))}
         (${X.value[4].changeNew.duration})
        <br/>
         ${st("Old")} Old: ${b(t(X.value[4].baseNew.start).replace("T"," ").replace("Z","").slice(0,16))} -> ${b(t(X.value[4].baseNew.finish).replace("T"," ").replace("Z","").slice(0,16))}
       (${X.value[4].baseNew.duration})
         <br/>
         ${ot}
        </div>`}}};let et=setInterval(()=>{F.setOption(W),x=x.concat(U[q]||[]),w=w.concat(L[q]||[]),q==U.length?clearInterval(et):q=q+1,W={toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},dataZoom:[{type:"slider",filterMode:"weakFilter",xAxisIndex:[0],labelFormatter:function(X){return n(X)},moveHandleSize:15,height:15,moveHandleStyle:{}},{type:"slider",filterMode:"weakFilter",yAxisIndex:[0]},{type:"inside",filterMode:"weakFilter",xAxisIndex:[0]},{type:"inside",filterMode:"weakFilter",yAxisIndex:[0]}],legend:{data:["Baseline","New"]},xAxis:{name:"date",type:"time",splitNumber:5,boundaryGap:[0,0],axisTick:{show:!0,alignWithLabel:!0},minInterval:24*3600,max:function(X){return X.max+(X.max-X.min)*.01},min:function(X){return X.min-(X.max-X.min)*.01},axisLabel:{showMaxLabel:"true",showMinLabel:"true",formatter:function(X,ot){return n(X)}}},yAxis:{name:"tasks"},selectedMode:"single",series:[{name:"Baseline",type:"custom",data:x,large:!0,renderItem:Q,encode:{x:[1,2],y:0},label:{normal:{show:V,color:"black",position:"inside",formatter:function(X){return X.data.name},fontSize:12}}},{name:"New",type:"custom",data:w,large:!0,renderItem:Q,encode:{x:[1,2],y:0},label:{normal:{show:V,color:"black",position:"inside",formatter:function(X){return X.data.name},fontSize:12}}}],tooltip:{axisPointer:{},formatter:X=>{let ot="Resources: <br/>";if(X.value[3].resources)for(const ct in X.value[3].resources){let ht=X.value[3].resources,_t=ft.selectedData.newResources.find(xt=>xt.id==ct);_t||(_t=""),ot+=` &nbsp&nbspResource &nbsp  ${_t==null?void 0:_t.name} &nbsp id: ${ct}  <br/>&nbsp&nbsp&nbsp&nbspunits/hour:${N(ht[ct].plannedUnitsPerHour)}=> ${N(ht[ct].newUnitsPerHour)}<br/>`}function st(ct){let ht;switch(ct){case"New":X.value[3].critical?ht="red":ht="#b0e054";break;case"Old":X.value[3].critical?ht="pink":ht="#5474c4"}return`<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:${ht};"></span>`}return`${X.name}<br/>
        <div style='margin-top:20px'>
         ${st("New")} New: ${b(t(X.value[4].changeNew.start).replace("T"," ").replace("Z","").slice(0,16))} -> ${b(t(X.value[4].changeNew.finish).replace("T"," ").replace("Z","").slice(0,16))}
         (${X.value[4].changeNew.duration})
        <br/>
         ${st("Old")} Old: ${b(t(X.value[4].baseNew.start).replace("T"," ").replace("Z","").slice(0,16))} -> ${b(t(X.value[4].baseNew.finish).replace("T"," ").replace("Z","").slice(0,16))}
       (${X.value[4].baseNew.duration})
         <br/>
         ${ot}
        </div>`}}}},1e3);F.off("datazoom"),F.on("datazoom",_(function(X){nt(X,x,w,V)},700));function at(X){return X===2?2:X+(X-2)*2}Rt(u,(X,ot)=>{let st,ct;if(s.value=="Date"?(st=x,ct=w):(st=k,ct=$),X==="Compare"){let ht={series:[{name:"Baseline",type:"custom",data:st,large:!0,renderItem:Q,encode:{x:[1,2],y:0},label:{normal:{show:V,color:"black",position:"inside",formatter:function(_t){return _t.data.name},fontSize:12}},large:!0},{large:!0,name:"New",type:"custom",data:ct,large:!0,renderItem:Q,encode:{x:[1,2],y:0},label:{normal:{show:V,color:"black",position:"inside",formatter:function(_t){return _t.data.name},fontSize:12}}}]};F.setOption(ht),F.off("datazoom"),F.on("datazoom",_(function(_t){nt(_t,x,w,V)},700))}else{let ht=JSON.parse(JSON.stringify(st)).map((mt,At)=>{let yt={...mt};return yt.value[0]=k.length*2-At,yt}),_t=JSON.parse(JSON.stringify(ct)).map((mt,At)=>{let yt={...mt};return yt.value[0]=k.length-At,yt}),xt={series:[{large:!0,name:"Baseline",type:"custom",data:ht,large:!0,renderItem:Q,encode:{x:[1,2],y:0,label:11},label:{normal:{show:V,color:"black",position:"inside",formatter:function(mt){return mt.data.name},fontSize:12}}},{large:!0,name:"New",type:"custom",data:_t,large:!0,renderItem:Q,encode:{x:[1,2],y:0},label:{normal:{show:V,color:"black",position:"inside",formatter:function(mt){return mt.data.name},fontSize:12}}}]};F.setOption(xt),F.off("datazoom"),F.on("datazoom",_(function(mt){nt(mt,ht,_t,V)},700))}}),Rt(s,(X,ot)=>{if(X==="Date"){let st={series:[{name:"Baseline",type:"custom",data:x,large:!0,renderItem:Q,encode:{x:[1,2],y:0,label:11},label:{normal:{show:V,color:"black",position:"inside",formatter:function(ct){return ct.data.name},fontSize:12}}},{name:"New",type:"custom",data:w,large:!0,renderItem:Q,encode:{x:[1,2],y:0},label:{normal:{show:V,color:"black",position:"inside",formatter:function(ct){return ct.data.name},fontSize:12}}}]};F.setOption(st),F.off("datazoom"),F.on("datazoom",_(function(ct){nt(ct,x,w,V)},700))}else{let st={series:[{name:"Baseline",type:"custom",data:k,large:!0,renderItem:Q,encode:{x:[1,2],y:0,label:11},label:{normal:{show:V,color:"black",position:"inside",formatter:function(ct){return ct.data.name},fontSize:12}}},{name:"New",type:"custom",data:$,large:!0,renderItem:Q,encode:{x:[1,2],y:0},label:{normal:{show:V,color:"black",position:"inside",formatter:function(ct){return ct.data.name},fontSize:12}}}]};F.setOption(st),F.off("datazoom"),F.on("datazoom",_(function(ct){nt(ct,k,$,V)},700))}});function nt(X,ot,st,ct){let ht=F.getOption();var _t=ht.series.find(mt=>mt.name==="Baseline").data,xt=ht.series.find(mt=>mt.name==="New").data;ct||(X.batch[0].end-X.batch[0].start<30/st.length*100?F.setOption({series:[{name:"Baseline",type:"custom",data:_t,large:!0,renderItem:Q,encode:{x:[1,2],y:0},label:{normal:{show:!0,color:"black",position:"inside",formatter:function(mt){return mt.data.name},fontSize:12}}},{name:"New",type:"custom",data:xt,large:!0,renderItem:Q,encode:{x:[1,2],y:0},label:{normal:{show:!0,color:"black",position:"inside",formatter:function(mt){return mt.data.name},fontSize:12}}}]}):F.setOption({series:[{name:"Baseline",type:"custom",data:_t,large:!0,renderItem:Q,encode:{x:[1,2],y:0},label:{normal:{show:!1,color:"black",position:"inside",formatter:function(mt){return mt.data.name},fontSize:12}}},{name:"New",type:"custom",data:xt,large:!0,renderItem:Q,encode:{x:[1,2],y:0},label:{normal:{show:!1,color:"black",position:"inside",formatter:function(mt){return mt.data.name},fontSize:12}}}]}))}F.on("mousemove",function(X){F.dispatchAction({type:"highlight",dataIndex:X.dataIndex})}),m=v.init(document.getElementById("myEcharts01"),"purple-passion"),m.on("mousemove",function(X){m.dispatchAction({type:"highlight",dataIndex:X.dataIndex})}),m.on("click",function(X){m.dispatchAction({type:"select",name:X.name})})}let I=Ct("");function N(U){if(!U)return"0.00";var U=Math.round(parseFloat(U)*100)/100,L=U.toString().split(".");if(L.length==1)return U=U.toString()+".00",U;if(L.length>1)return L[1].length<2&&(U=U.toString()+"0"),U}function j(q,U){return q.reduce(function(L,S){let C=S[U];return L[C]||(L[C]=[]),L[C].push(S),L},{})}let B=Dt(()=>{let q=ft.selectedData.baselineResources.map(L=>({id:L.id,name:L.name,type:L.type})),U=j(q,"type");if(I.value){const L=new RegExp(I.value,"i");let S={};for(let C in U)S[C]=U[C].filter(M=>L.test(M.name));return S}else return U}),z=Dt(()=>{var L;const q=ft.selectedData.baselineResources;let U="base";return G.value?[q.filter(C=>C.id&&C.id===G.value)[0].distribution,U]:q.length==0?[]:(G.value=q[0].id,[(L=q[0])==null?void 0:L.distribution,U])}),K=Dt(()=>{var L;const q=ft.selectedData.newResources;let U="new";return G.value?[q.filter(C=>C.id&&C.id===G.value)[0].distribution,U]:q.length==0?[]:[(L=q[0])==null?void 0:L.distribution,U]}),J=Dt(()=>({toolbox:{feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},dataZoom:[{type:"slider",filterMode:"none"},{type:"slider",filterMode:"none"},{type:"inside",filterMode:"none"},{type:"inside",filterMode:"none"}],tooltip:{trigger:"axis",axisPointer:{type:"cross"}},animation:!1,legend:{data:["Baseline","New"]},xAxis:{name:"date",type:"time",axisLabel:{formatter:"{yyyy}-{MM}-{dd}"}},yAxis:{name:"units / day"},series:[{name:"Baseline",type:"bar",data:o(z.value),large:!0,selectedMode:"single",select:{itemStyle:{color:"red",borderWidth:"5px"}},emphasis:{focus:"self",blurScope:"coordinateSystem"}},{name:"New",type:"bar",data:o(K.value),large:!0,selectedMode:"single",select:{itemStyle:{color:"red",borderWidth:"5px"}},emphasis:{focus:"series",blurScope:"coordinateSystem"}}]}));function R(){m.setOption(J.value)}Rt(y,()=>{R()});async function P(){D.push({name:"OptimizedReport"}),ft.active=3}let G=Ct("");function O(){D.push({name:"BaselineSummary"}),ft.active=1}function Y(q){G.value=q,E.value="day"}return Rt(G,()=>{R()}),(q,U)=>{const L=te,S=Qt,C=Zt,M=Kt("v-btn");return Mt(),Nt(Bt,null,[pt("div",le,[pt("div",ce,[pt("h2",null,[Ht(wt(q.$t("optimizedSummary.title[0]"))+" ",1),pt("span",ue,wt(gt(ft).SummaryData.group.replace("_"," ").replace("base","Base")),1),pt("div",de,[pt("span",null,wt(gt(ft).setting.Steps)+" "+wt(q.$t("optimizedSummary.title[1]")),1)]),pt("div",he,[pt("span",null,wt(`${gt(ft).setting.Ratio[0]*100}% - ${gt(ft).setting.Ratio[1]*100}% ${q.$t("optimizedSummary.title[2]")}`),1)])]),pt("div",fe,[St(Lt,{title:q.$t("optimizedSummary.header[0]"),height:180,precent:e(gt(ft).SummaryData.changedDuration-gt(ft).SummaryData.baseDuration,gt(ft).SummaryData.baseDuration),isPositive:!0,body:[gt(ft).SummaryData.changedDuration+" days",gt(ft).SummaryData.baseDuration+" days",gt(ft).SummaryData.planDurationDays+" days"]},null,8,["title","precent","body"]),St(Lt,{title:q.$t("baselineSummary.Tsidebar[1]"),height:180,precent:e(gt(ft).SummaryData.maxResourceUnit-gt(ft).SummaryData.BasemaxResourceUnit,gt(ft).SummaryData.BasemaxResourceUnit),isPositive:!0,body:[gt(ft).SummaryData.maxResourceUnit,gt(ft).SummaryData.BasemaxResourceUnit]},null,8,["title","precent","body"]),St(Lt,{title:q.$t("optimizedSummary.header[2]"),height:180,body:[gt(ft).SummaryData.changgedTasks,gt(ft).SummaryData.TotalTasks]},null,8,["title","body"]),St(Lt,{title:q.$t("optimizedSummary.header[3]"),height:180,body:[gt(ft).SummaryData.changedCriticalPath,gt(ft).SummaryData.changedCriticalPath,gt(ft).SummaryData.baseCriticalPath]},null,8,["title","body"])]),pt("div",_e,[pt("div",ge,[pt("div",null,wt(q.$t("optimizedSummary.chartName[0]")),1),pt("div",null,[St(S,{modelValue:gt(s),"onUpdate:modelValue":U[0]||(U[0]=H=>Ft(s)?s.value=H:s=H),class:"m-2",placeholder:"Select",size:"large"},{default:It(()=>[St(L,{label:"Sort by Date",value:"Date"}),St(L,{label:"Original Order",value:"Original"})]),_:1},8,["modelValue"]),St(S,{modelValue:gt(u),"onUpdate:modelValue":U[1]||(U[1]=H=>Ft(u)?u.value=H:u=H),class:"m-2",placeholder:"Select",size:"large"},{default:It(()=>[St(L,{label:"Compare Mode",value:"Compare"}),St(L,{label:"Separate Mode",value:"Separate"})]),_:1},8,["modelValue"])])]),pt("span",null,wt(q.$t("optimizedSummary.chartName[1]")),1),pe,pt("div",me,null,512)]),pt("div",ve,[pt("div",ye,[pt("div",null,wt(q.$t("optimizedSummary.chartName[2]")),1)]),pt("span",null,wt(q.$t("optimizedSummary.chartName[3]")),1),St(C,{modelValue:gt(I),"onUpdate:modelValue":U[2]||(U[2]=H=>Ft(I)?I.value=H:I=H),placeholder:"Search Resources"},null,8,["modelValue"]),(Mt(!0),Nt(Bt,null,zt(gt(B),(H,F)=>(Mt(),Nt("div",null,[pt("div",ke,wt(F)+" Resources",1),pt("div",be,[(Mt(!0),Nt(Bt,null,zt(H,(W,Q)=>(Mt(),Nt("div",{key:Q,class:"type"},[St(M,{variant:"text",value:Q,class:Pt({activeType:gt(G)==W.id}),onClick:()=>{Y(W.id)}},{default:It(()=>[Ht(wt(W.name)+" "+wt(W.type),1)]),_:2},1032,["value","class","onClick"])]))),128))])]))),256)),pt("div",we,[pt("span",{class:Pt({activeDate:gt(E)==="day"}),onClick:U[3]||(U[3]=()=>{p("day"),h("day")})},wt(q.$t("day")),3),pt("span",{class:Pt({activeDate:gt(E)==="week"}),onClick:U[4]||(U[4]=()=>{p("week"),h("week")})},wt(q.$t("week")),3),pt("span",{class:Pt({activeDate:gt(E)==="month"}),onClick:U[5]||(U[5]=()=>{p("month"),h("month")})},wt(q.$t("month")),3),pt("span",{class:Pt({activeDate:gt(E)==="year"}),onClick:U[6]||(U[6]=()=>{p("year"),h("year")})},wt(q.$t("year")),3)]),pt("div",xe,null,512)]),pt("div",Se,[St(M,{onClick:O,class:"btnback"},{default:It(()=>[Ht("BACK")]),_:1}),St(ee,{style:"color:white;margin-left:1050px",disabled:!0,onClicked:P,title:q.$t("optimizedSummary.btn[1]")},null,8,["title"])])])]),St(oe,{onCloseDialog:r,data:gt(i),dialogVisible:gt(c)},null,8,["data","dialogVisible"])],64)}}},Oe=Vt(Te,[["__scopeId","data-v-2585e7f7"]]);export{Oe as default};
