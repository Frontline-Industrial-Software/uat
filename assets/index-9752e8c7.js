import{aN as ce,m as w,aO as Ze,aP as ft,aB as Ie,aQ as pt,ab as mt,aR as $e,aw as qe,N as vt,u as de,aS as yt,aT as Ve,a8 as ee,aU as ht,aV as gt,aW as bt,aX as wt,P as ge,T as R,aq as Le,j as we,ao as Ct,k as se,aY as ke,ap as ue,v as Se,l as ae,aZ as St,aa as Ge,az as xt,aA as _t,at as $t,R as kt,a4 as xe,a_ as It,a$ as Et,b0 as Dt,O as Tt,b1 as zt,ax as te,a9 as Ne,ad as Mt,au as Je,b2 as Qe,x as S,y as V,F,U as ne,z,A as e,D as K,B as r,G as j,H as N,I as re,J as oe,af as be,Y as q,o as Ft,X as At,E as C,C as Ee,_ as De,a5 as He,K as et,b3 as _e,b4 as Bt,Q as Rt,a3 as Ue,b5 as Pt,b6 as Ot,b7 as Vt,ar as Lt,b8 as Nt,ay as Ye,b9 as Ht,ba as Ut,bb as We,bc as je,ac as Yt,bd as Wt,ae as jt,be as Kt,bf as Xt,ak as Zt,ag as qt,al as Gt,aG as Jt,am as Qt,an as ea,ai as ye,V as Ke,aM as ta,aj as aa}from"./index-c23d0a4f.js";import{e as oa,c as sa}from"./index-11e546f7.js";import"./ecStat-f2237887.js";import{m as na}from"./index-005ce9c6.js";import{V as la}from"./index.min-0e1e7e00.js";const ia=()=>ce&&/firefox/i.test(window.navigator.userAgent);let he;const ra=t=>{var s;if(!ce)return 0;if(he!==void 0)return he;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const a=n.offsetWidth;n.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",n.appendChild(i);const d=i.offsetWidth;return(s=n.parentNode)==null||s.removeChild(n),he=a-d,he},da=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),ua=["class","style"],ca=/^on[A-Z]/,fa=(t={})=>{const{excludeListeners:s=!1,excludeKeys:n}=t,a=w(()=>((n==null?void 0:n.value)||[]).concat(ua)),i=Ze();return i?w(()=>{var d;return ft(Object.entries((d=i.proxy)==null?void 0:d.$attrs).filter(([u])=>!a.value.includes(u)&&!(s&&ca.test(u))))}):w(()=>({}))},pa=(t,s,n)=>{let a={offsetX:0,offsetY:0};const i=p=>{const c=p.clientX,x=p.clientY,{offsetX:b,offsetY:m}=a,y=t.value.getBoundingClientRect(),E=y.left,$=y.top,f=y.width,G=y.height,L=document.documentElement.clientWidth,P=document.documentElement.clientHeight,Y=-E+b,X=-$+m,H=L-E-f+b,U=P-$-G+m,W=T=>{const k=Math.min(Math.max(b+T.clientX-c,Y),H),B=Math.min(Math.max(m+T.clientY-x,X),U);a={offsetX:k,offsetY:B},t.value.style.transform=`translate(${$e(k)}, ${$e(B)})`},A=()=>{document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",W),document.addEventListener("mouseup",A)},d=()=>{s.value&&t.value&&s.value.addEventListener("mousedown",i)},u=()=>{s.value&&t.value&&s.value.removeEventListener("mousedown",i)};Ie(()=>{pt(()=>{n.value?d():u()})}),mt(()=>{u()})},ma=(t,s={})=>{qe(t)||vt("[useLockscreen]","You need to pass a ref param to this function");const n=s.ns||de("popup"),a=yt(()=>n.bm("parent","hidden"));if(!ce||Ve(document.body,a.value))return;let i=0,d=!1,u="0";const p=()=>{setTimeout(()=>{wt(document==null?void 0:document.body,a.value),d&&document&&(document.body.style.width=u)},200)};ee(t,c=>{if(!c){p();return}d=!Ve(document.body,a.value),d&&(u=document.body.style.width),i=ra(n.namespace.value);const x=document.documentElement.clientHeight<document.body.scrollHeight,b=ht(document.body,"overflowY");i>0&&(x||b==="scroll")&&d&&(document.body.style.width=`calc(100% - ${i}px)`),gt(document.body,a.value)}),bt(()=>p())},tt=t=>{if(!t)return{onClick:ge,onMousedown:ge,onMouseup:ge};let s=!1,n=!1;return{onClick:u=>{s&&n&&t(u),s=n=!1},onMousedown:u=>{s=u.target===u.currentTarget},onMouseup:u=>{n=u.target===u.currentTarget}}};function va(t){const s=R();function n(){if(t.value==null)return;const{selectionStart:i,selectionEnd:d,value:u}=t.value;if(i==null||d==null)return;const p=u.slice(0,Math.max(0,i)),c=u.slice(Math.max(0,d));s.value={selectionStart:i,selectionEnd:d,value:u,beforeTxt:p,afterTxt:c}}function a(){if(t.value==null||s.value==null)return;const{value:i}=t.value,{beforeTxt:d,afterTxt:u,selectionStart:p}=s.value;if(d==null||u==null||p==null)return;let c=i.length;if(i.endsWith(u))c=i.length-u.length;else if(i.startsWith(d))c=d.length;else{const x=d[p-1],b=i.indexOf(x,p-1);b!==-1&&(c=b+1)}t.value.setSelectionRange(c,c)}return[n,a]}let Z;const ya=`
  height:0 !important;
  visibility:hidden !important;
  ${ia()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,ha=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function ga(t){const s=window.getComputedStyle(t),n=s.getPropertyValue("box-sizing"),a=Number.parseFloat(s.getPropertyValue("padding-bottom"))+Number.parseFloat(s.getPropertyValue("padding-top")),i=Number.parseFloat(s.getPropertyValue("border-bottom-width"))+Number.parseFloat(s.getPropertyValue("border-top-width"));return{contextStyle:ha.map(u=>`${u}:${s.getPropertyValue(u)}`).join(";"),paddingSize:a,borderSize:i,boxSizing:n}}function Xe(t,s=1,n){var a;Z||(Z=document.createElement("textarea"),document.body.appendChild(Z));const{paddingSize:i,borderSize:d,boxSizing:u,contextStyle:p}=ga(t);Z.setAttribute("style",`${p};${ya}`),Z.value=t.value||t.placeholder||"";let c=Z.scrollHeight;const x={};u==="border-box"?c=c+d:u==="content-box"&&(c=c-i),Z.value="";const b=Z.scrollHeight-i;if(Le(s)){let m=b*s;u==="border-box"&&(m=m+i+d),c=Math.max(m,c),x.minHeight=`${m}px`}if(Le(n)){let m=b*n;u==="border-box"&&(m=m+i+d),c=Math.min(m,c)}return x.height=`${c}px`,(a=Z.parentNode)==null||a.removeChild(Z),Z=void 0,x}const ba=we({id:{type:String,default:void 0},size:Ct,disabled:Boolean,modelValue:{type:se([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:se([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ke},prefixIcon:{type:ke},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:se([Object,Array,String]),default:()=>na({})}}),wa={[ue]:t=>Se(t),input:t=>Se(t),change:t=>Se(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},Ca=["role"],Sa=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],xa=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],_a=ae({name:"ElInput",inheritAttrs:!1}),$a=ae({..._a,props:ba,emits:wa,setup(t,{expose:s,emit:n}){const a=t,i=St(),d=Ge(),u=w(()=>{const o={};return a.containerRole==="combobox"&&(o["aria-haspopup"]=i["aria-haspopup"],o["aria-owns"]=i["aria-owns"],o["aria-expanded"]=i["aria-expanded"]),o}),p=w(()=>[a.type==="textarea"?G.b():f.b(),f.m(E.value),f.is("disabled",$.value),f.is("exceed",fe.value),{[f.b("group")]:d.prepend||d.append,[f.bm("group","append")]:d.append,[f.bm("group","prepend")]:d.prepend,[f.m("prefix")]:d.prefix||a.prefixIcon,[f.m("suffix")]:d.suffix||a.suffixIcon||a.clearable||a.showPassword,[f.bm("suffix","password-clear")]:v.value&&D.value},i.class]),c=w(()=>[f.e("wrapper"),f.is("focus",Y.value)]),x=fa({excludeKeys:w(()=>Object.keys(u.value))}),{form:b,formItem:m}=xt(),{inputId:y}=_t(a,{formItemContext:m}),E=$t(),$=kt(),f=de("input"),G=de("textarea"),L=xe(),P=xe(),Y=R(!1),X=R(!1),H=R(!1),U=R(!1),W=R(),A=xe(a.inputStyle),T=w(()=>L.value||P.value),k=w(()=>{var o;return(o=b==null?void 0:b.statusIcon)!=null?o:!1}),B=w(()=>(m==null?void 0:m.validateState)||""),l=w(()=>B.value&&It[B.value]),g=w(()=>U.value?Et:Dt),h=w(()=>[i.style,a.inputStyle]),_=w(()=>[a.inputStyle,A.value,{resize:a.resize}]),M=w(()=>Tt(a.modelValue)?"":String(a.modelValue)),v=w(()=>a.clearable&&!$.value&&!a.readonly&&!!M.value&&(Y.value||X.value)),D=w(()=>a.showPassword&&!$.value&&!a.readonly&&!!M.value&&(!!M.value||Y.value)),O=w(()=>a.showWordLimit&&!!x.value.maxlength&&(a.type==="text"||a.type==="textarea")&&!$.value&&!a.readonly&&!a.showPassword),J=w(()=>M.value.length),fe=w(()=>!!O.value&&J.value>Number(x.value.maxlength)),pe=w(()=>!!d.suffix||!!a.suffixIcon||v.value||a.showPassword||O.value||!!B.value&&k.value),[st,nt]=va(L);zt(P,o=>{if(lt(),!O.value||a.resize!=="both")return;const I=o[0],{width:Q}=I.contentRect;W.value={right:`calc(100% - ${Q+15+6}px)`}});const le=()=>{const{type:o,autosize:I}=a;if(!(!ce||o!=="textarea"||!P.value))if(I){const Q=He(I)?I.minRows:void 0,ve=He(I)?I.maxRows:void 0,Oe=Xe(P.value,Q,ve);A.value={overflowY:"hidden",...Oe},te(()=>{P.value.offsetHeight,A.value=Oe})}else A.value={minHeight:Xe(P.value).minHeight}},lt=(o=>{let I=!1;return()=>{var Q;if(I||!a.autosize)return;((Q=P.value)==null?void 0:Q.offsetParent)===null||(o(),I=!0)}})(le),ie=()=>{const o=T.value,I=a.formatter?a.formatter(M.value):M.value;!o||o.value===I||(o.value=I)},Ce=async o=>{st();let{value:I}=o.target;if(a.formatter&&(I=a.parser?a.parser(I):I),!H.value){if(I===M.value){ie();return}n(ue,I),n("input",I),await te(),ie(),nt()}},Te=o=>{n("change",o.target.value)},ze=o=>{n("compositionstart",o),H.value=!0},Me=o=>{var I;n("compositionupdate",o);const Q=(I=o.target)==null?void 0:I.value,ve=Q[Q.length-1]||"";H.value=!da(ve)},Fe=o=>{n("compositionend",o),H.value&&(H.value=!1,Ce(o))},it=()=>{U.value=!U.value,me()},me=async()=>{var o;await te(),(o=T.value)==null||o.focus()},rt=()=>{var o;return(o=T.value)==null?void 0:o.blur()},Ae=o=>{Y.value=!0,n("focus",o)},Be=o=>{var I;Y.value=!1,n("blur",o),a.validateEvent&&((I=m==null?void 0:m.validate)==null||I.call(m,"blur").catch(Q=>Ne()))},dt=o=>{X.value=!1,n("mouseleave",o)},ut=o=>{X.value=!0,n("mouseenter",o)},Re=o=>{n("keydown",o)},ct=()=>{var o;(o=T.value)==null||o.select()},Pe=()=>{n(ue,""),n("change",""),n("clear"),n("input","")};return ee(()=>a.modelValue,()=>{var o;te(()=>le()),a.validateEvent&&((o=m==null?void 0:m.validate)==null||o.call(m,"change").catch(I=>Ne()))}),ee(M,()=>ie()),ee(()=>a.type,async()=>{await te(),ie(),le()}),Ie(()=>{!a.formatter&&a.parser,ie(),te(le)}),s({input:L,textarea:P,ref:T,textareaStyle:_,autosize:Mt(a,"autosize"),focus:me,blur:rt,select:ct,clear:Pe,resizeTextarea:le}),(o,I)=>Je((S(),V("div",be(e(u),{class:e(p),style:e(h),role:o.containerRole,onMouseenter:ut,onMouseleave:dt}),[F(" input "),o.type!=="textarea"?(S(),V(ne,{key:0},[F(" prepend slot "),o.$slots.prepend?(S(),V("div",{key:0,class:z(e(f).be("group","prepend"))},[K(o.$slots,"prepend")],2)):F("v-if",!0),r("div",{class:z(e(c))},[F(" prefix slot "),o.$slots.prefix||o.prefixIcon?(S(),V("span",{key:0,class:z(e(f).e("prefix"))},[r("span",{class:z(e(f).e("prefix-inner")),onClick:me},[K(o.$slots,"prefix"),o.prefixIcon?(S(),j(e(oe),{key:0,class:z(e(f).e("icon"))},{default:N(()=>[(S(),j(re(o.prefixIcon)))]),_:1},8,["class"])):F("v-if",!0)],2)],2)):F("v-if",!0),r("input",be({id:e(y),ref_key:"input",ref:L,class:e(f).e("inner")},e(x),{type:o.showPassword?U.value?"text":"password":o.type,disabled:e($),formatter:o.formatter,parser:o.parser,readonly:o.readonly,autocomplete:o.autocomplete,tabindex:o.tabindex,"aria-label":o.label,placeholder:o.placeholder,style:o.inputStyle,form:a.form,onCompositionstart:ze,onCompositionupdate:Me,onCompositionend:Fe,onInput:Ce,onFocus:Ae,onBlur:Be,onChange:Te,onKeydown:Re}),null,16,Sa),F(" suffix slot "),e(pe)?(S(),V("span",{key:1,class:z(e(f).e("suffix"))},[r("span",{class:z(e(f).e("suffix-inner")),onClick:me},[!e(v)||!e(D)||!e(O)?(S(),V(ne,{key:0},[K(o.$slots,"suffix"),o.suffixIcon?(S(),j(e(oe),{key:0,class:z(e(f).e("icon"))},{default:N(()=>[(S(),j(re(o.suffixIcon)))]),_:1},8,["class"])):F("v-if",!0)],64)):F("v-if",!0),e(v)?(S(),j(e(oe),{key:1,class:z([e(f).e("icon"),e(f).e("clear")]),onMousedown:At(e(ge),["prevent"]),onClick:Pe},{default:N(()=>[q(e(Ft))]),_:1},8,["class","onMousedown"])):F("v-if",!0),e(D)?(S(),j(e(oe),{key:2,class:z([e(f).e("icon"),e(f).e("password")]),onClick:it},{default:N(()=>[(S(),j(re(e(g))))]),_:1},8,["class"])):F("v-if",!0),e(O)?(S(),V("span",{key:3,class:z(e(f).e("count"))},[r("span",{class:z(e(f).e("count-inner"))},C(e(J))+" / "+C(e(x).maxlength),3)],2)):F("v-if",!0),e(B)&&e(l)&&e(k)?(S(),j(e(oe),{key:4,class:z([e(f).e("icon"),e(f).e("validateIcon"),e(f).is("loading",e(B)==="validating")])},{default:N(()=>[(S(),j(re(e(l))))]),_:1},8,["class"])):F("v-if",!0)],2)],2)):F("v-if",!0)],2),F(" append slot "),o.$slots.append?(S(),V("div",{key:1,class:z(e(f).be("group","append"))},[K(o.$slots,"append")],2)):F("v-if",!0)],64)):(S(),V(ne,{key:1},[F(" textarea "),r("textarea",be({id:e(y),ref_key:"textarea",ref:P,class:e(G).e("inner")},e(x),{tabindex:o.tabindex,disabled:e($),readonly:o.readonly,autocomplete:o.autocomplete,style:e(_),"aria-label":o.label,placeholder:o.placeholder,form:a.form,onCompositionstart:ze,onCompositionupdate:Me,onCompositionend:Fe,onInput:Ce,onFocus:Ae,onBlur:Be,onChange:Te,onKeydown:Re}),null,16,xa),e(O)?(S(),V("span",{key:0,style:Ee(W.value),class:z(e(f).e("count"))},C(e(J))+" / "+C(e(x).maxlength),7)):F("v-if",!0)],64))],16,Ca)),[[Qe,o.type!=="hidden"]])}});var ka=De($a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Ia=et(ka),Ea=we({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:se([String,Array,Object])},zIndex:{type:se([String,Number])}}),Da={click:t=>t instanceof MouseEvent},Ta="overlay";var za=ae({name:"ElOverlay",props:Ea,emits:Da,setup(t,{slots:s,emit:n}){const a=de(Ta),i=c=>{n("click",c)},{onClick:d,onMousedown:u,onMouseup:p}=tt(t.customMaskEvent?void 0:i);return()=>t.mask?q("div",{class:[a.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:d,onMousedown:u,onMouseup:p},[K(s,"default")],_e.STYLE|_e.CLASS|_e.PROPS,["onClick","onMouseup","onMousedown"]):Bt("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[K(s,"default")])}});const Ma=za,at=Symbol("dialogInjectionKey"),ot=we({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:ke},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),Fa={close:()=>!0},Aa=["aria-label"],Ba=["id"],Ra=ae({name:"ElDialogContent"}),Pa=ae({...Ra,props:ot,emits:Fa,setup(t){const s=t,{t:n}=Rt(),{Close:a}=Ot,{dialogRef:i,headerRef:d,bodyId:u,ns:p,style:c}=Ue(at),{focusTrapRef:x}=Ue(Pt),b=Vt(x,i),m=w(()=>s.draggable);return pa(i,d,m),(y,E)=>(S(),V("div",{ref:e(b),class:z([e(p).b(),e(p).is("fullscreen",y.fullscreen),e(p).is("draggable",e(m)),e(p).is("align-center",y.alignCenter),{[e(p).m("center")]:y.center},y.customClass]),style:Ee(e(c)),tabindex:"-1"},[r("header",{ref_key:"headerRef",ref:d,class:z(e(p).e("header"))},[K(y.$slots,"header",{},()=>[r("span",{role:"heading",class:z(e(p).e("title"))},C(y.title),3)]),y.showClose?(S(),V("button",{key:0,"aria-label":e(n)("el.dialog.close"),class:z(e(p).e("headerbtn")),type:"button",onClick:E[0]||(E[0]=$=>y.$emit("close"))},[q(e(oe),{class:z(e(p).e("close"))},{default:N(()=>[(S(),j(re(y.closeIcon||e(a))))]),_:1},8,["class"])],10,Aa)):F("v-if",!0)],2),r("div",{id:e(u),class:z(e(p).e("body"))},[K(y.$slots,"default")],10,Ba),y.$slots.footer?(S(),V("footer",{key:0,class:z(e(p).e("footer"))},[K(y.$slots,"footer")],2)):F("v-if",!0)],6))}});var Oa=De(Pa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Va=we({...ot,appendToBody:{type:Boolean,default:!1},beforeClose:{type:se(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),La={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ue]:t=>Lt(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Na=(t,s)=>{const a=Ze().emit,{nextZIndex:i}=Nt();let d="";const u=Ye(),p=Ye(),c=R(!1),x=R(!1),b=R(!1),m=R(t.zIndex||i());let y,E;const $=Ht("namespace",Ut),f=w(()=>{const h={},_=`--${$.value}-dialog`;return t.fullscreen||(t.top&&(h[`${_}-margin-top`]=t.top),t.width&&(h[`${_}-width`]=$e(t.width))),h}),G=w(()=>t.alignCenter?{display:"flex"}:{});function L(){a("opened")}function P(){a("closed"),a(ue,!1),t.destroyOnClose&&(b.value=!1)}function Y(){a("close")}function X(){E==null||E(),y==null||y(),t.openDelay&&t.openDelay>0?{stop:y}=We(()=>A(),t.openDelay):A()}function H(){y==null||y(),E==null||E(),t.closeDelay&&t.closeDelay>0?{stop:E}=We(()=>T(),t.closeDelay):T()}function U(){function h(_){_||(x.value=!0,c.value=!1)}t.beforeClose?t.beforeClose(h):H()}function W(){t.closeOnClickModal&&U()}function A(){ce&&(c.value=!0)}function T(){c.value=!1}function k(){a("openAutoFocus")}function B(){a("closeAutoFocus")}function l(h){var _;((_=h.detail)==null?void 0:_.focusReason)==="pointer"&&h.preventDefault()}t.lockScroll&&ma(c);function g(){t.closeOnPressEscape&&U()}return ee(()=>t.modelValue,h=>{h?(x.value=!1,X(),b.value=!0,m.value=t.zIndex?m.value++:i(),te(()=>{a("open"),s.value&&(s.value.scrollTop=0)})):c.value&&H()}),ee(()=>t.fullscreen,h=>{s.value&&(h?(d=s.value.style.transform,s.value.style.transform=""):s.value.style.transform=d)}),Ie(()=>{t.modelValue&&(c.value=!0,b.value=!0,X())}),{afterEnter:L,afterLeave:P,beforeLeave:Y,handleClose:U,onModalClick:W,close:H,doClose:T,onOpenAutoFocus:k,onCloseAutoFocus:B,onCloseRequested:g,onFocusoutPrevented:l,titleId:u,bodyId:p,closed:x,style:f,overlayDialogStyle:G,rendered:b,visible:c,zIndex:m}},Ha=["aria-label","aria-labelledby","aria-describedby"],Ua=ae({name:"ElDialog",inheritAttrs:!1}),Ya=ae({...Ua,props:Va,emits:La,setup(t,{expose:s}){const n=t,a=Ge();je({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},w(()=>!!a.title)),je({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},w(()=>!!n.customClass));const i=de("dialog"),d=R(),u=R(),p=R(),{visible:c,titleId:x,bodyId:b,style:m,overlayDialogStyle:y,rendered:E,zIndex:$,afterEnter:f,afterLeave:G,beforeLeave:L,handleClose:P,onModalClick:Y,onOpenAutoFocus:X,onCloseAutoFocus:H,onCloseRequested:U,onFocusoutPrevented:W}=Na(n,d);Yt(at,{dialogRef:d,headerRef:u,bodyId:b,ns:i,rendered:E,style:m});const A=tt(Y),T=w(()=>n.draggable&&!n.fullscreen);return s({visible:c,dialogContentRef:p}),(k,B)=>(S(),j(Xt,{to:"body",disabled:!k.appendToBody},[q(Kt,{name:"dialog-fade",onAfterEnter:e(f),onAfterLeave:e(G),onBeforeLeave:e(L),persisted:""},{default:N(()=>[Je(q(e(Ma),{"custom-mask-event":"",mask:k.modal,"overlay-class":k.modalClass,"z-index":e($)},{default:N(()=>[r("div",{role:"dialog","aria-modal":"true","aria-label":k.title||void 0,"aria-labelledby":k.title?void 0:e(x),"aria-describedby":e(b),class:z(`${e(i).namespace.value}-overlay-dialog`),style:Ee(e(y)),onClick:B[0]||(B[0]=(...l)=>e(A).onClick&&e(A).onClick(...l)),onMousedown:B[1]||(B[1]=(...l)=>e(A).onMousedown&&e(A).onMousedown(...l)),onMouseup:B[2]||(B[2]=(...l)=>e(A).onMouseup&&e(A).onMouseup(...l))},[q(e(Wt),{loop:"",trapped:e(c),"focus-start-el":"container",onFocusAfterTrapped:e(X),onFocusAfterReleased:e(H),onFocusoutPrevented:e(W),onReleaseRequested:e(U)},{default:N(()=>[e(E)?(S(),j(Oa,be({key:0,ref_key:"dialogContentRef",ref:p},k.$attrs,{"custom-class":k.customClass,center:k.center,"align-center":k.alignCenter,"close-icon":k.closeIcon,draggable:e(T),fullscreen:k.fullscreen,"show-close":k.showClose,title:k.title,onClose:e(P)}),jt({header:N(()=>[k.$slots.title?K(k.$slots,"title",{key:1}):K(k.$slots,"header",{key:0,close:e(P),titleId:e(x),titleClass:e(i).e("title")})]),default:N(()=>[K(k.$slots,"default")]),_:2},[k.$slots.footer?{name:"footer",fn:N(()=>[K(k.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):F("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ha)]),_:3},8,["mask","overlay-class","z-index"]),[[Qe,e(c)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Wa=De(Ya,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const ja=et(Wa);const Ka=r("span",{class:"dialog-footer"},null,-1),Xa={__name:"dialog",props:["dialogVisible","data"],emits:["closeDialog"],setup(t,{emit:s}){const n=t;let a=R(),i;async function d(){i=await new la(a.value,{height:720,mode:"ir",toolbarConfig:{hide:!0},cache:{enable:!1},editable:!1,after:()=>{i.getValue(),i.setValue(`

`+c.value)},upload:{}})}w(()=>n.dialogVisible);function u(b,m=0){let y="";const E=$=>"  ".repeat($);for(const[$,f]of Object.entries(b))typeof f=="object"&&f!==null?(y+=`${E(m)}- **${$}**
`,y+=u(f,m+1)):y+=`${E(m)}- ${$}: ${f}
`;return y}function p(b){return new Date(b).toISOString()}let c=w(()=>{let b=()=>{let y="";for(const E in n.data.resources){const $=n.data.resources[E];y+=`The resource with ID ${$.resourceId} was originally planned to have ${$.plannedUnits} units. The initial planned usage rate was ${$.plannedUnitsPerHour} units per hour, and it currently remains at ${$.Units} units per hour. However, after optimization, the new usage rate is ${$.newUnitsPerHour} units per hour,  the new daily usage I${$.newUnitsPerDay}  units per day.
 `}return y};return`This is a task named '${n.data.name}' categorized as '${n.data.type}' ,is ${n.data.critical==!0?"":"not"} a Critical Task
Before optimize
  It is scheduled to start on ${p(n.data.plannedStart)} (date) and finish on ${p(n.data.plannedFinish)} (date), with an estimated duration of ${n.data.remainingDuration} days. 
After optimized
  It is scheduled to start on ${p(n.data.newStart)} (date) and finish on ${p(n.data.newFinish)} (date), with an estimated duration of ${n.data.newDuration} hours.
  Resources
  ${b()}As of now, the task has not commenced and is labeled as '${n.data.status}.' The task's duration ratio is ${n.data.durationRatio}.`+u(n.data)});const x=()=>{s("closeDialog")};return(b,m)=>{const y=ja;return S(),j(y,{onOpen:d,onClose:x,modelValue:n.dialogVisible,"onUpdate:modelValue":m[0]||(m[0]=E=>n.dialogVisible=E),title:"Detailed content",width:"50%",draggable:""},{footer:N(()=>[Ka]),default:N(()=>[r("span",null,C(e(c).id),1),r("div",{ref_key:"editorRef",ref:a},null,512)]),_:1},8,["modelValue"])}}};const Za={class:"contain"},qa={class:"box"},Ga={class:"sp"},Ja={class:"step"},Qa={class:"step"},eo={class:"maintop"},to={class:"item"},ao={class:"title"},oo={class:"center"},so={class:"changed"},no={class:"base"},lo={class:"bottom"},io={class:"item"},ro={class:"title"},uo={class:"center"},co={class:"changed"},fo={class:"base"},po={class:"bottom"},mo={class:"item"},vo={class:"title"},yo={class:"center"},ho={class:"changed"},go={class:"base"},bo={class:"bottom"},wo={class:"mainEchar1"},Co={class:"Echar1top"},So=ta('<div class="choosebox" data-v-fefd5ffe><div class="choose" data-v-fefd5ffe><div style="background-color:#b0e054;" class="item" data-v-fefd5ffe></div><div data-v-fefd5ffe>Optimized</div></div><div class="choose" data-v-fefd5ffe><div style="background-color:#5474c4;" class="item" data-v-fefd5ffe></div><div data-v-fefd5ffe>Baseline</div></div><div class="choose" data-v-fefd5ffe><div style="background-color:red;" class="item" data-v-fefd5ffe></div><div data-v-fefd5ffe>Critical Path</div></div><div class="choose" data-v-fefd5ffe><div style="background-color:pink;" class="item" data-v-fefd5ffe></div><div data-v-fefd5ffe>Critical Path(baseline)</div></div></div><div id="main" data-v-fefd5ffe></div>',2),xo={ref:"main",style:{width:"1150px",height:"610px"},id:"myEcharts"},_o={class:"mainEchar2"},$o={class:"Echar2top"},ko={class:"types"},Io={ref:"main01",style:{width:"1150px",height:"610px"},id:"myEcharts01"},Eo={class:"button"},Do={__name:"index",setup(t){const s=qt(),n=Gt();let a=R(!1),i=R("");const d=()=>{a.value=!1};Jt((l,g,h)=>{l.name=="InputData"&&u(),h()}),Qt(()=>{s.selectChange&&(T.value="",G(),W(),s.selectChange=!1)});function u(){s.taskData=[],Object.keys(s.dataArray).forEach(l=>{s.dataArray[l].all=[],s.dataArray[l].data=[]}),s.end.data=!1}function p(l,g){return Math.round(l/g*1e4)/100+"%"}function c(l){return new Date(l).toISOString()}function x(l){const g=new Date(l);return`${g.getUTCFullYear()}/${g.getUTCMonth()+1}/${g.getUTCDate()} ${("0"+g.getUTCHours()).slice(-2)}:${("0"+g.getUTCMinutes()).slice(-2)}:${("0"+g.getUTCSeconds()).slice(-2)}`}const b=l=>l===void 0||l.length===0?[]:l.xy.map(g=>{const[h,_]=Object.entries(g)[0];return[c(parseInt(h)),_]});let m=oa,y=R(2),E,$=w(()=>s.selectedData.baselineTasks.filter(g=>g.critical));function f(l){return`<span style="color:#8c8c8c"> ${l} </span>`}function G(){let l=[],g=s.selectedData.baselineTasks.map((v,D)=>{let O=s.selectedData.tasks.find(J=>J.id===v.id);return l.push(O),D=s.selectedData.baselineTasks.length-D,{name:v.name,value:[D,c(v.newStart),c(v.newFinish),v],itemStyle:{color:v.critical?"pink":void 0}}});l=l.map((v,D)=>(D=l.length-D+.2,{id:v.id,name:v.name,value:[D,c(v.newStart),c(v.newFinish),v],itemStyle:{color:v.critical?"red":void 0}}));let h=m.init(document.getElementById("myEcharts"),"purple-passion");h.on("click",function(v){i.value=v.data.value[3],a.value=!0});var _;let M=(v,D)=>{let O=D.coord([D.value(1),D.value(0)]),J=D.coord([D.value(2),D.value(0)]),fe=D.size([0,1])[1]*.5,pe=sa({x:O[0],y:O[1]-fe/2,width:Math.max(J[0]-O[0],1),height:fe},v.coordSys);return pe&&{type:"rect",shape:pe,style:D.style()}};_={toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},dataZoom:[{type:"slider",filterMode:"weakFilter",xAxisIndex:[0],labelFormatter:function(v){return x(v)}},{type:"slider",filterMode:"weakFilter",yAxisIndex:[0]},{type:"inside",filterMode:"weakFilter",xAxisIndex:[0]},{type:"inside",filterMode:"weakFilter",yAxisIndex:[0]}],legend:{data:["baseline","new"]},xAxis:{name:"date",type:"time",axisLabel:{formatter:function(v,D){return x(v)}}},yAxis:{name:"tasks"},series:[{name:"baseline",type:"custom",data:g,large:!0,renderItem:M,encode:{x:[1,2],y:0}},{name:"new",type:"custom",data:l,large:!0,renderItem:M,encode:{x:[1,2],y:0}}],tooltip:{formatter:v=>{const D=`<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:${v.color};"></span>`;return`${v.name}<br/>
        <div style='margin-top:20px'>
         ${D} Start: ${v.value[1]}   ${f(v.value[3].plannedStart)}
        <br/>
         ${D} End: ${v.value[2]} ${f(v.value[3].plannedFinish)}
         <br/>
         Duration ${v.value[3].newDuration} (${f(v.value[3].plannedDuration)} ) Hours
         <br/>
        </div>`}}},_&&h.setOption(_),E=m.init(document.getElementById("myEcharts01"),"purple-passion")}let L=R("");function P(l,g){return l.reduce(function(h,_){let M=_[g];return h[M]||(h[M]=[]),h[M].push(_),h},{})}let Y=w(()=>{let l=s.selectedData.baselineResources.map(h=>({id:h.id,name:h.name,type:h.type})),g=P(l,"type");if(L.value){const h=new RegExp(L.value,"i");let _={};for(let M in g)_[M]=g[M].filter(v=>h.test(v.name));return _}else return g}),X=w(()=>{var g;const l=s.selectedData.baselineResources;return T.value?l.filter(_=>_.id&&_.id===T.value)[0].distribution:l.length==0?[]:(T.value=l[0].id,(g=l[0])==null?void 0:g.distribution)}),H=w(()=>{var g;const l=s.selectedData.newResources;return T.value?l.filter(_=>_.id&&_.id===T.value)[0].distribution:l.length==0?[]:(g=l[0])==null?void 0:g.distribution}),U=w(()=>({toolbox:{feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},dataZoom:[{type:"slider",filterMode:"none"},{type:"slider",filterMode:"none"},{type:"inside",filterMode:"none"},{type:"inside",filterMode:"none"}],tooltip:{trigger:"axis",axisPointer:{type:"cross"}},animation:!1,legend:{data:["baseline","new"]},xAxis:{name:"date",type:"time",axisLabel:{formatter:"{yyyy}-{MM}-{dd}"}},yAxis:{name:"units / day"},series:[{name:"baseline",type:"bar",data:b(X.value),large:!0},{name:"new",type:"bar",data:b(H.value),large:!0}]}));function W(){E.setOption(U.value)}ee(y,()=>{W()});async function A(){n.push({name:"OptimizedReport"}),s.active=3}let T=R("");function k(){n.push({name:"BaselineSummary"}),s.active=1}function B(l){T.value=l}return ee(T,()=>{W()}),(l,g)=>{const h=Ia,_=ea("v-btn"),M=aa;return S(),V(ne,null,[r("div",Za,[r("div",qa,[r("h2",null,[ye(C(l.$t("optimizedSummary.title[0]"))+" ",1),r("span",Ga,C(e(s).SummaryData.group),1),r("div",Ja,[r("span",null,C(e(s).setting.Steps)+" "+C(l.$t("optimizedSummary.title[1]")),1)]),r("div",Qa,[r("span",null,C(`${e(s).setting.Ratio[0]*100}% - ${e(s).setting.Ratio[1]*100}% ${l.$t("optimizedSummary.title[2]")}`),1)])]),r("div",eo,[r("div",to,[r("div",ao,C(l.$t("optimizedSummary.header[0]")),1),r("div",oo,[r("span",so,C(e(s).SummaryData.changedDuration)+"/",1),r("span",no,C(e(s).SummaryData.baseDuration),1)]),r("div",lo,C(p(e(s).SummaryData.changedDuration,e(s).SummaryData.baseDuration)),1)]),r("div",io,[r("div",ro,C(l.$t("optimizedSummary.header[1]")),1),r("div",uo,[r("span",co,C(e(s).SummaryData.changgedTasks)+"/",1),r("span",fo,C(e(s).SummaryData.TotalTasks),1)]),r("div",po,C(p(e(s).SummaryData.changgedTasks,e(s).SummaryData.TotalTasks)),1)]),r("div",mo,[r("div",vo,C(l.$t("optimizedSummary.header[2]")),1),r("div",yo,[r("span",ho,C(e($).length)+"/",1),r("span",go,C(e(s).selectedData.baselineTasks.length),1)]),r("div",bo,C(p(e($).length,e(s).selectedData.baselineTasks.length)),1)])]),r("div",wo,[r("div",Co,[r("div",null,C(l.$t("optimizedSummary.chartName[0]")),1)]),r("span",null,C(l.$t("optimizedSummary.chartName[1]")),1),So,r("div",xo,null,512)]),r("div",_o,[r("div",$o,[r("div",null,C(l.$t("optimizedSummary.chartName[2]")),1)]),r("span",null,C(l.$t("optimizedSummary.chartName[3]")),1),q(h,{modelValue:e(L),"onUpdate:modelValue":g[0]||(g[0]=v=>qe(L)?L.value=v:L=v),placeholder:"Search Resources"},null,8,["modelValue"]),(S(!0),V(ne,null,Ke(e(Y),(v,D)=>(S(),V("div",null,[r("div",null,C(D),1),r("div",ko,[(S(!0),V(ne,null,Ke(v,(O,J)=>(S(),V("div",{key:J,class:"type"},[q(_,{variant:"text",value:J,class:z({activeType:e(T)==O.id}),onClick:()=>{B(O.id)}},{default:N(()=>[ye(C(O.name)+" "+C(O.type),1)]),_:2},1032,["value","class","onClick"])]))),128))])]))),256)),r("div",Io,null,512)]),r("div",Eo,[q(M,{onClick:k,class:"btnback"},{default:N(()=>[ye(C(l.$t("optimizedSummary.btn[0]")),1)]),_:1}),q(M,{onClick:A,class:"btngo"},{default:N(()=>[ye(C(l.$t("optimizedSummary.btn[1]")),1)]),_:1})])])]),q(Xa,{onCloseDialog:d,data:e(i),dialogVisible:e(a)},null,8,["data","dialogVisible"])],64)}}},Ro=Zt(Do,[["__scopeId","data-v-fefd5ffe"]]);export{Ro as default};
