import{aQ as pe,m as w,aR as qe,aS as ft,aB as De,aT as pt,ab as mt,aU as ke,aw as Ge,N as vt,u as ce,aV as ht,aW as Ve,a8 as ae,aX as yt,aY as gt,aZ as bt,a_ as wt,P as ge,T as P,aq as Le,j as we,ao as St,k as le,a$ as Ie,ap as fe,v as xe,l as se,b0 as Ct,aa as Je,az as xt,aA as _t,at as $t,R as kt,a4 as _e,b1 as It,b2 as Dt,b3 as Et,O as Tt,b4 as Mt,ax as oe,a9 as He,ad as Ft,au as Qe,b5 as et,x,y as O,F as A,U as ie,z,A as e,D as q,B as c,G as X,H as L,I as de,J as ne,af as be,Y as Q,o as zt,X as At,E as C,C as Ee,_ as Te,a5 as Ue,K as tt,b6 as $e,b7 as Rt,Q as Bt,a3 as We,b8 as Pt,b9 as Nt,ba as Ot,ar as Vt,bb as Lt,ay as Ye,bc as Ht,bd as Ut,be as je,bf as Ke,ac as Wt,bg as Yt,ae as jt,bh as Kt,bi as Zt,al as Xt,ag as qt,am as Gt,aG as Jt,aH as Qt,an as ea,aj as he,V as Ze,aP as ta,ak as aa}from"./index-e80f9cce.js";import{e as oa,c as sa}from"./index-11e546f7.js";import"./ecStat-39ccab01.js";import{m as na}from"./index-31657459.js";import{V as la}from"./index.min-f5980c86.js";const ia=()=>pe&&/firefox/i.test(window.navigator.userAgent);let ye;const ra=t=>{var n;if(!pe)return 0;if(ye!==void 0)return ye;const s=document.createElement("div");s.className=`${t}-scrollbar__wrap`,s.style.visibility="hidden",s.style.width="100px",s.style.position="absolute",s.style.top="-9999px",document.body.appendChild(s);const a=s.offsetWidth;s.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",s.appendChild(r);const u=r.offsetWidth;return(n=s.parentNode)==null||n.removeChild(s),ye=a-u,ye},ua=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),da=["class","style"],ca=/^on[A-Z]/,fa=(t={})=>{const{excludeListeners:n=!1,excludeKeys:s}=t,a=w(()=>((s==null?void 0:s.value)||[]).concat(da)),r=qe();return r?w(()=>{var u;return ft(Object.entries((u=r.proxy)==null?void 0:u.$attrs).filter(([f])=>!a.value.includes(f)&&!(n&&ca.test(f))))}):w(()=>({}))},pa=(t,n,s)=>{let a={offsetX:0,offsetY:0};const r=p=>{const y=p.clientX,_=p.clientY,{offsetX:b,offsetY:d}=a,m=t.value.getBoundingClientRect(),E=m.left,S=m.top,g=m.width,H=m.height,Y=document.documentElement.clientWidth,N=document.documentElement.clientHeight,j=-E+b,G=-S+d,U=Y-E-g+b,W=N-S-H+d,K=M=>{const $=Math.min(Math.max(b+M.clientX-y,j),U),B=Math.min(Math.max(d+M.clientY-_,G),W);a={offsetX:$,offsetY:B},t.value.style.transform=`translate(${ke($)}, ${ke(B)})`},R=()=>{document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",R)};document.addEventListener("mousemove",K),document.addEventListener("mouseup",R)},u=()=>{n.value&&t.value&&n.value.addEventListener("mousedown",r)},f=()=>{n.value&&t.value&&n.value.removeEventListener("mousedown",r)};De(()=>{pt(()=>{s.value?u():f()})}),mt(()=>{f()})},ma=(t,n={})=>{Ge(t)||vt("[useLockscreen]","You need to pass a ref param to this function");const s=n.ns||ce("popup"),a=ht(()=>s.bm("parent","hidden"));if(!pe||Ve(document.body,a.value))return;let r=0,u=!1,f="0";const p=()=>{setTimeout(()=>{wt(document==null?void 0:document.body,a.value),u&&document&&(document.body.style.width=f)},200)};ae(t,y=>{if(!y){p();return}u=!Ve(document.body,a.value),u&&(f=document.body.style.width),r=ra(s.namespace.value);const _=document.documentElement.clientHeight<document.body.scrollHeight,b=yt(document.body,"overflowY");r>0&&(_||b==="scroll")&&u&&(document.body.style.width=`calc(100% - ${r}px)`),gt(document.body,a.value)}),bt(()=>p())},at=t=>{if(!t)return{onClick:ge,onMousedown:ge,onMouseup:ge};let n=!1,s=!1;return{onClick:f=>{n&&s&&t(f),n=s=!1},onMousedown:f=>{n=f.target===f.currentTarget},onMouseup:f=>{s=f.target===f.currentTarget}}};function va(t){const n=P();function s(){if(t.value==null)return;const{selectionStart:r,selectionEnd:u,value:f}=t.value;if(r==null||u==null)return;const p=f.slice(0,Math.max(0,r)),y=f.slice(Math.max(0,u));n.value={selectionStart:r,selectionEnd:u,value:f,beforeTxt:p,afterTxt:y}}function a(){if(t.value==null||n.value==null)return;const{value:r}=t.value,{beforeTxt:u,afterTxt:f,selectionStart:p}=n.value;if(u==null||f==null||p==null)return;let y=r.length;if(r.endsWith(f))y=r.length-f.length;else if(r.startsWith(u))y=u.length;else{const _=u[p-1],b=r.indexOf(_,p-1);b!==-1&&(y=b+1)}t.value.setSelectionRange(y,y)}return[s,a]}let J;const ha=`
  height:0 !important;
  visibility:hidden !important;
  ${ia()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,ya=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function ga(t){const n=window.getComputedStyle(t),s=n.getPropertyValue("box-sizing"),a=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),r=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:ya.map(f=>`${f}:${n.getPropertyValue(f)}`).join(";"),paddingSize:a,borderSize:r,boxSizing:s}}function Xe(t,n=1,s){var a;J||(J=document.createElement("textarea"),document.body.appendChild(J));const{paddingSize:r,borderSize:u,boxSizing:f,contextStyle:p}=ga(t);J.setAttribute("style",`${p};${ha}`),J.value=t.value||t.placeholder||"";let y=J.scrollHeight;const _={};f==="border-box"?y=y+u:f==="content-box"&&(y=y-r),J.value="";const b=J.scrollHeight-r;if(Le(n)){let d=b*n;f==="border-box"&&(d=d+r+u),y=Math.max(d,y),_.minHeight=`${d}px`}if(Le(s)){let d=b*s;f==="border-box"&&(d=d+r+u),y=Math.min(d,y)}return _.height=`${y}px`,(a=J.parentNode)==null||a.removeChild(J),J=void 0,_}const ba=we({id:{type:String,default:void 0},size:St,disabled:Boolean,modelValue:{type:le([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:le([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ie},prefixIcon:{type:Ie},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:le([Object,Array,String]),default:()=>na({})}}),wa={[fe]:t=>xe(t),input:t=>xe(t),change:t=>xe(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},Sa=["role"],Ca=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],xa=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],_a=se({name:"ElInput",inheritAttrs:!1}),$a=se({..._a,props:ba,emits:wa,setup(t,{expose:n,emit:s}){const a=t,r=Ct(),u=Je(),f=w(()=>{const o={};return a.containerRole==="combobox"&&(o["aria-haspopup"]=r["aria-haspopup"],o["aria-owns"]=r["aria-owns"],o["aria-expanded"]=r["aria-expanded"]),o}),p=w(()=>[a.type==="textarea"?H.b():g.b(),g.m(E.value),g.is("disabled",S.value),g.is("exceed",Z.value),{[g.b("group")]:u.prepend||u.append,[g.bm("group","append")]:u.append,[g.bm("group","prepend")]:u.prepend,[g.m("prefix")]:u.prefix||a.prefixIcon,[g.m("suffix")]:u.suffix||a.suffixIcon||a.clearable||a.showPassword,[g.bm("suffix","password-clear")]:i.value&&T.value},r.class]),y=w(()=>[g.e("wrapper"),g.is("focus",j.value)]),_=fa({excludeKeys:w(()=>Object.keys(f.value))}),{form:b,formItem:d}=xt(),{inputId:m}=_t(a,{formItemContext:d}),E=$t(),S=kt(),g=ce("input"),H=ce("textarea"),Y=_e(),N=_e(),j=P(!1),G=P(!1),U=P(!1),W=P(!1),K=P(),R=_e(a.inputStyle),M=w(()=>Y.value||N.value),$=w(()=>{var o;return(o=b==null?void 0:b.statusIcon)!=null?o:!1}),B=w(()=>(d==null?void 0:d.validateState)||""),l=w(()=>B.value&&It[B.value]),h=w(()=>W.value?Dt:Et),v=w(()=>[r.style,a.inputStyle]),I=w(()=>[a.inputStyle,R.value,{resize:a.resize}]),D=w(()=>Tt(a.modelValue)?"":String(a.modelValue)),i=w(()=>a.clearable&&!S.value&&!a.readonly&&!!D.value&&(j.value||G.value)),T=w(()=>a.showPassword&&!S.value&&!a.readonly&&!!D.value&&(!!D.value||j.value)),F=w(()=>a.showWordLimit&&!!_.value.maxlength&&(a.type==="text"||a.type==="textarea")&&!S.value&&!a.readonly&&!a.showPassword),V=w(()=>D.value.length),Z=w(()=>!!F.value&&V.value>Number(_.value.maxlength)),te=w(()=>!!u.suffix||!!a.suffixIcon||i.value||a.showPassword||F.value||!!B.value&&$.value),[Se,nt]=va(Y);Mt(N,o=>{if(lt(),!F.value||a.resize!=="both")return;const k=o[0],{width:ee}=k.contentRect;K.value={right:`calc(100% - ${ee+15+6}px)`}});const re=()=>{const{type:o,autosize:k}=a;if(!(!pe||o!=="textarea"||!N.value))if(k){const ee=Ue(k)?k.minRows:void 0,ve=Ue(k)?k.maxRows:void 0,Oe=Xe(N.value,ee,ve);R.value={overflowY:"hidden",...Oe},oe(()=>{N.value.offsetHeight,R.value=Oe})}else R.value={minHeight:Xe(N.value).minHeight}},lt=(o=>{let k=!1;return()=>{var ee;if(k||!a.autosize)return;((ee=N.value)==null?void 0:ee.offsetParent)===null||(o(),k=!0)}})(re),ue=()=>{const o=M.value,k=a.formatter?a.formatter(D.value):D.value;!o||o.value===k||(o.value=k)},Ce=async o=>{Se();let{value:k}=o.target;if(a.formatter&&(k=a.parser?a.parser(k):k),!U.value){if(k===D.value){ue();return}s(fe,k),s("input",k),await oe(),ue(),nt()}},Me=o=>{s("change",o.target.value)},Fe=o=>{s("compositionstart",o),U.value=!0},ze=o=>{var k;s("compositionupdate",o);const ee=(k=o.target)==null?void 0:k.value,ve=ee[ee.length-1]||"";U.value=!ua(ve)},Ae=o=>{s("compositionend",o),U.value&&(U.value=!1,Ce(o))},it=()=>{W.value=!W.value,me()},me=async()=>{var o;await oe(),(o=M.value)==null||o.focus()},rt=()=>{var o;return(o=M.value)==null?void 0:o.blur()},Re=o=>{j.value=!0,s("focus",o)},Be=o=>{var k;j.value=!1,s("blur",o),a.validateEvent&&((k=d==null?void 0:d.validate)==null||k.call(d,"blur").catch(ee=>He()))},ut=o=>{G.value=!1,s("mouseleave",o)},dt=o=>{G.value=!0,s("mouseenter",o)},Pe=o=>{s("keydown",o)},ct=()=>{var o;(o=M.value)==null||o.select()},Ne=()=>{s(fe,""),s("change",""),s("clear"),s("input","")};return ae(()=>a.modelValue,()=>{var o;oe(()=>re()),a.validateEvent&&((o=d==null?void 0:d.validate)==null||o.call(d,"change").catch(k=>He()))}),ae(D,()=>ue()),ae(()=>a.type,async()=>{await oe(),ue(),re()}),De(()=>{!a.formatter&&a.parser,ue(),oe(re)}),n({input:Y,textarea:N,ref:M,textareaStyle:I,autosize:Ft(a,"autosize"),focus:me,blur:rt,select:ct,clear:Ne,resizeTextarea:re}),(o,k)=>Qe((x(),O("div",be(e(f),{class:e(p),style:e(v),role:o.containerRole,onMouseenter:dt,onMouseleave:ut}),[A(" input "),o.type!=="textarea"?(x(),O(ie,{key:0},[A(" prepend slot "),o.$slots.prepend?(x(),O("div",{key:0,class:z(e(g).be("group","prepend"))},[q(o.$slots,"prepend")],2)):A("v-if",!0),c("div",{class:z(e(y))},[A(" prefix slot "),o.$slots.prefix||o.prefixIcon?(x(),O("span",{key:0,class:z(e(g).e("prefix"))},[c("span",{class:z(e(g).e("prefix-inner")),onClick:me},[q(o.$slots,"prefix"),o.prefixIcon?(x(),X(e(ne),{key:0,class:z(e(g).e("icon"))},{default:L(()=>[(x(),X(de(o.prefixIcon)))]),_:1},8,["class"])):A("v-if",!0)],2)],2)):A("v-if",!0),c("input",be({id:e(m),ref_key:"input",ref:Y,class:e(g).e("inner")},e(_),{type:o.showPassword?W.value?"text":"password":o.type,disabled:e(S),formatter:o.formatter,parser:o.parser,readonly:o.readonly,autocomplete:o.autocomplete,tabindex:o.tabindex,"aria-label":o.label,placeholder:o.placeholder,style:o.inputStyle,form:a.form,onCompositionstart:Fe,onCompositionupdate:ze,onCompositionend:Ae,onInput:Ce,onFocus:Re,onBlur:Be,onChange:Me,onKeydown:Pe}),null,16,Ca),A(" suffix slot "),e(te)?(x(),O("span",{key:1,class:z(e(g).e("suffix"))},[c("span",{class:z(e(g).e("suffix-inner")),onClick:me},[!e(i)||!e(T)||!e(F)?(x(),O(ie,{key:0},[q(o.$slots,"suffix"),o.suffixIcon?(x(),X(e(ne),{key:0,class:z(e(g).e("icon"))},{default:L(()=>[(x(),X(de(o.suffixIcon)))]),_:1},8,["class"])):A("v-if",!0)],64)):A("v-if",!0),e(i)?(x(),X(e(ne),{key:1,class:z([e(g).e("icon"),e(g).e("clear")]),onMousedown:At(e(ge),["prevent"]),onClick:Ne},{default:L(()=>[Q(e(zt))]),_:1},8,["class","onMousedown"])):A("v-if",!0),e(T)?(x(),X(e(ne),{key:2,class:z([e(g).e("icon"),e(g).e("password")]),onClick:it},{default:L(()=>[(x(),X(de(e(h))))]),_:1},8,["class"])):A("v-if",!0),e(F)?(x(),O("span",{key:3,class:z(e(g).e("count"))},[c("span",{class:z(e(g).e("count-inner"))},C(e(V))+" / "+C(e(_).maxlength),3)],2)):A("v-if",!0),e(B)&&e(l)&&e($)?(x(),X(e(ne),{key:4,class:z([e(g).e("icon"),e(g).e("validateIcon"),e(g).is("loading",e(B)==="validating")])},{default:L(()=>[(x(),X(de(e(l))))]),_:1},8,["class"])):A("v-if",!0)],2)],2)):A("v-if",!0)],2),A(" append slot "),o.$slots.append?(x(),O("div",{key:1,class:z(e(g).be("group","append"))},[q(o.$slots,"append")],2)):A("v-if",!0)],64)):(x(),O(ie,{key:1},[A(" textarea "),c("textarea",be({id:e(m),ref_key:"textarea",ref:N,class:e(H).e("inner")},e(_),{tabindex:o.tabindex,disabled:e(S),readonly:o.readonly,autocomplete:o.autocomplete,style:e(I),"aria-label":o.label,placeholder:o.placeholder,form:a.form,onCompositionstart:Fe,onCompositionupdate:ze,onCompositionend:Ae,onInput:Ce,onFocus:Re,onBlur:Be,onChange:Me,onKeydown:Pe}),null,16,xa),e(F)?(x(),O("span",{key:0,style:Ee(K.value),class:z(e(g).e("count"))},C(e(V))+" / "+C(e(_).maxlength),7)):A("v-if",!0)],64))],16,Sa)),[[et,o.type!=="hidden"]])}});var ka=Te($a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Ia=tt(ka),Da=we({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:le([String,Array,Object])},zIndex:{type:le([String,Number])}}),Ea={click:t=>t instanceof MouseEvent},Ta="overlay";var Ma=se({name:"ElOverlay",props:Da,emits:Ea,setup(t,{slots:n,emit:s}){const a=ce(Ta),r=y=>{s("click",y)},{onClick:u,onMousedown:f,onMouseup:p}=at(t.customMaskEvent?void 0:r);return()=>t.mask?Q("div",{class:[a.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:u,onMousedown:f,onMouseup:p},[q(n,"default")],$e.STYLE|$e.CLASS|$e.PROPS,["onClick","onMouseup","onMousedown"]):Rt("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[q(n,"default")])}});const Fa=Ma,ot=Symbol("dialogInjectionKey"),st=we({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:Ie},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),za={close:()=>!0},Aa=["aria-label"],Ra=["id"],Ba=se({name:"ElDialogContent"}),Pa=se({...Ba,props:st,emits:za,setup(t){const n=t,{t:s}=Bt(),{Close:a}=Nt,{dialogRef:r,headerRef:u,bodyId:f,ns:p,style:y}=We(ot),{focusTrapRef:_}=We(Pt),b=Ot(_,r),d=w(()=>n.draggable);return pa(r,u,d),(m,E)=>(x(),O("div",{ref:e(b),class:z([e(p).b(),e(p).is("fullscreen",m.fullscreen),e(p).is("draggable",e(d)),e(p).is("align-center",m.alignCenter),{[e(p).m("center")]:m.center},m.customClass]),style:Ee(e(y)),tabindex:"-1"},[c("header",{ref_key:"headerRef",ref:u,class:z(e(p).e("header"))},[q(m.$slots,"header",{},()=>[c("span",{role:"heading",class:z(e(p).e("title"))},C(m.title),3)]),m.showClose?(x(),O("button",{key:0,"aria-label":e(s)("el.dialog.close"),class:z(e(p).e("headerbtn")),type:"button",onClick:E[0]||(E[0]=S=>m.$emit("close"))},[Q(e(ne),{class:z(e(p).e("close"))},{default:L(()=>[(x(),X(de(m.closeIcon||e(a))))]),_:1},8,["class"])],10,Aa)):A("v-if",!0)],2),c("div",{id:e(f),class:z(e(p).e("body"))},[q(m.$slots,"default")],10,Ra),m.$slots.footer?(x(),O("footer",{key:0,class:z(e(p).e("footer"))},[q(m.$slots,"footer")],2)):A("v-if",!0)],6))}});var Na=Te(Pa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Oa=we({...st,appendToBody:{type:Boolean,default:!1},beforeClose:{type:le(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),Va={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[fe]:t=>Vt(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},La=(t,n)=>{const a=qe().emit,{nextZIndex:r}=Lt();let u="";const f=Ye(),p=Ye(),y=P(!1),_=P(!1),b=P(!1),d=P(t.zIndex||r());let m,E;const S=Ht("namespace",Ut),g=w(()=>{const v={},I=`--${S.value}-dialog`;return t.fullscreen||(t.top&&(v[`${I}-margin-top`]=t.top),t.width&&(v[`${I}-width`]=ke(t.width))),v}),H=w(()=>t.alignCenter?{display:"flex"}:{});function Y(){a("opened")}function N(){a("closed"),a(fe,!1),t.destroyOnClose&&(b.value=!1)}function j(){a("close")}function G(){E==null||E(),m==null||m(),t.openDelay&&t.openDelay>0?{stop:m}=je(()=>R(),t.openDelay):R()}function U(){m==null||m(),E==null||E(),t.closeDelay&&t.closeDelay>0?{stop:E}=je(()=>M(),t.closeDelay):M()}function W(){function v(I){I||(_.value=!0,y.value=!1)}t.beforeClose?t.beforeClose(v):U()}function K(){t.closeOnClickModal&&W()}function R(){pe&&(y.value=!0)}function M(){y.value=!1}function $(){a("openAutoFocus")}function B(){a("closeAutoFocus")}function l(v){var I;((I=v.detail)==null?void 0:I.focusReason)==="pointer"&&v.preventDefault()}t.lockScroll&&ma(y);function h(){t.closeOnPressEscape&&W()}return ae(()=>t.modelValue,v=>{v?(_.value=!1,G(),b.value=!0,d.value=t.zIndex?d.value++:r(),oe(()=>{a("open"),n.value&&(n.value.scrollTop=0)})):y.value&&U()}),ae(()=>t.fullscreen,v=>{n.value&&(v?(u=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=u)}),De(()=>{t.modelValue&&(y.value=!0,b.value=!0,G())}),{afterEnter:Y,afterLeave:N,beforeLeave:j,handleClose:W,onModalClick:K,close:U,doClose:M,onOpenAutoFocus:$,onCloseAutoFocus:B,onCloseRequested:h,onFocusoutPrevented:l,titleId:f,bodyId:p,closed:_,style:g,overlayDialogStyle:H,rendered:b,visible:y,zIndex:d}},Ha=["aria-label","aria-labelledby","aria-describedby"],Ua=se({name:"ElDialog",inheritAttrs:!1}),Wa=se({...Ua,props:Oa,emits:Va,setup(t,{expose:n}){const s=t,a=Je();Ke({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},w(()=>!!a.title)),Ke({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},w(()=>!!s.customClass));const r=ce("dialog"),u=P(),f=P(),p=P(),{visible:y,titleId:_,bodyId:b,style:d,overlayDialogStyle:m,rendered:E,zIndex:S,afterEnter:g,afterLeave:H,beforeLeave:Y,handleClose:N,onModalClick:j,onOpenAutoFocus:G,onCloseAutoFocus:U,onCloseRequested:W,onFocusoutPrevented:K}=La(s,u);Wt(ot,{dialogRef:u,headerRef:f,bodyId:b,ns:r,rendered:E,style:d});const R=at(j),M=w(()=>s.draggable&&!s.fullscreen);return n({visible:y,dialogContentRef:p}),($,B)=>(x(),X(Zt,{to:"body",disabled:!$.appendToBody},[Q(Kt,{name:"dialog-fade",onAfterEnter:e(g),onAfterLeave:e(H),onBeforeLeave:e(Y),persisted:""},{default:L(()=>[Qe(Q(e(Fa),{"custom-mask-event":"",mask:$.modal,"overlay-class":$.modalClass,"z-index":e(S)},{default:L(()=>[c("div",{role:"dialog","aria-modal":"true","aria-label":$.title||void 0,"aria-labelledby":$.title?void 0:e(_),"aria-describedby":e(b),class:z(`${e(r).namespace.value}-overlay-dialog`),style:Ee(e(m)),onClick:B[0]||(B[0]=(...l)=>e(R).onClick&&e(R).onClick(...l)),onMousedown:B[1]||(B[1]=(...l)=>e(R).onMousedown&&e(R).onMousedown(...l)),onMouseup:B[2]||(B[2]=(...l)=>e(R).onMouseup&&e(R).onMouseup(...l))},[Q(e(Yt),{loop:"",trapped:e(y),"focus-start-el":"container",onFocusAfterTrapped:e(G),onFocusAfterReleased:e(U),onFocusoutPrevented:e(K),onReleaseRequested:e(W)},{default:L(()=>[e(E)?(x(),X(Na,be({key:0,ref_key:"dialogContentRef",ref:p},$.$attrs,{"custom-class":$.customClass,center:$.center,"align-center":$.alignCenter,"close-icon":$.closeIcon,draggable:e(M),fullscreen:$.fullscreen,"show-close":$.showClose,title:$.title,onClose:e(N)}),jt({header:L(()=>[$.$slots.title?q($.$slots,"title",{key:1}):q($.$slots,"header",{key:0,close:e(N),titleId:e(_),titleClass:e(r).e("title")})]),default:L(()=>[q($.$slots,"default")]),_:2},[$.$slots.footer?{name:"footer",fn:L(()=>[q($.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):A("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ha)]),_:3},8,["mask","overlay-class","z-index"]),[[et,e(y)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Ya=Te(Wa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const ja=tt(Ya);const Ka=c("span",{class:"dialog-footer"},null,-1),Za={__name:"dialog",props:["dialogVisible","data"],emits:["closeDialog"],setup(t,{emit:n}){const s=t;let a=P();async function r(){la.preview(a.value,`

`+y.value)}function u(d){if(!d)return"0.00";var d=Math.round(parseFloat(d)*100)/100,m=d.toString().split(".");if(m.length==1)return d=d.toString()+".00",d;if(m.length>1)return m[1].length<2&&(d=d.toString()+"0"),d}w(()=>s.dialogVisible);function f(b,d=0){let m=`
`;const E=S=>"  ".repeat(S);for(const[S,g]of Object.entries(b))typeof g=="object"&&g!==null?(m+=`${E(d)}- **${S}**
`,m+=f(g,d+1)):m+=`${E(d)}- ${S}: ${g}
`;return m}function p(b){return new Date(b).toISOString()}let y=w(()=>{let b=()=>{let m="";for(const E in s.data.resources){const S=s.data.resources[E];m+=`The resource with ID ${S.resourceId} was originally planned to have ${u(S.plannedUnits)} units. The initial planned usage rate was ${u(S.plannedUnitsPerHour)} units per hour, and it currently remains at ${u(S.Units)} units per hour. However, after optimization, the new usage rate is ${u(S.newUnitsPerHour)} units per hour, and the new daily usage is ${u(S.newUnitsPerDay)} units per day.
`}return m};return`This is a task named '${s.data.name}' categorized as '${s.data.type}', and it is ${s.data.critical==!0?"":"not"} a Critical Task.
   Before optimization,
   it is scheduled to start on ${p(s.data.plannedStart).replace("T"," ").replace("Z","").slice(0,16)} (date) and finish on ${p(s.data.plannedFinish).replace("T"," ").replace("Z","").slice(0,16)} (date), with an estimated duration of ${s.data.remainingDuration} hours. 
  After optimization,
   it is scheduled to start on ${p(s.data.newStart).replace("T"," ").replace("Z","").slice(0,16)} (date) and finish on ${p(s.data.newFinish).replace("T"," ").replace("Z","").slice(0,16)} (date), with an estimated duration of ${s.data.newDuration} hours. 
Resources:
${b()}As of now, the task has not commenced and is labeled as '${s.data.status}.' The task's duration ratio is ${u(s.data.durationRatio)}.`+f(s.data)});const _=()=>{n("closeDialog")};return(b,d)=>{const m=ja;return x(),X(m,{onOpen:r,onClose:_,modelValue:s.dialogVisible,"onUpdate:modelValue":d[0]||(d[0]=E=>s.dialogVisible=E),title:"Detailed content",width:"50%",draggable:""},{footer:L(()=>[Ka]),default:L(()=>[c("span",null,C(e(y).id),1),c("div",{ref_key:"editorRef",ref:a},null,512)]),_:1},8,["modelValue"])}}};const Xa={class:"contain"},qa={class:"box"},Ga={class:"sp"},Ja={class:"step"},Qa={class:"step"},eo={class:"maintop"},to={class:"item"},ao={class:"title"},oo={class:"center"},so={class:"changed"},no={class:"base"},lo={class:"bottom"},io={class:"item"},ro={class:"title"},uo={class:"center"},co={class:"changed"},fo={class:"base"},po={class:"bottom"},mo={class:"item"},vo={class:"title"},ho={class:"center"},yo={class:"changed"},go={class:"base"},bo={class:"bottom"},wo={class:"mainEchar1"},So={class:"Echar1top"},Co=ta('<div class="choosebox" data-v-66df4b72><div class="choose" data-v-66df4b72><div style="background-color:#b0e054;" class="item" data-v-66df4b72></div><div data-v-66df4b72>Optimized</div></div><div class="choose" data-v-66df4b72><div style="background-color:#5474c4;" class="item" data-v-66df4b72></div><div data-v-66df4b72>Baseline</div></div><div class="choose" data-v-66df4b72><div style="background-color:red;" class="item" data-v-66df4b72></div><div data-v-66df4b72>Critical Path</div></div><div class="choose" data-v-66df4b72><div style="background-color:pink;" class="item" data-v-66df4b72></div><div data-v-66df4b72>Critical Path(baseline)</div></div></div><div id="main" data-v-66df4b72></div>',2),xo={ref:"main",style:{width:"1150px",height:"610px"},id:"myEcharts"},_o={class:"mainEchar2"},$o={class:"Echar2top"},ko={class:"resources-title"},Io={class:"types"},Do={ref:"main01",style:{width:"1150px",height:"610px"},id:"myEcharts01"},Eo={class:"button"},To={__name:"index",setup(t){const n=qt(),s=Gt();let a=P(!1),r=P("");const u=()=>{a.value=!1};Jt((l,h,v)=>{l.name=="InputData",v()}),Qt(()=>{n.selectChange&&(M.value="",g(),K(),n.selectChange=!1)});function f(l,h){return Math.round(l/h*1e4)/100+"%"}function p(l){return new Date(l).toISOString()}function y(l){const h=new Date(l);return`${h.getUTCFullYear()}/${h.getUTCMonth()+1}/${h.getUTCDate()} ${("0"+h.getUTCHours()).slice(-2)}:${("0"+h.getUTCMinutes()).slice(-2)}:${("0"+h.getUTCSeconds()).slice(-2)}`}const _=l=>l[0]===void 0||l[0].length===0?[]:l[0].xy.map(h=>{const[v,I]=Object.entries(h)[0];return{value:[p(parseInt(v)),I],name:p(parseInt(v))+I+l[1]}});let b=oa,d=P(2),m,E=w(()=>n.selectedData?n.selectedData.baselineTasks.filter(h=>h.critical):void 0);function S(l){return`<span >${l}</span>`}function g(){let l=[],h=n.selectedData.baselineTasks.map((i,T)=>{let F=n.selectedData.tasks.find(V=>V.id===i.id);return F.old=i,l.push(F),T=n.selectedData.baselineTasks.length-T,{name:i.name,value:[T,p(i.newStart),p(i.newFinish),i,{baseNew:{start:i.newStart,finish:i.newFinish},changeNew:{start:F.newStart,finish:F.newFinish}}],itemStyle:{color:i.critical?"pink":void 0}}});l=l.map((i,T)=>(T=l.length-T+.2,{id:i.id,name:i.name,value:[T,p(i.newStart),p(i.newFinish),i,{baseNew:{start:i.old.newStart,finish:i.old.newFinish},changeNew:{start:i.newStart,finish:i.newFinish}}],itemStyle:{color:i.critical?"red":void 0}}));let v=b.init(document.getElementById("myEcharts"),"purple-passion");v.on("click",function(i){r.value=i.data.value[3],a.value=!0});var I;let D=(i,T)=>{let F=T.coord([T.value(1),T.value(0)]),V=T.coord([T.value(2),T.value(0)]),Z=T.size([0,1])[1]*.5;return{type:"rect",shape:sa({x:F[0],y:F[1]-Z/2,width:Math.max(V[0]-F[0],1),height:Z},i.coordSys),style:T.style(),focus:"self",blurScope:"coordinateSystem",emphasis:{}}};I={toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},dataZoom:[{type:"slider",filterMode:"weakFilter",xAxisIndex:[0],labelFormatter:function(i){return y(i)},moveHandleSize:15,height:15,moveHandleStyle:{}},{type:"slider",filterMode:"weakFilter",yAxisIndex:[0]},{type:"inside",filterMode:"weakFilter",xAxisIndex:[0]},{type:"inside",filterMode:"weakFilter",yAxisIndex:[0]}],legend:{data:["baseline","new"]},xAxis:{name:"date",type:"time",boundaryGap:[0,0],axisTick:{show:!0,alignWithLabel:!0},minInterval:24*3600,axisLabel:{showMaxLabel:"true",showMinLabel:"true",formatter:function(i,T){return y(i)}}},yAxis:{name:"tasks"},selectedMode:"single",series:[{name:"baseline",type:"custom",data:h,large:!0,renderItem:D,encode:{x:[1,2],y:0}},{name:"new",type:"custom",data:l,large:!0,renderItem:D,encode:{x:[1,2],y:0}}],tooltip:{axisPointer:{},formatter:i=>{let T="Resources: <br/>";if(i.value[3].resources)for(const V in i.value[3].resources){let Z=i.value[3].resources,te=n.selectedData.newResources.find(Se=>Se.id==V);te||(te=""),T+=` &nbsp&nbspResource &nbsp  ${te==null?void 0:te.name} &nbsp id: ${V}  <br/>&nbsp&nbsp&nbsp&nbspunits/hour:${Y(Z[V].plannedUnitsPerHour)}=> ${Y(Z[V].newUnitsPerHour)}<br/>`}function F(V){let Z;switch(V){case"New":i.value[3].critical?Z="red":Z="#b0e054";break;case"Old":i.value[3].critical?Z="pink":Z="#5474c4"}return`<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:${Z};"></span>`}return`${i.name}<br/>
        <div style='margin-top:20px'>
         ${F("New")} New: ${S(p(i.value[4].changeNew.start).replace("T"," ").replace("Z","").slice(0,16))} -> ${S(p(i.value[4].changeNew.finish).replace("T"," ").replace("Z","").slice(0,16))}
         (${i.value[3].newDuration})
        <br/>
         ${F("Old")} Old: ${S(p(i.value[4].baseNew.start).replace("T"," ").replace("Z","").slice(0,16))} -> ${S(p(i.value[4].baseNew.finish).replace("T"," ").replace("Z","").slice(0,16))}
       (${S(i.value[3].plannedDuration)})
         <br/>
         ${T}
        </div>`}}},I&&v.setOption(I),v.on("mousemove",function(i){v.dispatchAction({type:"highlight",dataIndex:i.dataIndex})}),m=b.init(document.getElementById("myEcharts01"),"purple-passion"),m.on("mousemove",function(i){m.dispatchAction({type:"highlight",name:i.name})}),m.on("click",function(i){m.dispatchAction({type:"select",name:i.name})})}let H=P("");function Y(h){if(!h)return"0.00";var h=Math.round(parseFloat(h)*100)/100,v=h.toString().split(".");if(v.length==1)return h=h.toString()+".00",h;if(v.length>1)return v[1].length<2&&(h=h.toString()+"0"),h}function N(l,h){return l.reduce(function(v,I){let D=I[h];return v[D]||(v[D]=[]),v[D].push(I),v},{})}let j=w(()=>{let l=n.selectedData.baselineResources.map(v=>({id:v.id,name:v.name,type:v.type})),h=N(l,"type");if(H.value){const v=new RegExp(H.value,"i");let I={};for(let D in h)I[D]=h[D].filter(i=>v.test(i.name));return I}else return h}),G=w(()=>{var v;const l=n.selectedData.baselineResources;let h="base";return M.value?[l.filter(D=>D.id&&D.id===M.value)[0].distribution,h]:l.length==0?[]:(M.value=l[0].id,[(v=l[0])==null?void 0:v.distribution,h])}),U=w(()=>{var v;const l=n.selectedData.newResources;let h="new";return M.value?[l.filter(D=>D.id&&D.id===M.value)[0].distribution,h]:l.length==0?[]:[(v=l[0])==null?void 0:v.distribution,h]}),W=w(()=>({toolbox:{feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},dataZoom:[{type:"slider",filterMode:"none"},{type:"slider",filterMode:"none"},{type:"inside",filterMode:"none"},{type:"inside",filterMode:"none"}],tooltip:{trigger:"axis",axisPointer:{type:"cross"}},animation:!1,legend:{data:["baseline","new"]},xAxis:{name:"date",type:"time",axisLabel:{formatter:"{yyyy}-{MM}-{dd}"}},yAxis:{name:"units / day"},series:[{name:"baseline",type:"bar",data:_(G.value),large:!0,selectedMode:"single",select:{itemStyle:{color:"red",borderWidth:"5px"}},emphasis:{focus:"self",blurScope:"coordinateSystem"}},{name:"new",type:"bar",data:_(U.value),large:!0,selectedMode:"single",select:{itemStyle:{color:"red",borderWidth:"5px"}},emphasis:{focus:"series",blurScope:"coordinateSystem"}}]}));function K(){m.setOption(W.value)}ae(d,()=>{K()});async function R(){s.push({name:"OptimizedReport"}),n.active=3}let M=P("");function $(){s.push({name:"BaselineSummary"}),n.active=1}function B(l){M.value=l}return ae(M,()=>{K()}),(l,h)=>{const v=Ia,I=ea("v-btn"),D=aa;return x(),O(ie,null,[c("div",Xa,[c("div",qa,[c("h2",null,[he(C(l.$t("optimizedSummary.title[0]"))+" ",1),c("span",Ga,C(e(n).SummaryData.group),1),c("div",Ja,[c("span",null,C(e(n).setting.Steps)+" "+C(l.$t("optimizedSummary.title[1]")),1)]),c("div",Qa,[c("span",null,C(`${e(n).setting.Ratio[0]*100}% - ${e(n).setting.Ratio[1]*100}% ${l.$t("optimizedSummary.title[2]")}`),1)])]),c("div",eo,[c("div",to,[c("div",ao,C(l.$t("optimizedSummary.header[0]")),1),c("div",oo,[c("span",so,C(e(n).SummaryData.changedDuration)+"/ ",1),c("span",no,C(e(n).SummaryData.baseDuration),1)]),c("div",lo,C(f(e(n).SummaryData.changedDuration,e(n).SummaryData.baseDuration)),1)]),c("div",io,[c("div",ro,C(l.$t("optimizedSummary.header[1]")),1),c("div",uo,[c("span",co,C(e(n).SummaryData.changgedTasks)+"/",1),c("span",fo,C(e(n).SummaryData.TotalTasks),1)]),c("div",po,C(f(e(n).SummaryData.changgedTasks,e(n).SummaryData.TotalTasks)),1)]),c("div",mo,[c("div",vo,C(l.$t("optimizedSummary.header[2]")),1),c("div",ho,[c("span",yo,C(e(E).length)+"/",1),c("span",go,C(e(n).selectedData.baselineTasks.length),1)]),c("div",bo,C(f(e(E).length,e(n).selectedData.baselineTasks.length)),1)])]),c("div",wo,[c("div",So,[c("div",null,C(l.$t("optimizedSummary.chartName[0]")),1)]),c("span",null,C(l.$t("optimizedSummary.chartName[1]")),1),Co,c("div",xo,null,512)]),c("div",_o,[c("div",$o,[c("div",null,C(l.$t("optimizedSummary.chartName[2]")),1)]),c("span",null,C(l.$t("optimizedSummary.chartName[3]")),1),Q(v,{modelValue:e(H),"onUpdate:modelValue":h[0]||(h[0]=i=>Ge(H)?H.value=i:H=i),placeholder:"Search Resources"},null,8,["modelValue"]),(x(!0),O(ie,null,Ze(e(j),(i,T)=>(x(),O("div",null,[c("div",ko,C(T)+" Resources",1),c("div",Io,[(x(!0),O(ie,null,Ze(i,(F,V)=>(x(),O("div",{key:V,class:"type"},[Q(I,{variant:"text",value:V,class:z({activeType:e(M)==F.id}),onClick:()=>{B(F.id)}},{default:L(()=>[he(C(F.name)+" "+C(F.type),1)]),_:2},1032,["value","class","onClick"])]))),128))])]))),256)),c("div",Do,null,512)]),c("div",Eo,[Q(D,{onClick:$,class:"btnback"},{default:L(()=>[he(C(l.$t("optimizedSummary.btn[0]")),1)]),_:1}),Q(D,{onClick:R,class:"btngo"},{default:L(()=>[he(C(l.$t("optimizedSummary.btn[1]")),1)]),_:1})])])]),Q(Za,{onCloseDialog:u,data:e(r),dialogVisible:e(a)},null,8,["data","dialogVisible"])],64)}}},Po=Xt(To,[["__scopeId","data-v-66df4b72"]]);export{Po as default};
