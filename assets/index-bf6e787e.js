import{j as N,av as J,aw as L,v as K,ax as H,ay as q,az as de,T,a3 as ce,m as B,aA as pe,R as me,l as M,u as U,x as I,y as z,B as i,ap as X,aB as Y,A as e,aC as O,z as $,D as W,ak as k,E as y,X as Z,_ as j,aD as Q,C as ee,aE as be,aF as ye,aG as he,an as ae,ac as fe,aH as G,aI as ve,a8 as F,a9 as ge,K as _e,aJ as te,am as Se,ag as Re,aK as Ce,aL as De,at as ke,ao as $e,Y as S,H as w,aM as Be,ar as we,as as Te}from"./index-7df5a71b.js";import{e as xe,i as Me}from"./index-f7adadce.js";import{C as A}from"./index-8cafcd2f.js";import{a as Ee}from"./index-c47ad45f.js";const se=N({size:J,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Ve=N({...se,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),oe={[L]:r=>K(r)||H(r)||q(r),[de]:r=>K(r)||H(r)||q(r)},le=Symbol("radioGroupKey"),ne=(r,o)=>{const u=T(),s=ce(le,void 0),a=B(()=>!!s),c=B({get(){return a.value?s.modelValue:r.modelValue},set(m){a.value?s.changeEvent(m):o&&o(L,m),u.value.checked=r.modelValue===r.label}}),h=pe(B(()=>s==null?void 0:s.size)),f=me(B(()=>s==null?void 0:s.disabled)),l=T(!1),p=B(()=>f.value||a.value&&c.value!==r.label?-1:0);return{radioRef:u,isGroup:a,radioGroup:s,focus:l,size:h,disabled:f,tabIndex:p,modelValue:c}},Ie=["value","name","disabled"],ze=M({name:"ElRadio"}),Ae=M({...ze,props:Ve,emits:oe,setup(r,{emit:o}){const u=r,s=U("radio"),{radioRef:a,radioGroup:c,focus:h,size:f,disabled:l,modelValue:p}=ne(u,o);function m(){Q(()=>o("change",p.value))}return(n,b)=>{var g;return I(),z("label",{class:$([e(s).b(),e(s).is("disabled",e(l)),e(s).is("focus",e(h)),e(s).is("bordered",n.border),e(s).is("checked",e(p)===n.label),e(s).m(e(f))])},[i("span",{class:$([e(s).e("input"),e(s).is("disabled",e(l)),e(s).is("checked",e(p)===n.label)])},[X(i("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":b[0]||(b[0]=E=>O(p)?p.value=E:null),class:$(e(s).e("original")),value:n.label,name:n.name||((g=e(c))==null?void 0:g.name),disabled:e(l),type:"radio",onFocus:b[1]||(b[1]=E=>h.value=!0),onBlur:b[2]||(b[2]=E=>h.value=!1),onChange:m},null,42,Ie),[[Y,e(p)]]),i("span",{class:$(e(s).e("inner"))},null,2)],2),i("span",{class:$(e(s).e("label")),onKeydown:b[3]||(b[3]=Z(()=>{},["stop"]))},[W(n.$slots,"default",{},()=>[k(y(n.label),1)])],34)],2)}}});var Fe=j(Ae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const Ne=N({...se,name:{type:String,default:""}}),Pe=["value","name","disabled"],Ge=M({name:"ElRadioButton"}),Le=M({...Ge,props:Ne,setup(r){const o=r,u=U("radio"),{radioRef:s,focus:a,size:c,disabled:h,modelValue:f,radioGroup:l}=ne(o),p=B(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(m,n)=>{var b;return I(),z("label",{class:$([e(u).b("button"),e(u).is("active",e(f)===m.label),e(u).is("disabled",e(h)),e(u).is("focus",e(a)),e(u).bm("button",e(c))])},[X(i("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":n[0]||(n[0]=g=>O(f)?f.value=g:null),class:$(e(u).be("button","original-radio")),value:m.label,type:"radio",name:m.name||((b=e(l))==null?void 0:b.name),disabled:e(h),onFocus:n[1]||(n[1]=g=>a.value=!0),onBlur:n[2]||(n[2]=g=>a.value=!1)},null,42,Pe),[[Y,e(f)]]),i("span",{class:$(e(u).be("button","inner")),style:ee(e(f)===m.label?e(p):{}),onKeydown:n[3]||(n[3]=Z(()=>{},["stop"]))},[W(m.$slots,"default",{},()=>[k(y(m.label),1)])],38)],2)}}});var ie=j(Le,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const Ue=N({id:{type:String,default:void 0},size:J,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Oe=oe,We=["id","aria-label","aria-labelledby"],je=M({name:"ElRadioGroup"}),Ke=M({...je,props:Ue,emits:Oe,setup(r,{emit:o}){const u=r,s=U("radio"),a=be(),c=T(),{formItem:h}=ye(),{inputId:f,isLabeledByFormItem:l}=he(u,{formItemContext:h}),p=n=>{o(L,n),Q(()=>o("change",n))};ae(()=>{const n=c.value.querySelectorAll("[type=radio]"),b=n[0];!Array.from(n).some(g=>g.checked)&&b&&(b.tabIndex=0)});const m=B(()=>u.name||a.value);return fe(le,G({...ve(u),changeEvent:p,name:m})),F(()=>u.modelValue,()=>{u.validateEvent&&(h==null||h.validate("change").catch(n=>ge()))}),(n,b)=>(I(),z("div",{id:e(f),ref_key:"radioGroupRef",ref:c,class:$(e(s).b("group")),role:"radiogroup","aria-label":e(l)?void 0:n.label||"radio-group","aria-labelledby":e(l)?e(h).labelId:void 0},[W(n.$slots,"default")],10,We))}});var re=j(Ke,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const He=_e(Fe,{RadioButton:ie,RadioGroup:re}),qe=te(re);te(ie);const Je={class:"echarts-box"},Xe={__name:"index",props:{width:{type:String},height:{type:String},options:{type:Object}},setup(r){const o=r;let u=xe;ae(()=>{s()});function s(){let a=u.init(document.getElementById("myEcharts"),"purple-passion");a.setOption({...o.options,dataZoom:[{type:"inside",throttle:50}],tooltip:{trigger:"axis"}}),window.onresize=function(){a.resize()}}return(a,c)=>(I(),z("div",Je,[i("div",{id:"myEcharts",style:ee({width:o.firstwidth,height:o.height})},null,4)]))}};const Ye=r=>(we("data-v-0a01c73d"),r=r(),Te(),r),Ze={class:"step"},Qe={class:"step"},ea={class:"main"},aa={class:"left"},ta={class:"lefttop"},sa={class:"right"},oa={class:"righttop"},la={class:"rightbutton"},na=Ye(()=>i("span",null,"Satisfies all constraints",-1)),ia={__name:"index",setup(r){const o=Re();let u=T("Balanced1"),s=G({preset:"Balanced",fileName:o.file.name,step:3}),a=G({baseDuration:"-",changedDuration:"-",changgedTasks:"-",TotalTasks:"-",baseCriticalPath:"-",changedCriticalPath:"-",TotalResources:"-",group:"",planDurationDays:"-"}),c=T(0);Ce((t,d,C)=>{C()}),De(()=>{n(),b()});function h(t,d){return Math.round(t/d*1e4)/100+"%"}const f=ke();F(u,()=>{l.setOption(m.value)}),F(o.dataArray,()=>{l.setOption(m.value)}),F(o.end,async()=>{o.end.data?(R.value=ue(),c.value=0,setTimeout(()=>{l.dispatchAction({type:"select",name:R.value[1][0].name}),g(R.value[1][0].value[2].result),s.preset="Balanced",s.step=R.value[1][0].value[2].result.step},0)):(u=T(""),u.value="Balanced1",c.value=0,a.baseDuration="-",a.changedDuration="-",a.changgedTasks="-",a.TotalTasks="-",a.baseCriticalPath="-",a.changedCriticalPath="-",a.TotalResources="-",a.group="",a.maxResourceUnit="-",a.BasemaxResourceUnit="-",a.planDurationDays="-")},{deep:!0});let l=null;function p(t,d,C){let v,D;return t=="baseline"?(v=16,D=1):(v=8,D=.5),{type:"scatter",selectedMode:"single",selectedOffset:10,symbol:x=>{let _="path://M18.018,15.344c-0.285,0-0.555-0.162-0.684-0.441l-6.595-12.076l-6.594,12.076c-0.128,0.279-0.398,0.441-0.684,0.441c-0.491,0-0.706-0.638-0.249-0.929l6.997-12.808l-6.997-12.809c-0.457-0.291-0.242-0.929,0.249-0.929c0.286,0,0.556,0.162,0.684,0.441l6.595,12.076l6.594-12.076c0.127-0.279,0.398-0.441,0.684-0.441c0.49,0,0.705,0.638,0.249,0.929l-6.998,12.808l6.998,12.809c0.456,0.291,0.241,0.929-0.249,0.929H18.018z";return x[2].result.constraintLoss>0?_:"circle"},select:{scale:2,itemStyle:{color:"#40aa97",borderColor:"#40aa97",shadowColor:"#40aa97",borderWidth:10,shadowBlur:30,opacity:1}},emphasis:{scale:2,focus:"series",blurScope:"coordinateSystem"},data:o.dataArray[t].data,name:t,symbolSize:v,itemStyle:{color:x=>d,borderWidth:1,borderColor:"#0b0f07",opacity:D}}}var m=B(()=>{const t=Object.values(o.dataArray).flatMap(_=>_.data.map(P=>P.value[0])),d=parseFloat((Math.min(...t)*.95).toFixed(2)),C=parseFloat((Math.max(...t)*1.05).toFixed(2)),v=Object.values(o.dataArray).flatMap(_=>_.data.map(P=>P.value[1])),D=parseFloat((Math.min(...v)*.95).toFixed(2)),x=parseFloat((Math.max(...v)*1.05).toFixed(2));return{toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},grid:{top:100,height:"65%"},xAxis:{name:"Duration (days)",nameLocation:"middle",padding:[10],height:100,min:d,max:C,nameTextStyle:{align:"center",padding:[30,0,0,0],fontWeight:"lighter",fontSize:20,color:"black"}},yAxis:{name:"Maximum Resource (units/day)",max:x,min:D,padding:[10],nameLocation:"end",nameTextStyle:{align:"center",padding:[0,0,0,100],fontWeight:"lighter",fontSize:16,color:"black"}},legend:{itemGap:40,data:[{name:"baseline",itemStyle:{color:"rgb(204, 204, 204)"}},{name:"Balanced",itemStyle:{color:"rgba(130, 181, 199, 0.9)"}},{name:"Fastest",itemStyle:{color:"rgba(247, 220, 91, 0.9)"}},{name:"Minimum_Resources",itemStyle:{color:"rgba(219, 121, 48, 0.9)"}},{name:"Levelled_Resources",itemStyle:{color:"rgba(170, 187, 93, 0.9)"}}],x:"left",itemWidth:15,itemHeight:15},series:[p("baseline","rgb(204, 204, 204)"),p("Balanced","rgba(130, 181, 199, 0.9)"),p("Fastest","rgba(247, 220, 91, 0.9)"),p("Minimum_Resources","rgba(219, 121, 48, 0.9)"),p("Levelled_Resources","rgba(170, 187, 93, 0.9)")]}});function n(){l==null&&(l=Me(document.getElementById("myEcharts"),"purple-passion")),l.on("click",function(t){l.dispatchAction({type:"select",name:t.name});let d=t.data.value[2].result;switch(s.preset=t.seriesName,s.step=d.step,t.seriesName=="baseline"?s.preset="Balanced":s.preset=t.seriesName,s.preset){case"Balanced":c.value=0;break;case"Fastest":c.value=1;break;case"Minimum_Resources":c.value=2;break;case"Levelled_Resources":c.value=3;break}g(d)})}function b(){l.setOption(m.value)}function g(t){a.group=t.group,a.baseDuration=Math.ceil(t.baselineDurationDaysWithCalendar),a.changedDuration=Math.ceil(t.projectDurationDaysWithCalendar),a.planDurationDays=Math.ceil(o.originalplan.originalDurationDays),a.changgedTasks=Math.ceil(t.changedTasksLen),a.TotalTasks=Math.ceil(t.baselineTasksLen),a.baseCriticalPath=Math.ceil(t.baselineCriticalTasksLen),a.changedCriticalPath=Math.ceil(t.newCriticalTasksLen),a.TotalResources=Math.ceil(t.totalResourceCount),a.maxResourceUnit=Math.ceil(t.maxResourceUnitAgg),a.BasemaxResourceUnit=Math.ceil(o.originalplan.maxResourceUnitAgg)}async function E(){s.fileName=o.file.name,s.considerDefaultResourceType=o.setting.considerDefaultResourceType,s.resourceConstraint=o.setting.resourceConstraint;let t=await Ee.getOptimized({...s},o.file.size);o.SummaryData={...a},o.selectedData=null,o.selectedData=t.data,o.active=2,o.selectChange=!0,f.push({name:"optimizedSummary"})}let R=T(null);function ue(){let t=[];for(const d in o.dataArray){let C=Be(o.dataArray[d].data);C.sort((v,D)=>v.value[2].result.loss-D.value[2].result.loss),t.push(C)}return t}function V(t){l.dispatchAction({type:"select",name:R.value[t][0].name}),u=R.value[t][0].name,s.preset=R.value[t][0].value[2].name,s.step=R.value[t][0].value[2].result.step,g(R.value[t][0].value[2].result)}return(t,d)=>{const C=Xe,v=He,D=qe,x=$e("v-btn");return I(),z("div",null,[i("h2",null,[k(y(t.$t("baselineSummary.title[0]"))+" ",1),i("div",Ze,[i("span",null,y(e(o).setting.Steps)+" "+y(t.$t("baselineSummary.title[1]")),1)]),i("div",Qe,[i("span",null,y(`${e(o).setting.Ratio[0]*100}% - ${e(o).setting.Ratio[1]*100}% ${t.$t("baselineSummary.title[2]")}`),1)])]),i("div",ea,[i("div",aa,[i("div",ta,[i("div",null,y(t.$t("baselineSummary.chartName[0]")),1)]),S(C,{style:{width:"720px",height:"500px"},id:"myEcharts"})]),i("div",sa,[i("div",oa,[i("div",null,[S(A,{title:t.$t("baselineSummary.Tsidebar[0]"),height:150,precent:h(e(a).changedDuration-e(a).baseDuration,e(a).baseDuration),isPositive:!0,body:[e(a).changedDuration+" days",e(a).baseDuration+" days",e(a).planDurationDays+" days"]},null,8,["title","precent","body"]),S(A,{title:t.$t("baselineSummary.Tsidebar[1]"),height:150,precent:h(e(a).maxResourceUnit-e(a).BasemaxResourceUnit,e(a).BasemaxResourceUnit),body:[e(a).maxResourceUnit,e(a).BasemaxResourceUnit]},null,8,["title","precent","body"])]),i("div",null,[S(A,{title:t.$t("baselineSummary.Tsidebar[2]"),height:150,body:[e(a).changgedTasks,e(a).TotalTasks]},null,8,["title","body"]),S(A,{title:t.$t("baselineSummary.Tsidebar[3]"),height:150,body:[e(a).changedCriticalPath,e(a).changedCriticalPath,e(a).baseCriticalPath]},null,8,["title","body"])])]),i("div",la,[i("h1",null,y(t.$t("baselineSummary.Bsidebar[0]")),1),S(D,{modelValue:e(c),"onUpdate:modelValue":d[5]||(d[5]=_=>O(c)?c.value=_:c=_),class:"radiobox"},{default:w(()=>[S(v,{onClick:d[0]||(d[0]=()=>{V(1)}),label:0},{default:w(()=>[k(y(t.$t("types.typeShow[1]"))+" ",1),i("span",null,y(t.$t("types.msg[0]")),1)]),_:1}),S(v,{onClick:d[1]||(d[1]=_=>V(2)),label:1},{default:w(()=>[k(y(t.$t("types.typeShow[2]"))+" ",1),i("span",null,y(t.$t("types.msg[1]")),1)]),_:1}),S(v,{label:2,onClick:d[2]||(d[2]=_=>V(3))},{default:w(()=>[k(y(t.$t("types.typeShow[3]"))+" ",1),i("span",null,y(t.$t("types.msg[2]")),1)]),_:1}),S(v,{label:3,onClick:d[3]||(d[3]=_=>V(4))},{default:w(()=>[k(y(t.$t("types.typeShow[4]"))+" ",1),i("span",null,y(t.$t("types.msg[3]")),1)]),_:1}),S(v,{label:3,onClick:d[4]||(d[4]=_=>V(4))},{default:w(()=>[k(" Constraint Compliance "),na]),_:1})]),_:1},8,["modelValue"])]),S(x,{style:{outline:"none"},disabled:!e(o).end.data,onClick:E,class:"btn",color:"rgb(64, 170, 151)"},{default:w(()=>[k(y(t.$t("next")),1)]),_:1},8,["disabled"])])])])}}},pa=Se(ia,[["__scopeId","data-v-0a01c73d"]]);export{pa as default};
