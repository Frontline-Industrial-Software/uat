import{j as F,at as q,au as G,v as H,av as K,aw as U,ax as ce,T,a3 as pe,m as D,ay as me,R as he,l as V,u as P,x as B,y as E,B as o,ao as J,az as X,A as e,aA as O,z as $,D as j,ak as y,E as n,X as Y,_ as W,aB as Z,C as Q,aC as be,aD as ve,aE as fe,am as ee,ac as ge,aF as N,aG as ye,a8 as A,a9 as _e,K as Se,aH as ae,ag as te,aI as ke,ah as we,aJ as Ce,aK as $e,as as De,an as Re,Y as R,H as x,aL as Te,aq as Be,ar as Ee}from"./index-4b0212e1.js";import{e as Me,i as xe,r as Ve}from"./index-bea3d654.js";import{e as ze}from"./ecStat-3dfd9c11.js";import{a as Ie}from"./index-6626463c.js";const se=F({size:q,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Ae=F({...se,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),oe={[G]:d=>H(d)||K(d)||U(d),[ce]:d=>H(d)||K(d)||U(d)},le=Symbol("radioGroupKey"),ne=(d,l)=>{const u=T(),s=pe(le,void 0),t=D(()=>!!s),p=D({get(){return t.value?s.modelValue:d.modelValue},set(b){t.value?s.changeEvent(b):l&&l(G,b),u.value.checked=d.modelValue===d.label}}),h=me(D(()=>s==null?void 0:s.size)),f=he(D(()=>s==null?void 0:s.disabled)),i=T(!1),m=D(()=>f.value||t.value&&p.value!==d.label?-1:0);return{radioRef:u,isGroup:t,radioGroup:s,focus:i,size:h,disabled:f,tabIndex:m,modelValue:p}},Fe=["value","name","disabled"],Le=V({name:"ElRadio"}),Ne=V({...Le,props:Ae,emits:oe,setup(d,{emit:l}){const u=d,s=P("radio"),{radioRef:t,radioGroup:p,focus:h,size:f,disabled:i,modelValue:m}=ne(u,l);function b(){Z(()=>l("change",m.value))}return(r,v)=>{var _;return B(),E("label",{class:$([e(s).b(),e(s).is("disabled",e(i)),e(s).is("focus",e(h)),e(s).is("bordered",r.border),e(s).is("checked",e(m)===r.label),e(s).m(e(f))])},[o("span",{class:$([e(s).e("input"),e(s).is("disabled",e(i)),e(s).is("checked",e(m)===r.label)])},[J(o("input",{ref_key:"radioRef",ref:t,"onUpdate:modelValue":v[0]||(v[0]=z=>O(m)?m.value=z:null),class:$(e(s).e("original")),value:r.label,name:r.name||((_=e(p))==null?void 0:_.name),disabled:e(i),type:"radio",onFocus:v[1]||(v[1]=z=>h.value=!0),onBlur:v[2]||(v[2]=z=>h.value=!1),onChange:b},null,42,Fe),[[X,e(m)]]),o("span",{class:$(e(s).e("inner"))},null,2)],2),o("span",{class:$(e(s).e("label")),onKeydown:v[3]||(v[3]=Y(()=>{},["stop"]))},[j(r.$slots,"default",{},()=>[y(n(r.label),1)])],34)],2)}}});var Ge=W(Ne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const Pe=F({...se,name:{type:String,default:""}}),Oe=["value","name","disabled"],je=V({name:"ElRadioButton"}),We=V({...je,props:Pe,setup(d){const l=d,u=P("radio"),{radioRef:s,focus:t,size:p,disabled:h,modelValue:f,radioGroup:i}=ne(l),m=D(()=>({backgroundColor:(i==null?void 0:i.fill)||"",borderColor:(i==null?void 0:i.fill)||"",boxShadow:i!=null&&i.fill?`-1px 0 0 0 ${i.fill}`:"",color:(i==null?void 0:i.textColor)||""}));return(b,r)=>{var v;return B(),E("label",{class:$([e(u).b("button"),e(u).is("active",e(f)===b.label),e(u).is("disabled",e(h)),e(u).is("focus",e(t)),e(u).bm("button",e(p))])},[J(o("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":r[0]||(r[0]=_=>O(f)?f.value=_:null),class:$(e(u).be("button","original-radio")),value:b.label,type:"radio",name:b.name||((v=e(i))==null?void 0:v.name),disabled:e(h),onFocus:r[1]||(r[1]=_=>t.value=!0),onBlur:r[2]||(r[2]=_=>t.value=!1)},null,42,Oe),[[X,e(f)]]),o("span",{class:$(e(u).be("button","inner")),style:Q(e(f)===b.label?e(m):{}),onKeydown:r[3]||(r[3]=Y(()=>{},["stop"]))},[j(b.$slots,"default",{},()=>[y(n(b.label),1)])],38)],2)}}});var ie=W(We,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const He=F({id:{type:String,default:void 0},size:q,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Ke=oe,Ue=["id","aria-label","aria-labelledby"],qe=V({name:"ElRadioGroup"}),Je=V({...qe,props:He,emits:Ke,setup(d,{emit:l}){const u=d,s=P("radio"),t=be(),p=T(),{formItem:h}=ve(),{inputId:f,isLabeledByFormItem:i}=fe(u,{formItemContext:h}),m=r=>{l(G,r),Z(()=>l("change",r))};ee(()=>{const r=p.value.querySelectorAll("[type=radio]"),v=r[0];!Array.from(r).some(_=>_.checked)&&v&&(v.tabIndex=0)});const b=D(()=>u.name||t.value);return ge(le,N({...ye(u),changeEvent:m,name:b})),A(()=>u.modelValue,()=>{u.validateEvent&&(h==null||h.validate("change").catch(r=>_e(r)))}),(r,v)=>(B(),E("div",{id:e(f),ref_key:"radioGroupRef",ref:p,class:$(e(s).b("group")),role:"radiogroup","aria-label":e(i)?void 0:r.label||"radio-group","aria-labelledby":e(i)?e(h).labelId:void 0},[j(r.$slots,"default")],10,Ue))}});var re=W(Je,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const Xe=Se(Ge,{RadioButton:ie,RadioGroup:re}),Ye=ae(re);ae(ie);const Ze={class:"echarts-box"},Qe={__name:"index",props:{width:{type:String},height:{type:String},options:{type:Object}},setup(d){const l=d;let u=Me;ee(()=>{s()});function s(){let t=u.init(document.getElementById("myEcharts"),"purple-passion");t.setOption({...l.options,dataZoom:[{type:"inside",throttle:50}],tooltip:{trigger:"axis"}}),window.onresize=function(){t.resize()}}return(t,p)=>(B(),E("div",Ze,[o("div",{id:"myEcharts",style:Q({width:l.firstwidth,height:l.height})},null,4)]))}},ea=te(Qe,[["__file","/home/runner/work/uat/uat/src/components/echarts/index.vue"]]);var aa=ze;const ta=ke(aa);const de=d=>(Be("data-v-94787f86"),d=d(),Ee(),d),sa={class:"step"},oa={class:"step"},la={class:"main"},na={class:"left"},ia={class:"lefttop"},ra={class:"right"},da={class:"righttop"},ua={class:"arrow"},ca={key:0,t:"1693809587609",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1982",width:"200",height:"200"},pa=de(()=>o("path",{d:"M529.143158 7.436293l347.212925 397.874796a21.748783 21.748783 0 0 1-16.375554 36.077393h-170.66398a21.492915 21.492915 0 0 0-21.492915 18.678367c-12.793402 92.624229-90.065549 502.268955-455.95684 562.909679a21.748783 21.748783 0 0 1-17.654895-38.380206c62.687669-49.126663 144.56544-144.309572 167.593564-313.694212a1571.285609 1571.285609 0 0 0 12.793402-207.508977 22.260519 22.260519 0 0 0-21.748783-22.260519H165.298811a21.748783 21.748783 0 0 1-16.375554-36.077393L496.39205 7.436293a21.748783 21.748783 0 0 1 32.751108 0z","p-id":"1983",fill:"red"},null,-1)),ma=[pa],ha={key:1,t:"1693810752990",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1307",width:"200",height:"200"},ba=de(()=>o("path",{d:"M507.649902 1015.81158L160.153845 618.161453a21.75049 21.75049 0 0 1 16.376839-36.080224h187.565987a22.262266 22.262266 0 0 0 21.750489-22.262266 1630.774944 1630.774944 0 0 0-12.538517-207.525259C350.022825 182.895773 268.138628 87.705395 204.934264 38.574877A21.75049 21.75049 0 0 1 223.102321 0.447548C588.766434 60.837143 665.532868 470.514012 679.350826 563.401397a21.238713 21.238713 0 0 0 21.494601 18.679832h170.677372a21.75049 21.75049 0 0 1 16.120951 36.080224L540.403581 1015.81158a21.75049 21.75049 0 0 1-32.753679 0z","p-id":"1308",fill:"#40aa97"},null,-1)),va=[ba],fa={class:"rightbutton"},ga={__name:"index",setup(d){const l=we();let u=T("Balanced1"),s=N({preset:"Balanced",fileName:l.file.name,step:3}),t=N({baseDuration:"-",changedDuration:"-",changgedTasks:"-",TotalTasks:"-",baseCriticalPath:"-",changedCriticalPath:"-",TotalResources:"-",group:""}),p=T(0);Ce((a,c,w)=>{w()}),$e(()=>{r(),v()});function h(a,c){return Math.round(a/c*1e4)/100+"%"}const f=De();A(u,()=>{i.setOption(b.value)}),A(l.dataArray,()=>{i.setOption(b.value)}),A(l.end,async()=>{l.end.data?(k.value=ue(),p.value=0,setTimeout(()=>{i.dispatchAction({type:"select",name:k.value[1][0].name}),_(k.value[1][0].value[2].result),s.preset="Balanced",s.step=k.value[1][0].value[2].result.step},0)):(u=T(""),u.value="Balanced1",p.value=0,t.baseDuration="-",t.changedDuration="-",t.changgedTasks="-",t.TotalTasks="-",t.baseCriticalPath="-",t.changedCriticalPath="-",t.TotalResources="-",t.group="")},{deep:!0});let i=null;function m(a,c,w){let g,C;return a=="baseline"?(g=16,C=1):(g=8,C=.5),{type:"scatter",selectedMode:"single",selectedOffset:10,symbol:M=>{let S="path://M18.018,15.344c-0.285,0-0.555-0.162-0.684-0.441l-6.595-12.076l-6.594,12.076c-0.128,0.279-0.398,0.441-0.684,0.441c-0.491,0-0.706-0.638-0.249-0.929l6.997-12.808l-6.997-12.809c-0.457-0.291-0.242-0.929,0.249-0.929c0.286,0,0.556,0.162,0.684,0.441l6.595,12.076l6.594-12.076c0.127-0.279,0.398-0.441,0.684-0.441c0.49,0,0.705,0.638,0.249,0.929l-6.998,12.808l6.998,12.809c0.456,0.291,0.241,0.929-0.249,0.929H18.018z";return M[2].result.constraintLoss>0?S:"circle"},select:{scale:2,itemStyle:{color:"#40aa97",borderColor:"#40aa97",shadowColor:"#40aa97",borderWidth:10,shadowBlur:30,opacity:1}},emphasis:{scale:2,focus:"series",blurScope:"coordinateSystem"},data:l.dataArray[a].data,name:a,symbolSize:g,itemStyle:{color:M=>c,borderWidth:1,borderColor:"#0b0f07",opacity:C}}}var b=D(()=>{const a=Object.values(l.dataArray).flatMap(S=>S.data.map(L=>L.value[0])),c=parseFloat((Math.min(...a)*.95).toFixed(2)),w=parseFloat((Math.max(...a)*1.05).toFixed(2)),g=Object.values(l.dataArray).flatMap(S=>S.data.map(L=>L.value[1])),C=parseFloat((Math.min(...g)*.95).toFixed(2)),M=parseFloat((Math.max(...g)*1.05).toFixed(2));return{toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},grid:{top:100,height:"65%"},xAxis:{name:"Duration (days)",nameLocation:"middle",padding:[10],height:100,min:c,max:w,nameTextStyle:{align:"center",padding:[30,0,0,0],fontWeight:"lighter",fontSize:20,color:"black"}},yAxis:{name:"Maximum Resource (units/day)",max:M,min:C,padding:[10],nameLocation:"end",nameTextStyle:{align:"center",padding:[0,0,0,100],fontWeight:"lighter",fontSize:16,color:"black"}},legend:{itemGap:40,data:[{name:"baseline",itemStyle:{color:"rgb(204, 204, 204)"}},{name:"Balanced",itemStyle:{color:"rgba(130, 181, 199, 0.9)"}},{name:"Fastest",itemStyle:{color:"rgba(247, 220, 91, 0.9)"}},{name:"Minimum_Resources",itemStyle:{color:"rgba(219, 121, 48, 0.9)"}},{name:"Levelled_Resources",itemStyle:{color:"rgba(170, 187, 93, 0.9)"}}],x:"left",itemWidth:15,itemHeight:15},series:[m("baseline","rgb(204, 204, 204)"),m("Balanced","rgba(130, 181, 199, 0.9)"),m("Fastest","rgba(247, 220, 91, 0.9)"),m("Minimum_Resources","rgba(219, 121, 48, 0.9)"),m("Levelled_Resources","rgba(170, 187, 93, 0.9)")]}});function r(){i==null&&(i=xe(document.getElementById("myEcharts"),"purple-passion")),Ve(ta.transform.clustering),i.on("click",function(a){i.dispatchAction({type:"select",name:a.name});let c=a.data.value[2].result;switch(s.preset=a.seriesName,s.step=c.step,a.seriesName=="baseline"?s.preset="Balanced":s.preset=a.seriesName,s.preset){case"Balanced":p.value=0;break;case"Fastest":p.value=1;break;case"Minimum_Resources":p.value=2;break;case"Levelled_Resources":p.value=3;break}_(c)})}function v(){i.setOption(b.value)}function _(a){t.group=a.group,t.baseDuration=Math.ceil(a.baselineDurationDaysWithCalendar),t.changedDuration=Math.ceil(a.projectDurationDays),t.changgedTasks=Math.ceil(a.changedTasksLen),t.TotalTasks=Math.ceil(a.baselineTasksLen),t.baseCriticalPath=Math.ceil(a.baselineCriticalTasksLen),t.changedCriticalPath=Math.ceil(a.newCriticalTasksLen),t.TotalResources=Math.ceil(a.totalResourceCount)}async function z(){s.fileName=l.file.name;let a=await Ie.getOptimized({...s},l.file.size);l.SummaryData={...t},l.selectedData=null,l.selectedData=a.data,l.active=2,l.selectChange=!0,f.push({name:"optimizedSummary"})}let k=T(null);function ue(){let a=[];for(const c in l.dataArray){let w=Te(l.dataArray[c].data);w.sort((g,C)=>g.value[2].result.loss-C.value[2].result.loss),a.push(w)}return a}function I(a){i.dispatchAction({type:"select",name:k.value[a][0].name}),u=k.value[a][0].name,s.preset=k.value[a][0].value[2].name,s.step=k.value[a][0].value[2].result.step,_(k.value[a][0].value[2].result)}return(a,c)=>{const w=ea,g=Xe,C=Ye,M=Re("v-btn");return B(),E("div",null,[o("h2",null,[y(n(a.$t("baselineSummary.title[0]"))+" ",1),o("div",sa,[o("span",null,n(e(l).setting.Steps)+" "+n(a.$t("baselineSummary.title[1]")),1)]),o("div",oa,[o("span",null,n(`${e(l).setting.Ratio[0]*100}% - ${e(l).setting.Ratio[1]*100}% ${a.$t("baselineSummary.title[2]")}`),1)])]),o("div",la,[o("div",na,[o("div",ia,[o("div",null,n(a.$t("baselineSummary.chartName[0]")),1)]),R(w,{style:{width:"720px",height:"500px"},id:"myEcharts"})]),o("div",ra,[o("div",da,[o("div",null,[y(n(a.$t("baselineSummary.Tsidebar[0]"))+" "+n(h(e(t).changedDuration-e(t).baseDuration,e(t).baseDuration).replace(/-/g,""))+" ",1),o("span",ua,[h(e(t).changedDuration-e(t).baseDuration,e(t).baseDuration).indexOf("-")?(B(),E("svg",ca,ma)):(B(),E("svg",ha,va))])]),o("h1",null,[y(n(e(t).changedDuration)+"/ ",1),o("span",null,n(e(t).baseDuration),1),y(" days ")]),o("div",null,n(a.$t("baselineSummary.Tsidebar[1]")),1),o("h1",null,[y(n(e(t).changgedTasks)+"/ ",1),o("span",null,n(e(t).TotalTasks),1)]),o("div",null,n(a.$t("baselineSummary.Tsidebar[2]"))+" "+n(h(e(t).baseCriticalPath,e(t).TotalTasks)),1),o("h1",null,[y(n(e(t).baseCriticalPath)+"/ ",1),o("span",null,n(e(t).TotalTasks),1)]),o("div",null,n(a.$t("baselineSummary.Tsidebar[3]")),1),o("h1",null,n(e(t).TotalResources),1)]),o("div",fa,[o("h1",null,n(a.$t("baselineSummary.Bsidebar[0]")),1),o("div",null,n(a.$t("baselineSummary.Bsidebar[1]")),1),R(C,{modelValue:e(p),"onUpdate:modelValue":c[4]||(c[4]=S=>O(p)?p.value=S:p=S),class:"radiobox"},{default:x(()=>[R(g,{onClick:c[0]||(c[0]=()=>{I(1)}),label:0},{default:x(()=>[y(n(a.$t("types.typeShow[1]"))+" ",1),o("span",null,n(a.$t("types.msg[0]")),1)]),_:1}),R(g,{onClick:c[1]||(c[1]=S=>I(2)),label:1},{default:x(()=>[y(n(a.$t("types.typeShow[2]"))+" ",1),o("span",null,n(a.$t("types.msg[1]")),1)]),_:1}),R(g,{label:2,onClick:c[2]||(c[2]=S=>I(3))},{default:x(()=>[y(n(a.$t("types.typeShow[3]"))+" ",1),o("span",null,n(a.$t("types.msg[2]")),1)]),_:1}),R(g,{label:3,onClick:c[3]||(c[3]=S=>I(4))},{default:x(()=>[y(n(a.$t("types.typeShow[4]"))+" ",1),o("span",null,n(a.$t("types.msg[3]")),1)]),_:1})]),_:1},8,["modelValue"])]),R(M,{disabled:!e(l).end.data,onClick:z,class:"btn",icon:"el-icon-delete"},{default:x(()=>[y(n(a.$t("next")),1)]),_:1},8,["disabled"])])])])}}},wa=te(ga,[["__scopeId","data-v-94787f86"],["__file","/home/runner/work/uat/uat/src/components/dashborad/baselineSummary/index.vue"]]);export{wa as default};
