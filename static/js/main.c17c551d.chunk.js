/*! For license information please see main.c17c551d.chunk.js.LICENSE.txt */
(this["webpackJsonpfrontline-industrial-software-app"]=this["webpackJsonpfrontline-industrial-software-app"]||[]).push([[0],{301:function(e,t,n){e.exports=n(335)},334:function(e,t,n){},335:function(e,t,n){"use strict";n.r(t);var r,a=n(0),i=n.n(a),o=n(33),l=n.n(o),c=n(64),s=n(14),u=n(87),d=n(21),p={colors:{white:"#FFFFFF",red:"#D53E4F",denim:["#CFE3EA","#9FC7D5","#5CA0B8","#62A5BD","#408FAA","#306B80","#28596A","#204855","#183640"],turquoise:["#CFEAE5","#A0D5CB","#70BFB1","#52B9A7","#40a795","#448E81","#2A7B6C","#155F50","#153932"],tan:["#F8F2EE","#F9F1EA","#FAECE1","#F1DDCD","#E4CCBA","#C79570","#B87A4A","#95613A","#4A311D"],grey:["#F0F1F3","#ECECEC","#DADADA","#C7C7C7","#B5B5B5","#888888","#717171","#5B5B5B","#35383E"],lilac:["#C1BBDE","#ADA5D3","#988EC8","#8477BD","#5E4FA2","#473B79","#3B3165","#2F2851","#1d1933"],pink:["#FEEBF4","#FED6E8","#FEC2DD","#FB5DA5","#F90976","#D20562","#A8044F","#7E033B","#4f0225"],mint:["#DFF2DD","#D5EED2","#CAEAC6","#C0E5BB","#ABDDA4","#6AC35E","#4FAF41","#234F1D","#20461A","#183513"],orange:["#FCDBD0","#FBC8B9","#F8A48A","#F79272","#F46D43","#DC3E0D","#B8340B","#932909","#6E1F06","#451304"],blue:["#D2ECFA","#C3E6F9","#A5D9F5","#96D2F4","#87CCF2","#32A8E9","#1791D5","#1274AA","#0c486b","#072c40"],yellow:["#FFF7E2","#FFF0C5","#FEECB7","#FEE8A8","#FEE08B","#FDC62A","#F4B502","#B78702","#614801","#493601"]},textColors:{helper:"#B5B5B5",body:"#545454"},backgroundColors:{light:"#F0F1F3",dark:"#35383E"},validationColors:{error:"#C73D56",success:"#5DB434"},fonts:["Inter, sans-serif","Lato, sans-serif"],fontSizes:{xxs:"11px",xs:"12px",small:"14px",medium:"16px",large:"18px",xl:"24px",xxl:"32px"}},h=n(4),f=n(425),m=n(408),v=n(16),g=n(415),b=Object(d.b)(g.a)(r||(r=Object(v.a)(["\n  margin: 30px auto;\n  width: 1200px;\n  .Mui-active circle {\n    color: #00beae;\n  }\n  .Mui-completed circle,.Mui-completed {\n    color: #002F2B !important;\n  }\n"])));function y(e){var t=e.steps,n=e.navAt,r=e.navigate,a=e.disabled;return i.a.createElement(b,{activeStep:n,alternativeLabel:!0},t.map((function(e,t){return i.a.createElement(f.a,{key:e,onClick:function(){a||r(t)}},i.a.createElement(m.a,null,e))})))}var x,w=n(201),_=n(414),E=n(424),j=n(395),k=n(394),O=n(397),D=d.b.div(x||(x=Object(v.a)(["\n  width: 100%;\n  box-sizing: border-box;\n  min-height: 55px;\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\n  .header { \n    margin: 0 auto 20px;\n    padding: 20px 0;\n    max-width: 1200px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .logo {\n      display: flex;\n      align-items: center;\n      img {\n        max-width: 200px;\n        margin-right: 20px;\n      }\n    }\n    .menu {\n      &:focus {\n         outline: none !important;\n      }\n    }\n  }\n"]))),F=n(78),N=n.n(F),C=n(186),S=n.n(C),T=n(192),L=n.n(T),P=n(193),R=n.n(P);function I(){var e=Object(u.c)(),t=Object(s.o)();var n=i.a.useState(null),r=Object(h.a)(n,2),a=r[0],o=r[1],l=Boolean(a);return i.a.createElement(D,null,i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"logo"},i.a.createElement("a",{href:"/"},i.a.createElement("img",{src:N.a,alt:"Frontline Logo"})),i.a.createElement("span",null,"v2.2.1")),i.a.createElement("div",{className:"account"},i.a.createElement(S.a,{id:"basic-button","aria-controls":l?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,onClick:function(e){o(e.currentTarget)},fontSize:"medium"}),i.a.createElement(w.a,{id:"basic-menu",anchorEl:a,open:l,onClose:function(){o(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},MenuListProps:{"aria-labelledby":"basic-button"}},i.a.createElement(_.a,{className:"menu"},i.a.createElement(E.a,{onClick:function(){window.open("https://app.frontline-optimizer.com/v1.0.0/","_blank","noopener,noreferrer")}},i.a.createElement(k.a,null,i.a.createElement(L.a,{fontSize:"small"})),i.a.createElement(j.a,null,"Back to v1.0.0")),i.a.createElement(O.a,null),i.a.createElement(E.a,{onClick:function(){e(),t("/login")}},i.a.createElement(k.a,null,i.a.createElement(R.a,null)),i.a.createElement(j.a,null,"Log Out")))))))}var M=n(15),A=n(11),z=n(25),B=n(26);function U(e){return e instanceof H?e:new H(e)}var H=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(z.a)(this,e),this.gradient=0,this._backward=function(){},this.data=t,this._previous=new Set(n)}return Object(B.a)(e,[{key:"add",value:function(t){var n=this;t=U(t);var r=new e(this.data+t.data,[this,t]);return r._backward=function(){n.gradient+=r.gradient,t.gradient+=r.gradient},r}},{key:"mul",value:function(t){var n=this;t=U(t);var r=new e(this.data*t.data,[this,t]);return r._backward=function(){n.gradient+=t.data*r.gradient,t.gradient+=n.data*r.gradient},r}},{key:"pow",value:function(t){var n=this,r=new e(Math.pow(this.data,t),[this]);return r._backward=function(){n.gradient+=t*Math.pow(n.data,t-1)*r.gradient},r}},{key:"round",value:function(){var t=this,n=new e(Math.round(this.data),[this]);return n._backward=function(){t.gradient+=n.gradient},n}},{key:"backward",value:function(){var t=[],n=new Set;!function r(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new e(0);n.has(a)||(n.add(a),a._previous.forEach(r),t.push(a))}(this),this.gradient=1,t.reverse().forEach((function(e){e._backward()}))}},{key:"sub",value:function(e){return e=U(e),this.add(e.mul(-1))}},{key:"div",value:function(e){return e=U(e),this.mul(e.pow(-1))}}]),e}(),W=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.9,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.999,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-8;Object(z.a)(this,e),Object.assign(this,{parameters:t,lr:r,beta1:a,beta2:i,epsilon:o}),this.m={},this.v={},Object.entries(t).forEach((function(e){var t=Object(h.a)(e,2),r=t[0];t[1];n.m[r]=0,n.v[r]=0})),this.t=0}return Object(B.a)(e,[{key:"step",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return t},n=this.parameters,r=this.lr,a=this.beta1,i=this.beta2,o=this.epsilon,l=this.m,c=this.v;this.t+=1,Object.entries(n).forEach((function(s){var u=Object(h.a)(s,2),d=u[0],p=u[1];l[d]=a*l[d]+(1-a)*p.gradient,c[d]=i*c[d]+(1-i)*Math.pow(p.gradient,2);var f=l[d]/(1-Math.pow(a,e.t)),m=c[d]/(1-Math.pow(i,e.t)),v=p.data-r*f/(Math.sqrt(m)+o);n[d]=new H(t(d,v))}))}}]),e}();var q=function(){function e(){Object(z.a)(this,e),this.xy={},this.min=new H(0),this.max=new H(0),this.span=new H(0)}return Object(B.a)(e,[{key:"add",value:function(e,t){this.xy[e]||(this.xy[e]=new H(0)),this.xy[e]=this.xy[e].add(t)}},{key:"evaluate",value:function(){Object.assign(this,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new H(0)];if((e=Object.values(e)).length){var t=new H(1/0),n=new H(-1/0);e.forEach((function(e){e.data<t.data&&(t=e),e.data>n.data&&(n=e)}));var r=n.sub(t);return{min:t,max:n,span:r}}}(this.xy))}}]),e}();function G(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new H(0);return(null===e||void 0===e?void 0:e.data)<n&&(a=a.add(e.sub(n).div(-n))),(null===t||void 0===t?void 0:t.data)>r&&(a=a.add(t.sub(r).div(r))),a}function Y(e){if(e instanceof H)return e.data;if(Array.isArray(e))return e.map(Y);if("object"===typeof e&&e){var t={};return Object.entries(e).forEach((function(e){var n=Object(h.a)(e,2),r=n[0],a=n[1];t[r]=Y(a)})),t}return e}var V=Object(B.a)((function e(){Object(z.a)(this,e),this.tasks={},this.resources={},this.calendars={},this.settings={considerActualDates:!0,optimizationSteps:20,learningRate:.025,minDurationRatio:.5,maxDurationRatio:2},this.output={}})),X=Object(B.a)((function e(){Object(z.a)(this,e),this.predecessors={},this.resources={}})),J=Object(B.a)((function e(){Object(z.a)(this,e)})),K=Object(B.a)((function e(){Object(z.a)(this,e)})),Q=Object(B.a)((function e(){Object(z.a)(this,e)})),Z=Object(B.a)((function e(){Object(z.a)(this,e)})),$=n(43);function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n={};return e.forEach((function(e,r){return n[e]=t[r]})),n}function te(e){return Object.keys(e).length}function ne(e){return e?Array.isArray(e)?e:[e]:[]}var re=function(e){return Date.parse(e+"Z")},ae=function(e){if(e){var t=new Date(e).toISOString();return t.substring(0,10)+" "+t.substring(11,16)}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PT200H0M0S";return parseInt(e.split("PT")[1].split("H")[0])},oe=function(e){return"PT".concat(e,"H0M0S")};function le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=$.b.book_new();Object.entries(e).forEach((function(e){var t=Object(h.a)(e,2),a=t[0],i=t[1];i=Object.values(i);var o=$.b.json_to_sheet(i);o["!cols"]=Object.keys(i[0]).map((function(e){var t=Math.max.apply(Math,[e.length].concat(Object(A.a)(i.map((function(t){return t[e]?String(t[e]).length:0})))));return{wch:Math.min(n,t+1)}})),$.b.book_append_sheet(r,o,a)})),$.c(r,t)}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new File;return new Promise((function(t){var n=new FileReader;n.onload=function(e){var n=$.a(e.target.result,{type:"binary"}),r={};n.SheetNames.forEach((function(e){r[e]=$.b.sheet_to_json(n.Sheets[e])})),t(r)},n.readAsBinaryString(e)}))}function se(e,t,n){return(t||0===t)&&(e=Math.max(t,e)),(n||0===n)&&(e=Math.min(n,e)),e}function ue(){ue=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(F){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),l=new k(a||[]);return r(o,"_invoke",{value:w(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(F){return{type:"throw",arg:F}}}e.wrap=s;var d={};function p(){}function h(){}function f(){}var m={};c(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var b=f.prototype=p.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return D()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=_(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:D}}function D(){return{value:void 0,done:!0}}return h.prototype=f,r(b,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),c(b,l,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var de=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new V;Object(z.a)(this,e),this.project=new V,this.results={},this.project=t,this._ignoreTasks(),this._reorderTasks(),this.simulate(),this.planned=this.project.output,this.plannedproject=JSON.parse(JSON.stringify(this.project)),this.constraintTables=this._makeConstraints(),console.log(t.projectFileName)}return Object(B.a)(e,[{key:"_ignoreTasks",value:function(){var e=this.project.tasks;Object.values(e).forEach((function(e){e.ignore="Task"!==e.type})),Object.values(e).forEach((function(t){Object.values(t.predecessors).forEach((function(n){e[n.predecessorId].ignore&&delete t.predecessors[n.predecessorId]}))}))}},{key:"_reorderTasks",value:function(){var e=this,t=this.project,n=t.tasks,r=t.resources,a=t.calendars,i={};this.orderedTasks=[];for(;;){var o=te(i);if(Object.values(n).forEach((function(t){i[t.id]||(t.ignore&&(i[t.id]=!0),Object.values(t.predecessors).every((function(e){return i[e.predecessorId]}))&&(i[t.id]=!0,t.ignore||e.orderedTasks.push(t)))})),te(i)===o)break}if(te(i)!==te(n))throw new Error("predecessor error");console.log("topological reordering successful. ".concat(te(this.orderedTasks),"/").concat(te(n)," tasks considered. ").concat(te(r)," resources. ").concat(te(a)," calendars."))}},{key:"simulate",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.project,a=r.settings,i=r.calendars,o=new H(1/0),l=new H(0);this.orderedTasks.forEach((function(r){r.criticalPredecessorId=null,r.critical=null;var c=6048e5/i[r.calendarId].weekHourCount;if(a.considerActualDates&&r.actualStart)r.optimizable=!1,r.newStart=new H(r.actualStart),r.newFinish=new H(r.actualFinish||r.plannedFinish),r.newDuration=new H(r.plannedDuration);else{r.optimizable=!0,r.durationRatio=U(n[r.id]||1),r.newDuration=r.durationRatio.mul(r.plannedDuration).round();var s=r.newDuration.mul(c);te(r.predecessors)?r.newStart=t.__findStartFromPredecessors(r,s):r.newStart=new H(r.plannedStart),r.newFinish=r.newStart.add(s)}r.newStart.data<o.data&&(o=r.newStart),r.newFinish.data>l.data&&(l=r.newFinish,e=r.id)}));var c=l.sub(o).div(864e5),s=this.__findResourceDistribution(),u=this.__findCriticalPath(e),d=this.__findConstraintLoss();this.project.output={projectStart:o,projectFinish:l,projectDurationDays:c,laborDistribution:s,criticalPath:u,constraintLoss:d}}},{key:"__findStartFromPredecessors",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new X,n=arguments.length>1?arguments[1]:void 0,r=new H(0);return Object.values(t.predecessors).forEach((function(a){var i,o=e.project.tasks[a.predecessorId],l=36e5*a.lagHour;"FS"===a.type?i=o.newFinish.add(l):"SS"===a.type?i=o.newStart.add(l):"FF"===a.type?i=o.newFinish.add(l).sub(n):"SF"===a.type&&(i=o.newStart.add(l).sub(n)),i.data>r.data&&(r=i,t.criticalPredecessorId=o.id)})),r}},{key:"__findResourceDistribution",value:function(){var e=this.project,t=e.resources,n=e.calendars;Object.values(t).forEach((function(e){e.distribution=new q}));var r=new q;return this.orderedTasks.forEach((function(e){if(e.optimizable&&0!==e.newDuration.data){var a=Math.floor(e.newStart.data/864e5),i=Math.floor(e.newFinish.data/864e5),o=n[e.calendarId];Object.values(e.resources).forEach((function(n){if(0!==n.plannedUnits){var l=t[n.resourceId];if(l){n.newUnitsPerHour=new H(n.plannedUnits).div(e.newDuration),"Material"===l.type?n.newUnitsPerDay=n.newUnitsPerHour.mul(o.weekHourCount/7):n.newUnitsPerDay=n.newUnitsPerHour;for(var c=a;c<=i;c++){var s=864e5*c;l.distribution.add(s,n.newUnitsPerDay),"Labor"===l.type&&r.add(s,n.newUnitsPerDay)}}}}))}})),Object.values(t).forEach((function(e){e.distribution.evaluate()})),r.evaluate(),r}},{key:"__findCriticalPath",value:function(e){for(var t=[];e;){t.push(e);var n=this.project.tasks[e];n.critical=!0,e=n.criticalPredecessorId}return t}},{key:"__findConstraintLoss",value:function(){var e=new H(0);return this.orderedTasks.forEach((function(t){Object.values(t.resources).forEach((function(t){e=G(t.newUnitsPerDay,t.newUnitsPerDay,t.minUnitsPerDay,t.maxUnitsPerDay,e)}))})),Object.values(this.project.resources).forEach((function(t){var n=t.distribution;e=G(n.min,n.max,t.minUnitsPerDay,t.maxUnitsPerDay,e)})),e}},{key:"_makeConstraints",value:function(){var e=this.planned,t=this.project,n=t.tasks,r=t.resources,a=t.calendars,i=t.output,o=[],l=[],c=[],s=function(e){return{projectStart:ae(e.projectStart.data),projectFinish:ae(e.projectFinish.data),projectDurationDays:Math.round(e.projectDurationDays.data),laborDistributionDays:te(e.laborDistribution.xy),laborDistributionMin:e.laborDistribution.min.data,laborDistributionMax:e.laborDistribution.max.data,laborDistributionSpan:e.laborDistribution.span.data,criticalPath:e.criticalPath.map((function(e){return n[e].code})).join(", "),constraintLoss:e.constraintLoss.data}},u=[s(e)],d=[s(i)];return Object.values(n).forEach((function(e){var t,i,c,s,u,d=a[e.calendarId],p={taskInfo:"|||",id:e.id,type:e.type,ignore:e.ignore,code:e.code,name:e.name,calendarInfo:"|||",weekHourCount:d.weekHourCount,relationInfo:"|||",predecessors:Object.values(e.predecessors).map((function(e){return n[e.predecessorId].code})).join(", "),resources:Object.values(e.resources).map((function(e){var t;return null===(t=r[e.resourceId])||void 0===t?void 0:t.code})).join(", "),plannedInfo:"|||",plannedDuration:e.plannedDuration,plannedStart:ae(e.plannedStart),plannedFinish:ae(e.plannedFinish),actualInfo:"|||",actualStart:ae(e.actualStart),actualFinish:ae(e.actualFinish),frontlineInfo:"|||",durationRatio:null===(t=e.durationRatio)||void 0===t?void 0:t.data,newDuration:null===(i=e.newDuration)||void 0===i?void 0:i.data,newStart:ae(null===(c=e.newStart)||void 0===c?void 0:c.data),newFinish:ae(null===(s=e.newFinish)||void 0===s?void 0:s.data),criticalPathInfo:"|||",criticalPredecessor:null===(u=n[e.criticalPredecessorId])||void 0===u?void 0:u.code,critical:e.critical,constraintInfo:"|||",minDuration:null,maxDuration:null};o.push(p),Object.values(e.resources).forEach((function(t){var n,a,i,o=r[t.resourceId];if(o){var c=(null===(n=t.newUnitsPerHour)||void 0===n?void 0:n.data)||0,s=(null===(a=t.newUnitsPerDay)||void 0===a?void 0:a.data)||0,u={id:t.id,taskInfo:"|||",taskId:t.taskId,taskType:e.type,taskCode:e.code,resourceInfo:"|||",resourceId:t.resourceId,resourceType:o.type,resourceCode:o.code,calendarInfo:"|||",weekHourCount:d.weekHourCount,plannedInfo:"|||",plannedUnits:t.plannedUnits,plannedUnitsPerHour:t.plannedUnitsPerHour,frontlineInfo:"|||",newDuration:null===(i=e.newDuration)||void 0===i?void 0:i.data,newUnitsPerHour:c,newUnitsPerDay:s,constraintInfo:"|||",minUnitsPerDay:null,maxUnitsPerDay:null};l.push(u)}}))})),Object.values(r).forEach((function(e){var t=e.distribution,n={resourceInfo:"|||",id:e.id,type:e.type,code:e.code,name:e.name,distributionInfo:"|||",distributionDays:te(t.xy),distributionMin:t.min.data,distributionMax:t.max.data,distributionSpan:t.span.data,constraintInfo:"|||",minUnitsPerDay:null,maxUnitsPerDay:null};c.push(n)})),{tasks:o,resources:c,taskResources:l,plannedProperties:u,newProperties:d}}},{key:"downloadConstraints",value:function(){var e=this.project.projectFileName+"_FrontlineConstraints.xlsx";le(this.constraintTables,e)}},{key:"exportToExcel",value:function(){var e=this.project.projectFileName+"_FrontlineExport.xlsx";le(this._makeConstraints(),e)}},{key:"applyConstraints",value:function(){var e=Object(M.a)(ue().mark((function e(){var t,n,r,a,i,o=arguments;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:new File,n=this.project,r=n.tasks,a=n.resources,e.next=4,ce(t);case 4:(i=e.sent).tasks.forEach((function(e){var t=r[e.id];t&&(t.minDuration=e.minDuration,t.maxDuration=e.maxDuration)})),i.resources.forEach((function(e){var t=a[e.id];t&&(t.minUnitsPerDay=e.minUnitsPerDay,t.maxUnitsPerDay=e.maxUnitsPerDay)})),i.taskResources.forEach((function(e){var t,n=null===(t=r[e.taskId])||void 0===t?void 0:t.resources[e.resourceId];n&&(n.minUnitsPerDay=e.minUnitsPerDay,n.maxUnitsPerDay=e.maxUnitsPerDay)}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"optimize",value:function(){var e=Object(M.a)(ue().mark((function e(t,n){var r=this;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(M.a)(ue().mark((function e(a){var i,o,l,c,s,u,d,p,h,f,m;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.project,o=r.results,l=i.settings,c=i.tasks,o[t]||(o[t]=[]),s={},r.orderedTasks.forEach((function(e){s[e.id]=new H(1)})),u={},d=new W(s,l.learningRate),Date.now(),f=ue().mark((function e(){var f,m,v,g;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,0)}));case 2:return e.next=4,r.simulate(s);case 4:if(f=[i.output.constraintLoss].concat(Object(A.a)(n(i))),m=new H(0),f.forEach((function(e,t){if(e.data>0){var n=0===t?10:1;void 0===u[t]&&(u[t]=n/e.data),m=m.add(e.mul(u[t]))}})),m.data!==p?(p=m.data,h=0):h++,!(h>10)){e.next=10;break}return e.abrupt("return","break");case 10:o[t].push(Y({durationRatios:s,output:i.output,loss:m})),o[t].sort((function(e,t){return t.loss-e.loss})),m.backward(),d.step((function(e,t){var n=c[e];return t=se(t,n.minDuration/n.plannedDuration,n.maxDuration/n.plannedDuration),t=se(t,l.minDurationRatio,l.maxDurationRatio)})),v=o[t],g=v[v.length-1],a(g);case 17:case"end":return e.stop()}}),e)})),m=0;case 10:if(!(m<l.optimizationSteps)){e.next=18;break}return e.delegateYield(f(),"t0",12);case 12:if("break"!==e.t0){e.next=15;break}return e.abrupt("break",18);case 15:m++,e.next=10;break;case 18:Date.now();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"optimizeDefaults",value:function(){var e=Object(M.a)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.optimize("Balanced",(function(e){return[e.output.projectDurationDays,e.output.laborDistribution.max,e.output.laborDistribution.span]}));case 2:return e.next=4,this.optimize("Fastest",(function(e){return[e.output.projectDurationDays]}));case 4:return e.next=6,this.optimize("Minimum Resources",(function(e){return[e.output.laborDistribution.max]}));case 6:return e.next=8,this.optimize("Levelled Resources",(function(e){return[e.output.laborDistribution.span]}));case 8:return e.next=10,this.optimize("Constraint Compliance",(function(){return[]}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),pe=n(55),he=n(56),fe=n(154),me={task_id:"7274634",proj_id:"1066",wbs_id:"2447995",clndr_id:"16216",phys_complete_pct:"0",rev_fdbk_flag:"N",est_wt:"1",lock_plan_flag:"N",auto_compute_act_flag:"N",complete_pct_type:"CP_Phys",task_type:"TT_FinMile",duration_type:"DT_FixedDrtn",status_code:"TK_NotStart",task_code:"K.RC.15.E10.005",task_name:"Release for Construction Lower Rush River Inlet @ Lower Rush River Inlet S10",rsrc_id:"",total_float_hr_cnt:"640",free_float_hr_cnt:"136",remain_drtn_hr_cnt:"0",act_work_qty:"0",remain_work_qty:"0",target_work_qty:"0",target_drtn_hr_cnt:"0",target_equip_qty:"0",act_equip_qty:"0",remain_equip_qty:"0",cstr_date:"",act_start_date:"",act_end_date:"",late_start_date:"2024-09-18 18:00",late_end_date:"2024-09-18 18:00",expect_end_date:"",early_start_date:"2024-05-24 18:00",early_end_date:"2024-05-24 18:00",restart_date:"2024-05-24 18:00",reend_date:"2024-05-24 18:00",target_start_date:"2024-05-24 18:00",target_end_date:"2024-05-24 18:00",rem_late_start_date:"2024-09-18 18:00",rem_late_end_date:"2024-09-18 18:00",cstr_type:"",priority_type:"PT_Normal",suspend_date:"",resume_date:"",float_path:"",float_path_order:"",guid:"8Ahn9Ewgz0mdXd0n7Q+UEA",tmpl_guid:"7uj+KW3K7EyRqcwm24llpw",cstr_date2:"",cstr_type2:"",driving_path_flag:"N",act_this_per_work_qty:"0",act_this_per_equip_qty:"0",external_early_start_date:"",external_late_end_date:"",cbs_id:"",pre_pess_start_date:"",pre_pess_finish_date:"",post_pess_start_date:"",post_pess_finish_date:"",create_date:"2023-01-12 20:18",update_date:"2023-01-12 20:18",create_user:"IMUNOZ",update_user:"IMUNOZ",location_id:"",control_updates_flag:"N",crt_path_num:""},ve={rsrc_id:"1318",parent_rsrc_id:"",clndr_id:"6645",role_id:"",shift_id:"",user_id:"",pobs_id:"",guid:"Cjk2LqM8xkW5h20mdCXeaA",rsrc_seq_num:"3",email_addr:"",employee_code:"",office_phone:"",other_phone:"",rsrc_name:"Cost",rsrc_short_name:"C-1",rsrc_title_name:"",def_qty_per_hr:"0",cost_qty_type:"QT_Hour",ot_factor:"0",active_flag:"Y",auto_compute_act_flag:"Y",def_cost_qty_link_flag:"Y",ot_flag:"N",curr_id:"1",unit_id:"101",rsrc_type:"RT_Mat",location_id:"",ts_approve_user_id:"",timesheet_flag:"N",rsrc_notes:"?????<HTML><BODY></BODY></HTML>",load_tasks_flag:"",level_flag:"",last_checksum:""},ge={clndr_id:"597",default_flag:"N",clndr_name:"Standard 5 Day Workweek",proj_id:"",base_clndr_id:"",last_chng_date:"2000-04-26 14:11",clndr_type:"CA_Base",day_hr_cnt:"8",week_hr_cnt:"40",month_hr_cnt:"172",year_hr_cnt:"2000",rsrc_private:"N",clndr_data:"(0||CalendarData()(    (0||DaysOfWeek()(      (0||1()())      (0||2()(        (0||0(s|08:00|f|12:00)())        (0||1(s|13:00|f|17:00)())))      (0||3()(        (0||0(s|08:00|f|12:00)())        (0||1(s|13:00|f|17:00)())))      (0||4()(        (0||0(s|08:00|f|12:00)())        (0||1(s|13:00|f|17:00)())))      (0||5()(        (0||0(s|08:00|f|12:00)())        (0||1(s|13:00|f|17:00)())))      (0||6()(        (0||0(s|08:00|f|12:00)())        (0||1(s|13:00|f|17:00)())))      (0||7()())))    (0||Exceptions()())))"},be={task_pred_id:"12321174",task_id:"7283774",pred_task_id:"7283773",proj_id:"1066",pred_proj_id:"1066",pred_type:"PR_SS",lag_hr_cnt:"0",comments:"",float_path:"",aref:"2025-06-11 08:00",arls:"2025-06-25 08:00"},ye={taskrsrc_id:"8713042",task_id:"7279501",proj_id:"1066",cost_qty_link_flag:"Y",role_id:"",acct_id:"",rsrc_id:"10078",pobs_id:"",skill_level:"",remain_qty:"50",target_qty:"50",remain_qty_per_hr:"1",target_lag_drtn_hr_cnt:"0",target_qty_per_hr:"1",act_ot_qty:"0",act_reg_qty:"0",relag_drtn_hr_cnt:"0",ot_factor:"",cost_per_qty:"0.0000",target_cost:"0.0000",act_reg_cost:"0.0000",act_ot_cost:"0.0000",remain_cost:"0.0000",act_start_date:"",act_end_date:"",restart_date:"2023-07-12 08:00",reend_date:"2023-07-18 18:00",target_start_date:"2023-07-12 08:00",target_end_date:"2023-07-18 18:00",rem_late_start_date:"2024-11-05 08:00",rem_late_end_date:"2024-11-12 18:00",rollup_dates_flag:"N",target_crv:"",remain_crv:"",actual_crv:"",ts_pend_act_end_flag:"N",guid:"ddVEJHT/c0SG/89BsElFgQ",rate_type:"COST_PER_QTY",act_this_per_cost:"0.0000",act_this_per_qty:"0",curv_id:"",rsrc_type:"RT_Labor",cost_per_qty_source_type:"ST_Rsrc",create_user:"IMUNOZ",create_date:"2023-01-12 20:18",cbs_id:"",has_rsrchours:"",taskrsrc_sum_id:""},xe={UID:0,Name:"PDD- Master programme Asper  EOT-Productivity Delay -011021 - REV",Active:1,ID:0,Type:1,Manual:0,IsNull:0,CreateDate:"2009-10-12T11:25:00",WBS:0,OutlineNumber:0,OutlineLevel:0,Priority:500,ManualStart:"2019-08-01T08:00:00",ManualFinish:"2025-02-21T17:00:00",ManualDuration:"PT14864H0M0S",Start:"2019-08-01T08:00:00",Finish:"2025-02-21T17:00:00",Duration:"PT14864H0M0S",Work:"PT3680H0M0S",Stop:"2019-08-01T08:00:00",Resume:"2019-08-01T08:00:00",EffortDriven:1,Recurring:0,OverAllocated:0,Estimated:0,Milestone:0,Summary:1,Critical:1,IsSubproject:0,ExternalTask:0,EarlyFinish:"2025-02-21T17:00:00",EarlyStart:"2019-08-01T08:00:00",LateStart:"2019-08-01T08:00:00",LateFinish:"2025-02-21T17:00:00",StartVariance:0,FinishVariance:0,WorkVariance:2208e5,FreeSlack:0,TotalSlack:0,FixedCost:0,FixedCostAccrual:3,PercentComplete:4.42973767279852,PercentWorkComplete:0,Cost:0,OvertimeCost:0,OvertimeWork:"PT0H0M0S",ActualStart:"2019-08-01T08:00:00",ActualDuration:"PT658H26M0S",ActualCost:0,ActualOvertimeCost:0,ActualWork:"PT0H0M0S",ActualOvertimeWork:"PT0H0M0S",RegularWork:"PT0H0M0S",RemainingDuration:"PT14205H33M0S",RemainingWork:"PT3680H0M0S",RemainingOvertimeCost:0,RemainingOvertimeWork:"PT0H0M0S",ACWP:0,CV:0,ConstraintType:0,LevelAssignments:0,LevelingCanSplit:0,LevelingDelay:0,CalendarUID:-1,Hyperlink:"",HyperlinkAddress:"",HyperlinkSubAddress:"",IgnoreResourceCalendar:0,HideBar:0,Rollup:0,BCWS:0,BCWP:0,PhysicalPercentComplete:0,EarnedValueMethod:0,Baseline:{Duration:"PT0H0M0S"},IsPublished:1},we={CalendarUID:4,UID:1,ID:1,Name:"CC1 Steel",Type:1,IsNull:0,Initials:"C",WorkGroup:0,MaxUnits:1,PeakUnits:0,OverAllocated:0,Start:"9999-12-31T23:59:59",CanLevel:1,AccrueAt:3,Work:"PT0H0M0S",RegularWork:"PT0H0M0S",OvertimeWork:"PT0H0M0S",ActualWork:"PT0H0M0S",RemainingWork:"PT0H0M0S",ActualOvertimeWork:"PT0H0M0S",RemainingOvertimeWork:"PT0H0M0S",PercentWorkComplete:0,StandardRate:0,Cost:0,OvertimeRate:0,OvertimeRateFormat:2,OvertimeCost:0,CostPerUse:0,ActualCost:0,ActualOvertimeCost:0,RemainingCost:0,RemainingOvertimeCost:0,WorkVariance:0,CostVariance:0,SV:0,CV:0,ACWP:0,BCWS:0,BCWP:0,IsInactive:0,IsGeneric:0,BookingType:0,CreationDate:"8/28/2019 5:16:00 PM",IsEnterprise:0},_e={UID:7,Name:"covid 19",IsBaseCalendar:1,BaseCalendarUID:-1,WeekDays:{WeekDay:[{DayType:1,DayWorking:0},{DayType:2,DayWorking:1,WorkingTimes:{WorkingTime:[{FromTime:"08:00:00",ToTime:"12:00:00"},{FromTime:"13:00:00",ToTime:"17:00:00"}]}},{DayType:3,DayWorking:1,WorkingTimes:{WorkingTime:[{FromTime:"08:00:00",ToTime:"12:00:00"},{FromTime:"13:00:00",ToTime:"17:00:00"}]}},{DayType:4,DayWorking:1,WorkingTimes:{WorkingTime:[{FromTime:"08:00:00",ToTime:"12:00:00"},{FromTime:"13:00:00",ToTime:"17:00:00"}]}},{DayType:5,DayWorking:1,WorkingTimes:{WorkingTime:[{FromTime:"08:00:00",ToTime:"12:00:00"},{FromTime:"13:00:00",ToTime:"17:00:00"}]}},{DayType:6,DayWorking:1,WorkingTimes:{WorkingTime:[{FromTime:"08:00:00",ToTime:"12:00:00"},{FromTime:"13:00:00",ToTime:"17:00:00"}]}},{DayType:7,DayWorking:0}]}},Ee={PredecessorUID:16546,Type:1,CrossProject:0,LinkLag:0,LagFormat:7},je={UID:2870,ResourceUID:2,TaskUID:16323,ActualCost:0,ActualWork:"PT0H0M0S",Cost:0,Delay:0,Finish:"2024-05-22T17:00:00",LinkedFields:0,PeekUnits:1,Start:"2023-08-03T08:00:00",Stop:"2024-05-22T17:00:00",Units:1,Work:"PT1920H0M0S",WorkContour:0,PercentWorkComplete:"0%",TimephasedData:[]};function ke(){ke=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(F){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),l=new k(a||[]);return r(o,"_invoke",{value:w(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(F){return{type:"throw",arg:F}}}e.wrap=s;var d={};function p(){}function h(){}function f(){}var m={};c(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var b=f.prototype=p.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return D()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=_(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:D}}function D(){return{value:void 0,done:!0}}return h.prototype=f,r(b,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),c(b,l,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var Oe,De,Fe,Ne,Ce,Se,Te,Le,Pe,Re=function(){function e(){Object(z.a)(this,e)}return Object(B.a)(e,[{key:"read",value:function(){var e=Object(M.a)(ke().mark((function e(){var t,n,r=this,a=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:new File,n=new FileReader,e.abrupt("return",new Promise((function(e){n.onload=function(n){r.rawText=n.target.result.trim(),r.rawData=r.rawTextToRawData(r.rawText),r.project=r.rawDataToProject(r.rawData),r.project.projectFileName=t.name,e(r.project)},n.readAsText(t)})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"rawTextToRawData",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r={},a=[];n.split("\n").forEach((function(n){var i=n.split("\t").map((function(e){return e.trim()})),o=i[0],l=i.slice(1);switch(o){case"ERMHDR":e=l;break;case"%T":var c=l[0];a=r[c]=[];break;case"%F":t=l;break;case"%R":var s=l;a.push(ee(t,s))}}));var i={header:e,tables:r};return i}},{key:"rawDataToProject",value:function(e){var t,n,r=e.tables,a=new V;return r.TASK.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=new X;t.id=e.task_id,t.name=e.task_name,t.code=e.task_code,t.type=e.task_type.slice(3),t.calendarId=e.clndr_id,t.predecessors={},t.resources={},t.plannedStart=re(e.target_start_date),t.plannedFinish=re(e.target_end_date),t.plannedDuration=parseInt(e.target_drtn_hr_cnt),t.actualStart=re(e.act_start_date),t.actualFinish=re(e.act_end_date),a.tasks[t.id]=t})),null===(t=Object.values(r.RSRC))||void 0===t||t.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=new J;t.id=e.rsrc_id,t.name=e.rsrc_name,t.code=e.rsrc_short_name,t.type={Labor:"Labor",Equip:"Equipment",Mat:"Material"}[e.rsrc_type.slice(3)],a.resources[t.id]=t})),r.CALENDAR.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=new K;t.id=e.clndr_id,t.name=e.clndr_name,t.weekHourCount=parseInt(e.week_hr_cnt),a.calendars[t.id]=t})),r.TASKPRED.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=new Q;t.id=e.task_pred_id,t.taskId=e.task_id,t.predecessorId=e.pred_task_id,t.type=e.pred_type.slice(3),t.lagHour=parseInt(e.lag_hr_cnt);var n=a.tasks[t.taskId];n.predecessors[t.predecessorId]=t})),null===(n=Object.values(r.TASKRSRC))||void 0===n||n.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=new Z;t.id=e.taskrsrc_id,t.taskId=e.task_id,t.resourceId=e.rsrc_id,t.plannedUnits=parseFloat(e.target_qty);var n=a.tasks[t.taskId];t.plannedUnitsPerHour=n.plannedDuration>0?t.plannedUnits/n.plannedDuration:0,n.resources[t.resourceId]=t})),a}},{key:"projectToRawData",value:function(e){var t,n=JSON.parse(JSON.stringify(this.rawData)),r=n.tables;return r.TASK.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,n=e.tasks[t.task_id];(null===n||void 0===n?void 0:n.optimizable)&&(t.target_drtn_hr_cnt=n.newDuration.data,t.remain_drtn_hr_cnt=n.newDuration.data,t.act_start_date="",t.target_start_date=ae(n.newStart.data),t.restart_date=t.target_start_date,t.early_start_date=t.target_start_date,t.rem_late_start_date=t.target_start_date,t.late_start_date=t.target_start_date,t.act_end_date="",t.target_end_date=ae(n.newFinish.data),t.reend_date=t.target_end_date,t.early_end_date=t.target_end_date,t.rem_late_end_date=t.target_end_date,t.late_end_date=t.target_end_date)})),null===(t=r.TASKRSRC)||void 0===t||t.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,n=e.tasks[t.task_id];if(null===n||void 0===n?void 0:n.optimizable){var r,a,i=n.resources[t.rsrc_id];if(i)t.target_qty_per_hr=null===(r=i.newUnitsPerHour)||void 0===r?void 0:r.data,t.remain_qty_per_hr=null===(a=i.newUnitsPerHour)||void 0===a?void 0:a.data,t.act_start_date="",t.target_start_date=ae(n.newStart.data),t.restart_date=t.target_start_date,t.rem_late_start_date=t.target_start_date,t.act_end_date="",t.target_end_date=ae(n.newFinish.data),t.reend_date=t.target_end_date,t.rem_late_end_date=t.target_end_date}})),n}},{key:"rawDataToRawText",value:function(e){var t=e.header,n=e.tables,r=[];return r.push(["ERMHDR"].concat(Object(A.a)(t)).join("\t")),Object.entries(n).forEach((function(e){var t=Object(h.a)(e,2),n=t[0],a=t[1];r.push(["%T",n].join("\t")),r.push(["%F"].concat(Object(A.a)(Object.keys(a[0]))).join("\t")),a.forEach((function(e){r.push(["%R"].concat(Object(A.a)(Object.values(e))).join("\t"))}))})),r.push("%E"),r.join("\n")}},{key:"exportToOriginal",value:function(e){var t=this.projectToRawData(e),n=this.rawDataToRawText(t);!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("."),r=n.pop();return n.join(".")+t+"."+r}(e.projectFileName,"_FrontlineExport"),n)}}]),e}(),Ie=function(e){Object(pe.a)(n,e);var t=Object(he.a)(n);function n(){return Object(z.a)(this,n),t.apply(this,arguments)}return Object(B.a)(n,[{key:"rawTextToRawData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new fe.XMLParser({ignoreAttributes:!1,ignoreDeclaration:!1,ignorePiTags:!1}),n=t.parse(e);return n}},{key:"rawDataToProject",value:function(e){var t,n,r=new V,a=e.Project;a.Tasks.Task.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=new X;t.id=e.UID,t.name=e.Name,t.code=e.WBS,t.type=e.Summary?"Summary":e.Milestone?"Milestone":"Task",t.calendarId=e.CalendarUID,t.predecessors={},t.resources={},t.plannedStart=re(e.Start),t.plannedFinish=re(e.Finish),t.plannedDuration=ie(e.Duration),t.actualStart=re(e.ActualStart),t.actualFinish=re(e.ActualFinish),r.tasks[t.id]=t,ne(e.PredecessorLink).forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,n=new Q;n.id=null,n.taskId=t.id,n.predecessorId=e.PredecessorUID,n.type=["FF","FS","SF","SS"][e.Type],n.lagHour=e.LinkLag/600,t.predecessors[n.predecessorId]=n}))})),ne(a.Resources.Resource).forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=new J;t.id=e.UID,t.name=e.Name,t.code=e.Initials,t.type=["Material","Labor","Cost"][e.Type],r.resources[t.id]=t}));var i=new K;return i.id="-1",i.name="standard 5 days 8 hours",i.weekHourCount=40,r.calendars[i.id]=i,a.Calendars.Calendar.forEach((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,n=new K;n.id=t.UID,n.name=t.Name,n.weekHourCount=0,null===(e=t.WeekDays)||void 0===e||e.WeekDay.forEach((function(e){var t;[null,"Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.DayType]&&ne(null===(t=e.WorkingTimes)||void 0===t?void 0:t.WorkingTime).forEach((function(e){var t=(Date.parse("1971-06-28T"+e.ToTime)-Date.parse("1971-06-28T"+e.FromTime))/36e5;t<0&&(t+=24),n.weekHourCount+=t}))})),r.calendars[n.id]=n})),null===(t=a.Assignments)||void 0===t||null===(n=t.Assignment)||void 0===n||n.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=new Z;t.id=e.UID,t.taskId=e.TaskUID,t.resourceId=e.ResourceUID,t.plannedUnits=ie(e.Work);var n=r.tasks[t.taskId];t.plannedUnitsPerHour=n.plannedDuration>0?t.plannedUnits/n.plannedDuration:0,n.resources[t.resourceId]=t})),r}},{key:"projectToRawData",value:function(e){var t,n,r=JSON.parse(JSON.stringify(this.rawData)),a=r.Project;return a.Tasks.Task.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,n=e.tasks[t.UID];(null===n||void 0===n?void 0:n.optimizable)&&(t.Start=ae(n.newStart.data),t.Finish=ae(n.newFinish.data),t.Duration=oe(n.newDuration.data),t.ActualStart&&(t.ActualStart=ae(n.newStart.data)),t.ActualFinish&&(t.ActualFinish=ae(n.newFinish.data)))})),null===(t=a.Assignments)||void 0===t||null===(n=t.Assignment)||void 0===n||n.forEach((function(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,a=e.tasks[r.TaskUID];(null===(t=a)||void 0===t?void 0:t.optimizable)&&((a=a.resources[r.ResourceUID])&&(r.Units=r.PeekUnits=null===(n=a.newUnitsPerHour)||void 0===n?void 0:n.data))})),r}},{key:"rawDataToRawText",value:function(e){return new fe.XMLBuilder({ignoreAttributes:!1}).build(e)}}]),n}(Re),Me=n(426),Ae=n(427),ze=n(428),Be=n(409),Ue=n(407),He=n(103),We=n.n(He),qe=n(155),Ge=n.n(qe),Ye=n(406),Ve=n(423),Xe=Object(d.b)(Ye.a)(Oe||(Oe=Object(v.a)(['\n  &.MuiModal-root {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .MuiBox-root {\n    background: #f2f2f2;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    .loader {\n      width: 64px;\n      height: 64px;\n      background: linear-gradient(180deg, #002F2B 0%, rgba(0, 0, 0, 0.1) 25%);\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      animation: spin 1s linear infinite;\n      margin: 0 0 15px;\n    }\n    .loader::after {\n      content: "";\n      width: calc(100% - 4px);\n      height: calc(100% - 4px);\n      border-radius: 50%;\n      background: #f2f2f2;\n    }\n    @keyframes spin {\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n    .title {\n      font-size: 20px;\n      font-family: "Nunito", sans-serif;\n      font-weight: 500;\n      margin: 0 0 15px;\n    }\n    span {\n      color: #696969;\n    }\n    &:focus-visible {\n      outline: none;\n    }\n}\n']))),Je=Object(d.b)(Ve.a)(De||(De=Object(v.a)(["\n  position: 'absolute';\n  top: '50%';\n  left: '50%';\n  transform: 'translate(-50%, -50%)';\n   box-shadow: 1px 1px 5px rgb(207 234 229 / 25%);\n  width: 400px;\n  padding: 40px 20px;\n  border-radius: 64px;\n"]))),Ke=function(e){var t=e.isLoading,n=e.spinner,r=e.onClose,a=e.title,o=e.content;return i.a.createElement(Xe,{open:t,onClose:r,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},i.a.createElement(Je,null,n?i.a.createElement("div",{className:"loader"}):"",i.a.createElement("div",{className:"title",id:"modal-modal-title"},a),i.a.createElement("span",null,o)))},Qe=n(419),Ze=d.b.div(Fe||(Fe=Object(v.a)(['\n  background: #F0F1F3;\n  margin: 0;\n  /* padding: 0 0 50px; */\n  min-height: 100vh;\n  min-width: 1200px;\n  .row {\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n    align-items: center;\n    box-sizing: border-box;\n    /* margin-top: 10px; */\n  }\n  .MuiTableCell-body, .MuiTableCell-head {\n    font-family: "Inter", Arial, Helvetica, sans-serif;\n  }\n']))),$e=Object(d.b)(Qe.a)(Ne||(Ne=Object(v.a)(['\n  padding: 10px 20px !important;  \n  background: #40AA97 !important;\n  box-shadow: 1px 2px 2px #CFEAE5 !important;\n  border-radius: 8px !important;\n  min-width: 100px !important;\n  width: auto !important;   \n  font-weight: bold !important;\n  text-transform: uppercase !important;\n  font-size: 1rem !important;\n  font-family: "Inter", sans-serif !important;\n  &:hover {\n    background: #258372 !important;\n    box-shadow: 1px 2px 2px #CFEAE5, inset 2px 3px 5px rgba(0, 0, 0, 0.25) !important;\n    }\n  &.Mui-disabled {\n    color: #B5B5B5;    \n    background: #F0F1F3 !important;\n    box-shadow: none !important;\n  }\n']))),et=Object(d.b)($e)(Ce||(Ce=Object(v.a)(["\n  color: #40AA97 !important;\n  border: 0 !important;\n  background: #EAF5F3 !important;\n  box-shadow: 1px 2px 2px rgba(207, 234, 229, 0.25) !important;\n  &:hover {\n    background: #EAF5F3 !important;\n    box-shadow: 1px 2px 2px rgba(207, 234, 229, 0.25), inset 1px 1px 5px #C2DAD6 !important;\n   }\n  &.Mui-disabled {\n    background: #E1F2EF !important;    \n    color: #AADBD2;  \n}\n"]))),tt=Object(d.b)($e)(Se||(Se=Object(v.a)(["\n  background: #FFFFFF !important;\n  color: #40AA97 !important;\n  border: 1px solid #F0F1F3 !important;\n  box-shadow: 1px 1px 5px rgba(207, 234, 229, 0.25) !important;\n  &:hover {\n    background: #FFFFFF !important;\n    box-shadow: inset 1px 1px 5px #E8E8E8 !important;\n   }\n  &.Mui-disabled {\n    background: #FFFFFF !important;    \n    color: #E8E8E8;  \n}\n"]))),nt=n(398),rt=d.b.div(Te||(Te=Object(v.a)(["\n    background: ",";\n    padding: 1px 20px 20px;\n    border-radius: 16px;\n"])),(function(e){return e.theme.colors.white})),at=d.b.div(Le||(Le=Object(v.a)(["\n  width: 100%;\n  .upload-file {\n    margin: 20px 0;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    color: ",';\n    font-weight: 700;\n    button, input {\n      justify-content: flex-start;\n      font-family: "Inter", sans-serif;\n    }\n    label {\n      font-weight: 700 !important;\n      svg {\n        margin-right: 8px;\n      }\n    }\n    .upload-button {\n      background: ',";\n      color: ",";\n      border: 1px transparent;\n      padding: 10px 20px;\n      text-align: center;\n      margin-right: 20px;\n      border-radius: 6px;\n      cursor: pointer;\n      &:hover {\n        background: ",";\n      }\n      &.second-upload {\n        color: ",";\n        background: transparent;\n        border: 1px solid;\n        &:hover {\n          color: ",";\n        }\n      }\n    }\n  }\n  .optimization-input {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    .section {\n      width: 100%;\n      display: flex;\n      margin: 10px 0;\n      min-height: 50px;\n      display: flex-start !important;\n      justify-content: space-between;\n      position: relative;\n      &.disabled {\n        opacity: 0.3;\n      }\n      &:last-of-type {\n        &:after {\n          height: 0;\n        }\n      }\n      &:after {\n        content: '';\n        position: absolute;\n        background: ",";\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        height: 1px;\n      }\n      .intro {\n        width: 40%;\n        h2 {\n          margin: 0;\n          font-size: ",";\n          font-weight: 500;\n        }\n        h3 {\n          margin: 0;\n          color: ",";\n          font-weight: 300;\n          font-size: ",";\n          line-height: ",";\n        }\n      }\n      .input-wrapper {\n        width: 60%;\n        .inputs {\n          margin: 0 0 20px;\n          display: flex;\n          justify-content: space-between;\n        }\n      }\n      label {\n         margin-bottom: 0px;\n         font-weight: 400;\n         display: flex;\n         align-items: center;\n        svg {\n          margin-left: 5px;\n          width: 18px;\n        }\n      }\n      .MuiSlider-colorPrimary {\n        color: ",";\n        margin: 15px 0;\n      }\n      .MuiInput-root {\n        margin: 6px 0;\n        border: 1px solid ",";\n        &.Mui-focused {\n          border: 1px solid ",";\n          background:  ",";\n        }\n        &:after {\n          border: 0;\n        }\n      }\n      .MuiFormControl-root {\n        width: 45%;\n        margin-right: 50px;\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.turquoise[5]}),(function(e){return e.theme.colors.turquoise[6]}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.turquoise[7]}),(function(e){return e.theme.colors.turquoise[5]}),(function(e){return e.theme.colors.turquoise[7]}),(function(e){return e.theme.colors.grey[1]}),(function(e){return e.theme.fontSizes.large}),(function(e){return e.theme.colors.grey[5]}),(function(e){return e.theme.fontSizes.medium}),(function(e){return e.theme.fontSizes.medium}),(function(e){return e.theme.colors.turquoise[2]}),(function(e){return e.theme.colors.grey[1]}),(function(e){return e.theme.colors.turquoise[4]}),(function(e){return e.theme.colors.white})),it=Object(d.b)(nt.a)(Pe||(Pe=Object(v.a)(["\n  background:  ",";\n  border-radius: 6px;\n  padding: 4px 8px;\n  &:before {\n    border: 0 !important;\n  }\n"])),(function(e){return e.theme.colors.grey[1]}));function ot(){ot=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(F){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),l=new k(a||[]);return r(o,"_invoke",{value:w(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(F){return{type:"throw",arg:F}}}e.wrap=s;var d={};function p(){}function h(){}function f(){}var m={};c(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var b=f.prototype=p.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return D()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=_(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:D}}function D(){return{value:void 0,done:!0}}return h.prototype=f,r(b,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),c(b,l,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var lt=[{value:0,label:"0%"},{value:100,label:"100%"},{value:200,label:"200%"}],ct=[{value:10,label:"10"},{value:100,label:"100"},{value:200,label:"200"},{value:300,label:"300"},{value:400,label:"400"},{value:500,label:"500"}];function st(e){var t,n,r,o,l=e.uploadedFile,c=e.setUploadedFile,s=e.fileName,u=e.setFileName,d=e.constraintsFileName,p=e.setConstraintsFileName,f=e.updateProject,m=e.optimizer,v=e.setOptimizer,g=e.setReader,b=e.goNext,y=Object(a.useState)(!1),x=Object(h.a)(y,2),w=x[0],_=x[1],E=Object(a.useState)(!1),j=Object(h.a)(E,2),k=j[0],O=j[1],D=Object(a.useState)(null),F=Object(h.a)(D,2),N=F[0],C=F[1],S=Object(a.useState)(!(null===m||void 0===m||null===(t=m.project)||void 0===t?void 0:t.settings)||m.project.settings.considerActualDates),T=Object(h.a)(S,2),L=T[0],P=T[1],R=Object(a.useState)((null===m||void 0===m||null===(n=m.project)||void 0===n?void 0:n.settings)?[100*m.project.settings.minDurationRatio,100*m.project.settings.maxDurationRatio]:[50,150]),I=Object(h.a)(R,2),A=I[0],z=I[1],B=Object(a.useState)((null===m||void 0===m||null===(r=m.project)||void 0===r?void 0:r.settings)?m.project.settings.optimizationSteps:20),U=Object(h.a)(B,2),H=U[0],W=U[1],q=Object(a.useState)((null===m||void 0===m||null===(o=m.project)||void 0===o?void 0:o.settings)?m.project.settings.learningRate:.025),G=Object(h.a)(q,2),Y=G[0],V=G[1];Object(a.useEffect)((function(){var e;(null===m||void 0===m||null===(e=m.project)||void 0===e?void 0:e.settings)&&(m.project.settings.minDurationRatio=A[0]/100,m.project.settings.maxDurationRatio=A[1]/100)}),[A]),Object(a.useEffect)((function(){var e;(null===m||void 0===m||null===(e=m.project)||void 0===e?void 0:e.settings)&&(m.project.settings.optimizationSteps=H)}),[H]),Object(a.useEffect)((function(){var e;(null===m||void 0===m||null===(e=m.project)||void 0===e?void 0:e.settings)&&(m.project.settings.considerActualDates=L),f(N)}),[L]),Object(a.useEffect)((function(){var e;(null===m||void 0===m||null===(e=m.project)||void 0===e?void 0:e.settings)&&(m.project.settings.learningRate=Y)}),[Y]);var X=function(e){P("true"===e)},J=function(){var e=Object(M.a)(ot().mark((function e(t){var n,r;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t),u(t.name),n=(null===t||void 0===t?void 0:t.name.endsWith("xer"))?new Re:new Ie,e.next=5,n.read(t);case 5:r=e.sent,g(n),C(r),v(new de(r)),O(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(M.a)(ot().mark((function e(t){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(t.name),e.next=3,m.applyConstraints(t);case 3:_(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){l&&J(l),f(N)}),[l]);return i.a.createElement(rt,null,i.a.createElement("h2",null,"Upload schedule and enter optimization settings"),i.a.createElement(at,null,i.a.createElement("div",{className:"optimization-input"},i.a.createElement("div",{className:"section"},i.a.createElement("div",{className:"intro"},i.a.createElement("h2",null,"Schedule"),i.a.createElement("h3",null,"Upload your schedule (.xer or .xml)")),i.a.createElement("div",{className:"input-wrapper"},i.a.createElement("div",{className:"inputs",style:{alignItems:"center"}},i.a.createElement("div",{className:"upload-file"},i.a.createElement("input",{hidden:!0,type:"file",id:"project-file",name:"project",onChange:function(e){c(e.target.files[0])},accept:".xer,.xml"}),i.a.createElement("label",{className:"upload-button",htmlFor:"project-file"},i.a.createElement(Ge.a,null)," Upload file"),i.a.createElement("span",null,s)),i.a.createElement("span",null,"or"," ",i.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){fetch("/demo_project.xml").then((function(e){return e.blob()})).then((function(e){var t=new File([e],"demo_project.xml");c(t),O(!0)}))}},"use a demo project"))))),i.a.createElement("div",{className:"section ".concat(k?"":"disabled")},i.a.createElement("div",{className:"intro"},i.a.createElement("h2",null,"Constraints"),i.a.createElement("h3",null,"Upload your constraints (",i.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){m.downloadConstraints()}},"download template"),")")),i.a.createElement("div",{className:"input-wrapper"},i.a.createElement("div",{className:"inputs"},i.a.createElement("div",{className:"upload-file"},i.a.createElement("input",{hidden:!0,type:"file",id:"constraints-file",name:"constraints",onChange:function(e){_(!0),K(e.target.files[0])},accept:".xls,.xlsx"}),i.a.createElement("label",{className:"upload-button  second-upload",htmlFor:"constraints-file"},i.a.createElement(Ge.a,null)," Upload file"),i.a.createElement("span",null,d))))),i.a.createElement("div",{className:"section ".concat(k?"":"disabled")},i.a.createElement("div",{className:"intro"},i.a.createElement("h2",null,"Optimization Settings"),i.a.createElement("h3",null,"Customize your optimization results")),i.a.createElement("div",{className:"input-wrapper"},i.a.createElement("div",{className:"inputs"},i.a.createElement(Me.a,null,i.a.createElement("label",null,"Ignore Project Scheduled Dates",i.a.createElement(Ae.a,{title:i.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},"The engine will not take into account any defined dates therefore the optimized project will not follow original schedule")},i.a.createElement(We.a,null))),i.a.createElement("div",{className:"row",style:{justifyContent:"flex-start"}},i.a.createElement(ze.a,{value:!1,checked:!1===L,control:i.a.createElement(Be.a,null),label:"Yes",onChange:function(e){return X(e.target.value)}}),i.a.createElement(ze.a,{value:!0,checked:!0===L,control:i.a.createElement(Be.a,null),label:"No",onChange:function(e){return X(e.target.value)}}))),i.a.createElement(Me.a,null,i.a.createElement("label",null,"Learning Rate",i.a.createElement(Ae.a,{title:i.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},"Learning rate is the step size of the engine which affects speed, stability, and convergence. The higher the rate, the faster results are generated.")},i.a.createElement(We.a,null))),i.a.createElement(it,{id:"learningRate",type:"number",value:Y,onChange:function(e){V(e.target.value)},placeholder:"eg: 0.025",variant:"outlined",disabled:!k}))),i.a.createElement("div",{className:"inputs"},i.a.createElement(Me.a,{style:{width:"100%"}},i.a.createElement("label",null,"Optimization Ratio "," ",A?i.a.createElement(i.a.Fragment,null,"(",A[0].toString(),"% - ",A[1].toString(),"%)"):"",i.a.createElement(Ae.a,{title:i.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},"Ratio = New Duration over Baseline Duration")},i.a.createElement(We.a,null))),i.a.createElement(Ue.a,{id:"optimization-ratio",step:5,min:0,max:200,valueLabelDisplay:"auto",getAriaLabel:function(){return"Optimization Ratio"},value:A,marks:lt,onChange:function(e){return z(e.target.value)},disabled:!k}))),i.a.createElement("div",{className:"inputs"},i.a.createElement(Me.a,{style:{width:"100%"}},i.a.createElement("label",null,"Optimization Steps (",H.toString(),")",i.a.createElement(Ae.a,{title:i.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},"Recommended steps: 20 - 50, the higher the number the longer it will take to optimize results")},i.a.createElement(We.a,null))),i.a.createElement(Ue.a,{id:"optimization-steps","aria-label":"optimization-steps",value:H,onChange:function(e){W(e.target.value)},step:10,min:10,max:500,marks:ct,valueLabelDisplay:"auto",disabled:!k})))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",null),i.a.createElement($e,{variant:"contained",onClick:b,disabled:!k},"Next")),i.a.createElement(Ke,{isLoading:w,title:"Reading data...",content:"Please wait, this may take a few moments.",spinner:!0})))}var ut,dt,pt,ht,ft,mt=n(400),vt=n(196),gt=n.n(vt),bt=n(197),yt=n.n(bt),xt={TaskPlot:{optimizedTask:"#82B5C7",optimizedCriticalTask:"#e61717",baselineTask:"#CCCCCC",baselineCriticalTask:"#e6a7a7"},ComparisonPlot:{Balanced:"rgba(130, 181, 199, 0.9)",Fastest:"rgba(247, 220, 91, 0.9)","Minimum Resources":"rgba(219, 121, 48, 0.9)","Levelled Resources":"rgba(170, 187, 93, 0.9)","Constraint Compliance":"rgba(147, 156, 227, 0.9)"},ResourcePlot:{allResources:["#55CBCD98","#f7dc5b98","#FFAEA598","#939ce398","#AABB5D98","#BAA19098","#db793098","#099A4D98","#f07e9398","#FDAE6198","#D53E4F98","#ABDDA498","#E6F598","#9B4FA298","#6891F98F","#D2056298","#1791D598","#DC3E0D98","#FDC62A98","#234F1D98","#49360198","#45130498","#4f022598","#473B7998","#95613A98","#FB5DA598","#F8A48A98","#ABDDA498","#ADA5D398","#93290998","#C3E6F998","#FEC2DD98"]}},wt=n(23);function _t(e){return e&&Object.keys(e).length}function Et(e,t){var n=[];if(e.length>t)for(var r=Math.floor(e.length/t),a=0;a<t;a++)n.push(e[a*r]);else n=e;return n}function jt(e){var t=e.margin,n=void 0===t?50:t,r=e.x_domain,a=e.y_domain,i=e.width,o=e.height,l=e.ref,c=e.x_label,s=e.y_label,u=e.x_type,d=void 0===u?wt.f:u,p=e.y_type,h=void 0===p?wt.f:p,f=e.types,m=e.name,v=n,g=i-n,b=n,y=o-n,x=d(r,[v,g]),w=h(a,[y,b]),_=wt.h(l.current).attr("width",i).attr("height",o);_.selectChildren().remove(),_.style("overflow","hidden");var E=Math.random(),j="chartClipPath-".concat(E),k=(_.insert("clipPath").attr("id",j).append("rect").attr("x",v).attr("y",y).attr("width",g-v).attr("height",-(b-y)).attr("transform","translate(0,".concat(b-y,")")),_.append("g"));k.call(wt.a(x)).attr("transform","translate(0, ".concat(y,")")).call((function(e){e.append("text").attr("x",i/2).attr("y",40).attr("fill","#2d2d2d").attr("font-size",16).attr("text-align","right").text(c)}));var O=_.append("g");O.call(wt.d(x).tickValues([])).attr("transform","translate(0, ".concat(b,")"));var D=_.append("g");D.call(wt.b(w)).attr("transform","translate(".concat(v,", 0)")).call((function(e){e.append("text").attr("text-anchor","end").attr("y",30).attr("x",-30).attr("fill","#2d2d2d").attr("font-size",16).text(s).attr("text-anchor","start")}));var F=_.append("g");F.call(wt.c(w).tickValues([])).attr("transform","translate(".concat(g,", 0)"));var N=wt.a().scale(x).tickFormat("").tickSizeInner(o-2*n);_.append("g").attr("class","x-grid").attr("transform","translate(0, ".concat(b,")")).style("opacity",.3).style("stroke-dasharray","3, 3").call(N);var C=wt.b().scale(w).tickFormat("").tickSizeInner(2*n-i);_.append("g").attr("class","y-grid").attr("transform","translate(".concat(v,", 0)")).style("opacity",.3).style("stroke-dasharray","3, 3").call(C);var S=wt.i().scaleExtent([1,1/0]).translateExtent([[0,0],[i,o]]).on("zoom",(function(e){var t=e.transform;_.select(".x-grid").call(N.scale(t.rescaleX(x))),_.select(".y-grid").call(C.scale(t.rescaleY(w))),k.call(wt.a(t.rescaleX(x))),O.call(wt.d(t.rescaleX(x)).tickValues([])),D.call(wt.b(t.rescaleY(w))),F.call(wt.c(t.rescaleY(w)).tickValues([])),f&&f.forEach((function(e){switch(e){case"new_data":_.selectAll(".".concat(e)).attr("cy",(function(e){return t.rescaleY(w)(e.rsrc_max)})).attr("cx",(function(e){return t.rescaleX(x)(e.drtn_day)}));break;case"base_data":_.selectAll(".".concat(e)).attr("cy",(function(e){return t.rescaleY(w)(e.output.laborDistribution.max.data)})).attr("cx",(function(e){return t.rescaleX(x)(e.output.projectDurationDays.data)}));break;case"plannedData":_.selectAll(".".concat(e)).attr("x",(function(e){return t.applyX(x(e.plannedStart))})).attr("y",(function(e,n){return t.applyY(w(n))})).attr("width",(function(e){return Math.max(t.k*(x(e.plannedFinish)-x(e.plannedStart)),0)})).attr("height",(function(e){return Math.max(t.k*(w(1)-w(0))-.5-.5,0)}));break;case"newData":_.selectAll(".".concat(e)).attr("x",(function(e){var n;return t.applyX(x(null===(n=e.newStart)||void 0===n?void 0:n.data))})).attr("y",(function(e,n){return t.applyY(w(n))})).attr("width",(function(e){var n,r;return Math.max(t.k*(x(null===(n=e.newFinish)||void 0===n?void 0:n.data)-x(null===(r=e.newStart)||void 0===r?void 0:r.data)),0)})).attr("height",(function(e){return Math.max(t.k*(w(1)-w(0))-.5-.5,0)}));break;case"Labor_data":_.selectAll(".".concat(e)).attr("x",(function(e){return t.applyX(x(e[0]))})).attr("y",(function(e,n){return t.applyY(w(e[1].data))})).attr("width",(function(e){return Math.max(t.k*(x(864e5)-x(0))-1,0)})).attr("height",(function(e){return Math.max(t.k*(w(a[0])-w(e[1].data)),0)}));break;case"step_data":_.selectAll(".".concat(e)).attr("cy",(function(e){return"laborDistribution"===m?t.applyY(w(e.output[m].max)):"loss"===m?t.applyY(w(e.loss)):"criticalPath"===m?t.applyY(w(e.output.criticalPath.length)):t.applyY(w(e.output[m]))})).attr("cx",(function(e){return t.rescaleX(x)(e.idx)}));break;case"Resources_data":_.selectAll(".".concat(e)).attr("x",(function(e){return t.applyX(x(e[0]))})).attr("y",(function(e,n){return t.applyY(w(e[1].data))})).attr("width",(function(e){return Math.max(t.k*(x(864e5)-x(0)),0)})).attr("height",(function(e){return Math.max(t.k*(w(a[0])-w(e[1].data)),1)}))}}))}));return _.call(S),_.call(S.transform,wt.j),setTimeout((function(){_.selectAll(".clip").attr("clip-path","url(#".concat(j,")"))}),0),{svg:_,x_scale:x,y_scale:w}}function kt(e,t,n,r){var a=(e[1]-e[0])*n,i=(t[1]-t[0])*r;return{x_domain:[e[0]-a,e[1]+a],y_domain:[t[0]-i,t[1]+i]}}function Ot(e){var t=e.results,n=e.constraintsFileName,r=e.baselineResults,o=(e.steps,e.selectedPreset),l=e.selectedResultIndex,c=void 0===l?-1:l,s=e.width,u=void 0===s?550:s,d=e.height,p=void 0===d?500:d,f=(e.k,e.x_label),m=e.y_label,v=e.onClick,g=Object(a.useRef)(),b=["new_data","base_data"];return Object(a.useEffect)((function(){if(!Object.values(t).length)return null;var e=[];Object.entries(t).map((function(t){var n=Object(h.a)(t,2),r=n[0];n[1].map((function(t,n){e.push({idx:n,name:r,drtn_day:t.output.projectDurationDays,rsrc_max:t.output.laborDistribution.max})}))})).flat(),"No file chosen"===n&&(e=e.filter((function(e){return"Constraint Compliance"!==e.name})));var a=Object.values(e).map((function(e){return e.drtn_day})),i=Object.values(e).map((function(e){return e.rsrc_max})),l=kt(wt.e(a),wt.e(i),.2,.2),s=jt({x_domain:l.x_domain,y_domain:l.y_domain,margin:50,width:u,height:p,ref:g,x_label:f,y_label:m,x_type:wt.f,y_type:wt.f,types:b}),d=s.svg,y=s.x_scale,x=s.y_scale;d.append("g").attr("class","clip").selectAll("circle").data([r]).join("circle").attr("cx",(function(e){return y(e.output.projectDurationDays.data)})).attr("cy",(function(e){return x(e.output.laborDistribution.max.data)})).attr("r",(function(e){return 8})).attr("z-index","-1").attr("fill","#CCCCCC").attr("class","base_data last_ten"),d.append("g").attr("class","clip").selectAll("circle").data(e).join("circle").attr("cx",(function(e){return y(e.drtn_day)})).attr("cy",(function(e){return x(e.rsrc_max)})).attr("r",(function(t,n){var r=e.filter((function(e){return e.name===t.name})).findIndex((function(e){return e===t})),a=Math.floor(r/10);return Math.min(6+a,12)})).attr("class",(function(t,n){return e.filter((function(e){return e.name===t.name})).slice(-10).includes(t)?"new_data last_ten":"new_data"})).classed("selectCircle",(function(e,t){return c===e.idx&&o===e.name})).attr("fill-opacity",(function(t,n){return t.idx/(e.length<=40?e.length/8:e.length/4)})).attr("fill",(function(e,t){var n=e.name;return xt.ComparisonPlot[n.toString()]})).on("click",(function(e,t){v(t.name,t.idx)})).style("cursor","pointer")}),[c,o,t]),i.a.createElement("svg",{ref:g})}var Dt,Ft=d.b.div(ut||(ut=Object(v.a)(["\n  width: 100%;\n  .last_ten{\n    stroke-width: 1.5px;\n    stroke: ",";\n  stroke-opacity: 1;}\n  .selectCircle{\n    stroke: ",";\n    stroke-width:3px;\n    filter: drop-shadow(0px 0px 5px ","); /* \u6dfb\u52a0\u9634\u5f71\u6548\u679c */\n    animation: glowAnimation 5s infinite;\n  }\n  @keyframes glowAnimation  {\n    0% { opacity: 1; }\n    25% { opacity: 0.7; }\n    50% { opacity: 1; }\n  }\n  .summary {\n    width: 100%;\n    display: inline-flex;\n    justify-content: space-between;\n    background: ",";\n    border-radius: 16px;\n    margin: 0px 0 20px;\n    .stats {\n      padding: 25px;\n      width: 20%;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      &:last-child {\n        &:after {\n          width: 0px;\n        }\n      }\n      &:after {\n        content: '';\n        height: 65px;\n        width: 1px;\n        background: ",';\n        position: absolute;\n        right: 0;\n        top: calc(50% - 32px);\n      }\n      .title {\n        display: flex;\n        align-items: center;\n        svg {\n          margin-left: 5px;\n          width: 18px;\n        }\n      }\n      .figure {\n        display: inline-flex;\n        margin: 16px 0;\n        align-items: baseline;\n        .numbers {\n          font-family: "Lato", sans-serif;\n          font-size: 40px;\n          color: #000000;\n          font-weight: 700;\n          margin-right: 10px;\n        }\n        .baseline-stats {\n            font-family: "Lato", sans-serif;\n            font-size: 28px;\n            color: ',";\n            font-weight: 700;\n         }\n      }\n      .badge {\n          padding: 3px 10px;\n          font-size: 12px;\n          font-weight: 700;\n          border-radius: 8px;\n          width: 50px;\n          display: flex;\n          align-items: center;\n          svg {\n            margin-right: 5px;\n          }\n          &.plus {\n            background: #e2f5e2;\n            color: ",";\n          }\n          &.minus {\n            background: #feeaea;\n            color:  ",";\n          }\n        }\n    }\n  }\n  .Mui-checked{\n    color:  "," !important;\n  }\n"])),(function(e){return e.theme.colors.grey[7]}),(function(e){return e.theme.colors.red}),(function(e){return e.theme.colors.red}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.grey[1]}),(function(e){return e.theme.colors.grey[5]}),(function(e){return e.theme.validationColors.success}),(function(e){return e.theme.validationColors.error}),(function(e){return e.theme.colors.turquoise[4]})),Nt=d.b.div(dt||(dt=Object(v.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  .chart {\n    background: ",";\n    box-sizing: border-box;\n    border-radius: 16px;\n    padding: 20px;\n    width: 64%;\n  \n  }\n  .sidebar {\n    width: 35%;\n    .metrics {\n      background: ",";\n      border-radius: 16px;\n      padding: 20px;\n      margin-bottom: 11px;\n      display: flex;\n      flex-direction: column;\n      .stats {\n        margin-bottom: 8px;\n        .title {\n          font-weight: bold;\n          color: ",";\n          margin-bottom: 2px;\n          .badge {\n            svg {\n              width: 14px;\n              height: 14px;\n            }\n            &.plus {\n              color: ","\n            }\n            &.minus {\n              color: ","\n            }\n          }\n        }\n        h2 {\n          margin: 0;\n        }\n      }\n    }\n    .options {\n      background: ",";\n      border-radius: 16px;\n      padding: 20px;\n      margin-bottom: 20px;\n      .MuiFormGroup-root {\n        margin: 10px 0 0;\n      }\n      .presets {\n        margin-bottom: 7px;\n        display: inline-flex;\n      }\n      .MuiRadio-root {\n        padding: 0 0 0 10px;\n        margin-right: 5px;\n      }\n    }\n    button {\n      width: 100% !important;\n    }\n  }\n"])),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.backgroundColors.dark}),(function(e){return e.theme.validationColors.success}),(function(e){return e.theme.validationColors.error}),(function(e){return e.theme.colors.white})),Ct=(d.b.div(pt||(pt=Object(v.a)(["\n  display: flex;\n  justify-content: space-between;\n  .box {\n    height: 250px;\n    overflow-y: scroll;\n    &.presets {\n      width: 40%;\n    }\n    &.chart {\n      width: 55%;\n    }\n    &.stats {\n      width: 15%;\n    }\n  }\n"]))),d.b.div(ht||(ht=Object(v.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 20px;\n  width: 100%;\n  box-sizing: border-box;\n  .full-chart {\n    box-sizing: border-box;\n    background: ",";\n    padding: 20px;\n    width: 100%;\n    border-radius: 16px;\n  }\n  .chart { \n    width: 49%;\n  \n    .section {\n      margin-bottom: 20px;\n      background: ",";\n      padding: 20px;\n      border-radius: 16px;\n      .MuiFormControl-root {\n        width: 100%;\n        .presets {\n          justify-content: flex-start;\n          label {\n            width: 35%;\n            margin-right: 0;\n          }\n        }\n      }\n    }\n  }\n  .bar-tooltip {\n    padding: 5px;\n    border-radius: 8px;\n    background: yellow;\n  }\n"])),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.white})),d.b.div(ft||(ft=Object(v.a)(["\n  display: inline-block;\n  @keyframes blink {\n      0% {\n        opacity: .2;\n      }\n      20% {\n        opacity: 1;\n      }\n      100% {\n        opacity: .2;\n      }\n  }\n\n  span {\n    font-size: 50px;\n    animation-name: blink;\n    animation-duration: 1.4s;\n    animation-iteration-count: infinite;\n    animation-fill-mode: both;\n  }\n\n  span:nth-child(2) {\n      animation-delay: .2s;\n  }\n\n  span:nth-child(3) {\n      animation-delay: .4s;\n  }\n"]))),n(195)),St=n.n(Ct),Tt=n(194);d.b.div(Dt||(Dt=Object(v.a)(["\n\n"])));function Lt(e){var t=e.classNames,n=e.children;return i.a.createElement(et,{onClick:function(){var e;e=t,Object(Tt.domToPng)(document.querySelector(".".concat(e))).then((function(t){var n=document.createElement("a");n.download="".concat(e,".jpg"),n.href=t,n.click()}))}},n,i.a.createElement(St.a,null))}function Pt(e){var t,n,r,o,l,c,s,u,d,p,f,m,v,g,b,y=e.optimizer,x=e.constraintsFileName,w=e.baseline,_=e.selectedPreset,E=e.setSelectedPreset,j=e.selectedResultIndex,k=e.setSelectedResultIndex,O=e.goNext,D=Object(a.useState)(Object.values(null===y||void 0===y||null===(t=y.project)||void 0===t?void 0:t.tasks).filter((function(e){return e.newFinish}))),F=Object(h.a)(D,2),N=F[0],C=F[1],S=Object.values(null===y||void 0===y||null===(n=y.plannedproject)||void 0===n?void 0:n.tasks),T=Object(a.useState)(null===y||void 0===y?void 0:y.plannedproject),L=Object(h.a)(T,2),P=L[0],R=L[1],I=Object(a.useState)(null===y||void 0===y||null===(r=y.project)||void 0===r||null===(o=r.settings)||void 0===o?void 0:o.optimizationSteps),M=Object(h.a)(I,2),A=M[0],z=M[1],B=Object(a.useState)(null===y||void 0===y?void 0:y.results),U=Object(h.a)(B,2),H=U[0],W=U[1],q=Object(a.useState)(Object.keys(H)),G=Object(h.a)(q,2),Y=G[0],V=G[1],X=Object(a.useState)(H[_]),J=Object(h.a)(X,2),K=J[0],Q=J[1],Z=Object(a.useState)(j),$=Object(h.a)(Z,2),ee=$[0],te=$[1],ne=null===(l=H[_])||void 0===l||null===(c=l.at(j))||void 0===c?void 0:c.output,re=ne?null===ne||void 0===ne?void 0:ne.projectDurationDays:0,ae=(Object.values(null===y||void 0===y||null===(s=y.project)||void 0===s?void 0:s.tasks),null===y||void 0===y||null===(u=y.planned)||void 0===u?void 0:u.criticalPath),ie=null===ne||void 0===ne?void 0:ne.criticalPath,oe=Object.values(null===y||void 0===y||null===(d=y.plannedproject)||void 0===d?void 0:d.resources);Object(a.useEffect)((function(){var e;C(Object.values(null===y||void 0===y||null===(e=y.project)||void 0===e?void 0:e.tasks)),setTimeout((function(){var e,t;j!==ee&&y.simulate(null===(t=K.at(j))||void 0===t?void 0:t.durationRatios);C(Object.values(null===y||void 0===y||null===(e=y.project)||void 0===e?void 0:e.tasks).filter((function(e){return void 0!==e.newDuration&&e.newDuration.data!==e.plannedDuration}))),te(j)}),0)}),[j]),Object(a.useEffect)((function(){if(void 0!==(null===y||void 0===y?void 0:y.results.Balanced))return null;setTimeout((function(){var e,t;y.optimizeDefaults(),k((null===K||void 0===K?void 0:K.length)-1),R(null===y||void 0===y?void 0:y.plannedproject),z(null===y||void 0===y||null===(e=y.project)||void 0===e||null===(t=e.settings)||void 0===t?void 0:t.optimizationSteps)}),100),setTimeout((function(){Q(null===y||void 0===y?void 0:y.results[_]),k((null===y||void 0===y?void 0:y.results[_].length)-1)}),500)}),[]),Object(a.useEffect)((function(){var e=setInterval((function(){W(null===y||void 0===y?void 0:y.results),V(Object.keys(null===y||void 0===y?void 0:y.results))}),100);return function(){return clearInterval(e)}}),[]),Object(a.useEffect)((function(){var e;Object.values(null===y||void 0===y||null===(e=y.plannedproject)||void 0===e?void 0:e.tasks).filter((function(e){return e.newFinish})).map((function(e){}))}),[]);var le=function(e,t){var n=(e&&t?e-t:0)/t*100,r=Math.sign(n);return 1===r?i.a.createElement("span",{className:"badge minus"},Math.abs(Math.round(100*n)/100),"%",i.a.createElement(gt.a,null)):-1===r?i.a.createElement("span",{className:"badge plus"},Math.abs(Math.round(100*n)/100),"%",i.a.createElement(yt.a,null)):i.a.createElement("span",{className:"badge"},Math.round(n),"%")};return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ft,null,i.a.createElement("h2",null,"Baseline Summary",i.a.createElement("div",{className:"chip primary"},i.a.createElement("small",null,null===y||void 0===y||null===(p=y.project)||void 0===p||null===(f=p.settings)||void 0===f?void 0:f.optimizationSteps," steps")),i.a.createElement("div",{className:"chip primary"},i.a.createElement("small",null,100*(null===y||void 0===y||null===(m=y.project)||void 0===m||null===(v=m.settings)||void 0===v?void 0:v.minDurationRatio),"% - ",100*(null===y||void 0===y||null===(g=y.project)||void 0===g||null===(b=g.settings)||void 0===b?void 0:b.maxDurationRatio),"% ratio"))),i.a.createElement(Nt,null,i.a.createElement("div",{className:"chart Comparison-Chart"},i.a.createElement("div",{className:"chart-title"},i.a.createElement("h4",{className:"chart-text"},"Comparison Chart"),i.a.createElement(Lt,{classNames:"Comparison-Chart"},"Download")),i.a.createElement("div",{className:"legend"},i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Baseline")),Y.map((function(e){return i.a.createElement("div",{key:e,className:"item ".concat("No file chosen"===x&&"Constraint Compliance"===e?"hidden":"")},i.a.createElement("div",{style:{width:"14px",height:"14px",background:xt.ComparisonPlot[e],marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,e))}))),i.a.createElement(Ot,{key:K,constraintsFileName:x,results:H||[],baselineResults:P||[],width:"750",steps:A,selectedPreset:_,selectedResultIndex:j,x_label:"Duration (days)",y_label:"Maximum Resource (units)",onClick:function(e,t){E(e),k(t)}})),i.a.createElement("div",{className:"sidebar"},i.a.createElement("div",{className:"metrics"},i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"title"},"Project Duration ",le(Math.round(re),Math.round(null===w||void 0===w?void 0:w.duration))),i.a.createElement("div",{className:"figure"},i.a.createElement("h2",null,Math.round(re),"\xa0",i.a.createElement("span",{className:"subtitle"},Math.round(null===w||void 0===w?void 0:w.duration)),"\xa0days"))),i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"title"},"Changed Tasks vs Total N of Tasks\xa0"),i.a.createElement("div",{className:"figure"},i.a.createElement("h2",null,null===N||void 0===N?void 0:N.length,"/",Math.round(null===S||void 0===S?void 0:S.length)))),i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"title"},"Tasks on Critical Path ",le(null===ie||void 0===ie?void 0:ie.length,null===ae||void 0===ae?void 0:ae.length)),i.a.createElement("div",{className:"figure"},i.a.createElement("h2",null,null===ie||void 0===ie?void 0:ie.length,"\xa0",i.a.createElement("span",{className:"subtitle"},null===ae||void 0===ae?void 0:ae.length)))),i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"title"},"Total Resources"),i.a.createElement("div",{className:"figure"},i.a.createElement("h2",null,null===oe||void 0===oe?void 0:oe.length)))),i.a.createElement("div",{className:"options"},i.a.createElement("h4",null,"Optimization Presets"),i.a.createElement("p",null,"These available presets are pre-configured settings that are designed to deliver the best performance or quality for each individual specific use case."),i.a.createElement(Me.a,{component:"fieldset"},i.a.createElement(mt.a,{value:_,onChange:function(e){E(e.target.value),k((null===y||void 0===y?void 0:y.results[e.target.value].length)-1)}},Y.map((function(e){return i.a.createElement("div",{key:e,className:"presets".concat("No file chosen"===x&&"Constraint Compliance"===e?" hidden":"")},i.a.createElement(ze.a,{disabled:H[e].length<10,value:e,control:i.a.createElement(Be.a,null),label:e}),i.a.createElement("div",{style:{fontSize:"12px",fontFamily:"Inter"}},function(e){switch(e){case"Balanced":return"Best combination of the others";case"Fastest":return"Shortest project duration";case"Minimum Resources":return"Least amount of required resources";case"Levelled Resources":return"Best resource distribution";case"Constraint Compliance":return"Satisfies all constraints";default:return""}}(e)))}))))),i.a.createElement($e,{variant:"contained",onClick:function(){k((null===y||void 0===y?void 0:y.results[_].length)-1),y.simulate(K.at(j).durationRatios),O()}},"Next")))))}var Rt=n(410),It=n(430);function Mt(e){var t=e.selectedColor,n=e.tasks,r=e.baselineTasks,o=e.width,c=e.height,s=e.color,u=e.keep,d=void 0===u?400:u,p=Object(a.useRef)();if(Object(a.useEffect)((function(){var e=Object.values(n).sort((function(e,t){var n,r;return(null===(n=e.newStart)||void 0===n?void 0:n.data)-(null===(r=t.newStart)||void 0===r?void 0:r.data)})),a=Object.values(r).sort((function(e,t){return e.plannedStart-t.plannedStart}));e.length>d&&(e=e.filter((function(e,t){return t<150})),a=a.filter((function(e,t){return t<150})));var u=[Math.min.apply(Math,Object(A.a)(Object.values(e).map((function(e){var t;return null===(t=e.newStart)||void 0===t?void 0:t.data})))),Math.max.apply(Math,Object(A.a)(Object.values(e).map((function(e){var t;return null===(t=e.newFinish)||void 0===t?void 0:t.data}))))],h=[Math.min.apply(Math,Object(A.a)(Object.values(e).map((function(e){return e.plannedStart})))),Math.max.apply(Math,Object(A.a)(Object.values(e).map((function(e){return e.plannedFinish}))))],f=[Math.min(u[0],h[0]),Math.max(h[1],u[1])];e=Et(e,d),a=Et(a,d);var m=[e.length,0],v=[a.length,0],g=jt({margin:40,x_domain:f,y_domain:[Math.max(m[0],v[0]),Math.min(m[1],v[1])],width:o||560,height:c||500,ref:p,x_type:wt.g,y_type:wt.f,types:["plannedData","newData"]}),b=g.svg,y=g.x_scale,x=g.y_scale;b.append("g").attr("class","clip").selectAll("rect").data(e).join("rect").attr("x",(function(e){return y(e.plannedStart)})).attr("y",(function(e,t){return x(t)})).attr("rx",8).attr("ry",8).attr("width",(function(e){return Math.max(y(e.plannedFinish)-y(e.plannedStart),0)})).attr("height",Math.max(x(1)-x(0)-.5-.5),0).attr("class","plannedData").attr("fill",(function(e){return e.critical?xt.TaskPlot.baselineCriticalTask:xt.TaskPlot.baselineTask})),b.append("g").attr("class","clip").selectAll("rect").data(e).join("rect").attr("x",(function(e){var t;return y(null===(t=e.newStart)||void 0===t?void 0:t.data)})).attr("y",(function(e,t){return x(t)})).attr("width",(function(e){var t,n;return Math.max(y(null===(t=e.newFinish)||void 0===t?void 0:t.data)-y(null===(n=e.newStart)||void 0===n?void 0:n.data),0)})).attr("height",Math.max(x(1)-x(0)-.5-.5),0).attr("rx",3).attr("ry",3).attr("fill",(function(e){return e.critical?xt.TaskPlot.optimizedCriticalTask:s||t})).attr("class","newData").on("mouseover",(function(e,t){var n=t.name,r=t.newDuration,a=i.a.createElement("div",{title:n,style:{background:"#eeeeee",position:"absolute",top:e.pageY,left:e.pageX+10,padding:"6px 8px",pointerEvents:"none",borderRadius:"8px"}},n,i.a.createElement("br",null),i.a.createElement("small",null,r.data," hours"));l.a.render(a,document.getElementById("tooltip"))})).on("mouseout",(function(){l.a.unmountComponentAtNode(document.getElementById("tooltip"))}))}),[n,r]),!r||!_t(r)||!n&&_t(n))return null;var h=_t(n)>d?"Chart is only showing up to 150 critical tasks as the project has ".concat(Object.values(n).sort((function(e,t){var n,r;return(null===(n=e.newStart)||void 0===n?void 0:n.data)-(null===(r=t.newStart)||void 0===r?void 0:r.data)})).length," tasks"):"";return i.a.createElement(i.a.Fragment,null,Object.values(n).sort((function(e,t){return e.start_2-t.start_2})).length>400?i.a.createElement(Rt.a,{sx:{margin:"20px 20px -20px"},severity:"info"},i.a.createElement(It.a,null,h)):"",i.a.createElement("div",{id:"tooltip"}),i.a.createElement("svg",{ref:p}))}var At,zt,Bt,Ut,Ht=n(104),Wt=n(3),qt=n(411),Gt=n(413),Yt=n(198),Vt=n.n(Yt),Xt=n(345),Jt=n(416),Kt=Object(d.b)(Xt.a)(At||(At=Object(v.a)(["\n  margin: 15px 0 10px;\n  flex-direction: row !important;\n  .MuiCheckbox-root {\n    &.Mui-checked {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.colors.turquoise[4]})),Qt=Object(d.b)(Jt.a)(zt||(zt=Object(v.a)(["\n  width: 300px;\n  display: inline-flex;\n  .MuiAutocomplete-inputRoot {\n    padding: 2px 4px 2px 9px !important;\n  }\n  .MuiInputLabel-root {\n    top: -7px;\n  }\n  .MuiInputBase-formControl {\n    border-radius: 8px !important;\n    fieldset {\n      border: 2px solid "," !important;\n    }\n  }\n"])),(function(e){return e.theme.colors.grey[2]})),Zt=d.b.div(Bt||(Bt=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  vertical-align: middle;\n  margin-top: 15px;\n  .MuiCheckbox-root {\n    padding: 0 !important;\n    &.Mui-checked {\n      color: ",";\n    }\n  }\n  .button {\n    display: flex;\n    align-items: center;\n    vertical-align: middle;\n    margin-right: 7px;\n    padding: 7px 12px;\n    border-radius: 8px;\n    border: 2px solid ",";\n    color: ",";\n    cursor: pointer;\n    min-width: 130px;\n    justify-content: center;\n    label {\n      cursor: pointer;\n    }\n    &:hover,\n    &:focus,\n    &.active {\n      border: 2px solid ",";\n    }\n    .MuiCheckbox-root {\n      padding: 0 4px 0 0;\n    }\n    svg {\n      margin-right: 3px;\n    }\n    label {\n      margin: 0;\n    }\n  }\n"])),(function(e){return e.theme.colors.turquoise[4]}),(function(e){return e.theme.colors.grey[2]}),(function(e){return e.theme.textColors.bodyText}),(function(e){return e.theme.textColors.bodyText})),$t=d.b.div(Ut||(Ut=Object(v.a)(["\n  width: 100%;\n  overflow: hidden;\n  position: absolute;\n  text-align: center;\n  bottom: -13px;\n  height: 30px;\n  background: -moz-linear-gradient(top, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%); /* FF3.6-15 */\n  background: -webkit-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(255,255,255,0) 100%); /* Chrome10-25,Safari5.1-6 */\n  background: linear-gradient(to bottom, rgba(255,255,255,1) 0%,rgba(255,255,255,0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#00ffffff',GradientType=0 ); /* IE6-9 */\n  button {\n    border: 1px solid #F0F1F3;\n    color: #424242;\n    box-shadow: 1px 1px 5px rgb(207 234 229 / 25%);\n    border-radius: 8px;\n    padding: 4px 10px;\n    background: #FFFFFF;\n    font-family: \"Inter\", \"Arial\", sans-serif;\n    font-size: 12px;\n  }\n"]))),en=function(e){var t=e.children,n=e.onLoadMore,r=Object(a.useState)(!1),o=Object(h.a)(r,2),l=o[0],c=o[1];return i.a.createElement($t,null,l?t:null,!l&&i.a.createElement("button",{onClick:function(){c(!0),n()}},"Load More"))};function tn(e){var t=e.base_results,n=e.new_results,r=e.base_resource_distribution,o=e.new_resource_distribution,c=(e.preset,e.filter),s=e.width,u=e.height,d=void 0===u?610:u,p=Object(a.useState)(!0),f=Object(h.a)(p,2),m=f[0],v=f[1],g=Object(a.useState)(!0),b=Object(h.a)(g,2),y=b[0],x=b[1],w=Object(a.useState)(null),_=Object(h.a)(w,2),E=_[0],j=_[1],k=Object(a.useState)(!1),O=Object(h.a)(k,2),D=O[0],F=O[1],N=Object(a.useState)(!0),C=Object(h.a)(N,2),S=C[0],T=C[1],L=Object(a.useRef)(),P=Object(a.useState)(n),R=Object(h.a)(P,2),I=R[0],M=R[1],A=Object(a.useState)(t),z=Object(h.a)(A,2),B=z[0],U=z[1],H=Object(a.useReducer)((function(e){return e+1}),0),W=Object(h.a)(H,2),q=W[0],G=W[1];Object(a.useEffect)((function(){if(o){var e=wt.e(o.map((function(e){return parseInt(e.x)}))),t=(wt.e(r.map((function(e){return parseInt(e.x)}))),new Date(e[0])),n=new Date(e[1]),a=Math.abs(n-t),c=Math.ceil(a/864e5),u=[e[0],new Date(n.setDate(n.getDate()+c/10))],p=(o.map((function(e){return parseInt(e.y)})),r.map((function(e){return parseInt(e.y)}))),h=wt.e(p.flat()),f=jt({x_domain:u,y_domain:h,width:s,height:d,ref:L,x_type:wt.g,y_type:wt.f,types:["Labor_data"]}),v=f.svg,g=f.x_scale,b=f.y_scale,x=v.append("g").attr("class","clip"),w=function(e){x.append("g").selectAll("rect").data(Object.entries(B[e].distribution.xy)).join("rect").attr("class","Labor_data").attr("x",(function(e){return g(e[0])})).attr("width",(function(e){return g(864e5)-g(0)-.1*(g(864e5)-g(0))-.1*(g(864e5)-g(0))})).attr("y",(function(e){return b(e[1].data)})).attr("height",(function(e){return b(h[0])-b(e[1].data)})).attr("fill",(function(t,n){return I[e].show_in_plot?"#E3E3E3":"none"})).attr("display",m?"block":"none").on("mouseover",(function(t,n){Object.keys(null===(r=B[e])||void 0===r||null===(a=r.distribution)||void 0===a?void 0:a.xy)[0],Object.keys(null===(o=B[e])||void 0===o||null===(c=o.distribution)||void 0===c?void 0:c.xy).at(-1);var r,a,o,c,s=i.a.createElement("div",{title:B[e].name,style:Object(Wt.a)({background:"#F0F1F3",border:"1px solid #B5B5B5",borderRadius:"8px",position:"absolute",top:t.pageY,left:t.pageX+10,padding:"6px 8px",pointerEvents:"none"},"borderRadius","8px")},B[e].name);l.a.render(s,document.getElementById("tooltip"))})).on("mouseout",(function(){l.a.unmountComponentAtNode(document.getElementById("tooltip"))}))};for(var _ in B)w(_);0;var E=function(e){x.append("g").selectAll("rect").data(Object.entries(I[e].distribution.xy)).join("rect").attr("class","Labor_data").attr("x",(function(e){return g(e[0])})).attr("width",(function(e){return g(864e5)-g(0)-.1*(g(864e5)-g(0))-.1*(g(864e5)-g(0))})).attr("y",(function(e){return b(e[1].data)})).attr("height",(function(e){return b(h[0])-b(e[1].data)})).attr("display",y?"block":"none").attr("fill",(function(t,n){return I[e].show_in_plot?I[e].color:"none"})).on("mouseover",(function(t,n){Object.keys(null===(r=I[e])||void 0===r||null===(a=r.distribution)||void 0===a?void 0:a.xy)[0],Object.keys(null===(o=I[e])||void 0===o||null===(c=o.distribution)||void 0===c?void 0:c.xy).at(-1);var r,a,o,c,s=i.a.createElement("div",{title:I[e].name,style:Object(Wt.a)({background:"#35383E",border:"1px solid #B5B5B5",borderRadius:"8px",color:"#FFFFFF",position:"absolute",top:t.pageY,left:t.pageX+10,padding:"6px 8px",pointerEvents:"none"},"borderRadius","8px")},I[e].name);l.a.render(s,document.getElementById("tooltip"))})).on("mouseout",(function(){l.a.unmountComponentAtNode(document.getElementById("tooltip"))}))};for(var j in I)E(j)}}),[o,q,y,m,S,I,B]);if(Object(a.useEffect)((function(){M(I.map((function(e){return Object(Ht.a)(Object(Ht.a)({},e),{},{show_in_plot:S})}))),U(B.map((function(e){return Object(Ht.a)(Object(Ht.a)({},e),{},{show_in_plot:S})})))}),[S]),!o)return null;var Y=Object(a.useState)(Object.values(I).length>50?56:35),V=Object(h.a)(Y,2),X=V[0],J=V[1],K=Object.values(I).length-X,Q=Object.values(I).filter((function(e){return e.type===c})).slice(0,X).map((function(e,t){return void 0===e.name?" ":e.name}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(Kt,null,i.a.createElement(ze.a,{control:i.a.createElement(qt.a,{checked:y,onClick:function(){return x(!y)}}),label:"Show Optimized"}),i.a.createElement(ze.a,{control:i.a.createElement(qt.a,{checked:m,onClick:function(){return v(!m)}}),label:"Show Baseline"})),i.a.createElement("svg",{ref:L}),i.a.createElement("div",{id:"tooltip"}),I?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row"},i.a.createElement("h4",null,c," Legend")),i.a.createElement(Zt,null,i.a.createElement("div",{className:"button ".concat(S?"active":"")},i.a.createElement("label",{htmlFor:"select"},i.a.createElement(qt.a,{checked:S,id:"select",name:"select",onChange:function(e,t){return T(t)}}),S?"Deselect All":"Select All")),i.a.createElement("div",{className:"button ".concat(D?"active":""),onClick:function(){return F(!D)}}," ",i.a.createElement(Vt.a,null)," Sort"),i.a.createElement(Qt,{id:"resources-search",value:E,onChange:function(e,t){return j(t)},options:Q,renderInput:function(e){return i.a.createElement(Gt.a,Object.assign({},e,{label:"Type to search..."}))}})),i.a.createElement("div",{className:"legend"},Object.values(I).filter((function(e){return e.type===c})).sort((function(e,t){if(D)return e.name.localeCompare(t.name)})).filter((function(e){return E?e.name===E:null===E?e:void 0})).slice(0,X).map((function(e,t){return i.a.createElement("div",{key:e+" "+t,className:"item resources",style:{opacity:(null===e||void 0===e?void 0:e.show_in_plot)?"100%":"50%",cursor:"pointer"},onClick:function(t,n){!function(e){I.filter((function(t){return t.id===e})).map((function(e){return e.show_in_plot=!e.show_in_plot})),B.filter((function(t){return t.id===e})).map((function(e){return e.show_in_plot=!e.show_in_plot})),G()}(e.id)}},i.a.createElement("div",{style:{width:"14px",height:"14px",background:null===e||void 0===e?void 0:e.color,marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,(n=e.name,r=20,n?n.length<=r?n:n.substring(0,r)+"...":"")));var n,r})),Object.values(I).filter((function(e){return e.type===c})).length>X&&i.a.createElement(en,{onLoadMore:function(){J((function(e){return e+K}))}},i.a.createElement("button",null,"Load More")))):"")}var nn,rn,an,on=n(422),ln=d.b.div(nn||(nn=Object(v.a)(["\n  width: 100%;\n  \n  .Task_container {\n    display: flex;\n    justify-content: space-around;\n    \n    align-items: center;\n    .Task_right {\n      overflow-x: scroll;\n      width: 70%;\n      height: 600px;\n      ::-webkit-scrollbar {\n        width: 10px;\n        height: 16px;\n        background-color: #F6F6F6;\n      }\n\n      /*\u5b9a\u4e49\u6eda\u52a8\u6761\u8f68\u9053 \u5185\u9634\u5f71+\u5706\u89d2*/\n      ::-webkit-scrollbar-track {\n        -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n        border-radius: 10px;\n        background-color: #F6F6F6;\n      }\n\n      /*\u5b9a\u4e49\u6ed1\u5757 \u5185\u9634\u5f71+\u5706\u89d2*/\n      ::-webkit-scrollbar-thumb {\n        border-radius: 10px;\n        background-color: #DCDCDC;\n      }\n    }\n    .Task_left {\n      width: 350px;\n      height: 600px;\n      overflow-x: hidden;\n      overflow-y: scroll;\n      scrollbar-width: thin; /* \u53ef\u9009\uff1a\u81ea\u5b9a\u4e49\u6eda\u52a8\u6761\u5bbd\u5ea6 */\n      box-shadow: 10px 10px 5px #F0F1F3;\n      .Task_item{\n      margin-top:10px;\n      display:flex;\n      align-items: center;\n      border-bottom: 1px solid black\n      }\n      ::-webkit-scrollbar {\n        width:0;\n      }\n    }\n  }\n  .Task_title{\n    position: sticky;\n    top: 0;\n    background-color: white;\n  }\n  .resize::-webkit-scrollbar {\n    width: 10px;\n    height: inherit;\n  }\n  \n  .resize {\n    position: sticky;\n    top: 0;\n    min-width: 280px;\n    max-width: 900px;\n    overflow: scroll;\n    height: 600px;\n    // background: red;\n    opacity: 0;\n    resize: horizontal;\n  }\n  .realContent{\n  position:absolute;\n  top:0;\n  }\n  .Task_L_content{\n  position:relative;\n  \n}\n  .summary {\n    width: 100%;\n    display: inline-flex;\n    justify-content: space-between;\n    background: ",';\n    border-radius: 16px;\n    margin: 0 0 30px;\n    .stats {\n      padding: 25px;\n      width: 20%;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      &:last-child {\n        &:after {\n          width: 0px;\n        }\n      }\n      &:after {\n        content: "";\n        height: 65px;\n        width: 1px;\n        background: ',';\n        position: absolute;\n        right: 0;\n        top: calc(50% - 32px);\n      }\n      .title {\n        display: flex;\n        align-items: center;\n        svg {\n          margin-left: 5px;\n          width: 18px;\n        }\n      }\n      .figure {\n        display: inline-flex;\n        margin: 16px 0;\n        align-items: baseline;\n        .numbers {\n          font-family: "Lato", sans-serif;\n          font-size: 40px;\n          color: #000000;\n          font-weight: 700;\n          margin-right: 10px;\n        }\n        .baseline-stats {\n          font-family: "Lato", sans-serif;\n          font-size: 28px;\n          color: ',';\n          font-weight: 700;\n        }\n      }\n      .badge {\n        font-size: 12px;\n        font-weight: 700;\n        border-radius: 8px;\n        font-family: "Lato";\n        width: 60px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: #f2f2f2;\n        svg {\n          margin-right: 5px;\n        }\n        &.plus {\n          background: #e2f5e2;\n          color: #499249;\n        }\n        &.minus {\n          background: #feeaea;\n          color: #ff4d4d;\n        }\n      }\n    }\n  }\n'])),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.grey[1]}),(function(e){return e.theme.colors.grey[5]})),cn=d.b.div(rn||(rn=Object(v.a)(["\n  height: auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 20px;\n  width: 100%;\n  box-sizing: border-box;\n  &.multi-charts {\n    flex-wrap: wrap;\n    .div {\n      flex: 1 0 45%;\n      &:first-child {\n        flex: 0 1 100%;\n      }\n    }\n  }\n  &.full-charts {\n    display: block !important;\n    margin-bottom: 20px;\n  }\n  .chart {\n    margin-bottom: 20px;\n    background: ",";\n    border-radius: 16px;\n    padding: 20px;\n    width: 46%;\n  }\n  .full-chart {\n    box-sizing: border-box;\n    margin-bottom: 20px;\n    background: ",";\n    border-radius: 16px;\n    padding: 20px;\n    width: 100%;\n    border-radius: 16px;\n  }\n"])),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.white})),sn=(Object(d.b)(on.a)(an||(an=Object(v.a)(["\n  margin: 15px 0 10px;\n  button {\n    width: 50%;\n  }\n"]))),function(e,t,n){var r=(e-t)/t*100,a=Math.sign(r);return 1===a?i.a.createElement("span",{className:"badge minus"},Math.round(r),"%"):-1===a?i.a.createElement("span",{className:"badge plus"},n?100-Math.abs(Math.round(r)):Math.abs(Math.round(r)),"%"):i.a.createElement("span",{className:"badge"},Math.round(r),"%")});function un(e){var t,n,r,o,l,c,s,u,d,p,f,m,v=e.baseline,g=e.optimizer,b=e.results,y=e.selectedPreset,x=e.selectedResultIndex,w=e.goPrev,_=e.goNext,E=Object(a.useState)(Object.values(g.project.tasks).filter((function(e){return e.newFinish}))),j=Object(h.a)(E,2),k=j[0],O=j[1],D=Object(a.useState)(Object.values(g.project.tasks).filter((function(e){return e.newFinish}))),F=Object(h.a)(D,2),N=F[0],C=(F[1],Object.values(g.plannedproject.tasks).filter((function(e){return e.newFinish}))),S=b[y],T=null===(t=b[y])||void 0===t||null===(n=t.at(x))||void 0===n?void 0:n.output,L=null===v||void 0===v?void 0:v.duration,P=null===T||void 0===T?void 0:T.projectDurationDays,R=Object.values(null===g||void 0===g||null===(r=g.plannedproject)||void 0===r?void 0:r.resources),I=Object.values(null===g||void 0===g||null===(o=g.project)||void 0===o?void 0:o.resources),M=Object.values(null===g||void 0===g||null===(l=g.project)||void 0===l?void 0:l.tasks),A=null===g||void 0===g||null===(c=g.planned)||void 0===c?void 0:c.criticalPath,z=M.filter((function(e){return void 0!==e.critical&&e.critical})).map((function(e){return e})),B={labor:{base:[],new:[]},material:{base:[],new:[]},labor_resource_distribution:{base:[],new:[]},material_resource_distribution:{base:[],new:[]}};return I&&I.forEach((function(e,t){"labor"===e.type.toLowerCase()&&(B.labor.new.push({name:e.name,distribution:e.distribution,id:e.id,type:e.type,show_in_plot:!0,color:xt.ResourcePlot.allResources[t%xt.ResourcePlot.allResources.length]}),e.distribution&&Object.entries(e.distribution.xy).map((function(e){var t=Object(h.a)(e,2),n=t[0],r=t[1];return B.labor_resource_distribution.new.push({x:n,y:r.data})}))),"material"===e.type.toLowerCase()&&(B.material.new.push({name:e.name,distribution:e.distribution,id:e.id,type:e.type,show_in_plot:!0,color:xt.ResourcePlot.allResources[t%xt.ResourcePlot.allResources.length]}),e.distribution&&Object.entries(e.distribution.xy).map((function(e){var t=Object(h.a)(e,2),n=t[0],r=t[1];return B.material_resource_distribution.new.push({x:n,y:r.data})})))})),R&&R.forEach((function(e){"labor"===e.type.toLowerCase()&&(B.labor.base.push({name:e.name,distribution:e.distribution,id:e.id,type:e.type,show_in_plot:!0}),e.distribution&&Object.entries(e.distribution.xy).map((function(e){var t=Object(h.a)(e,2),n=t[0],r=t[1];return B.labor_resource_distribution.base.push({x:n,y:r.data})}))),"material"===e.type.toLowerCase()&&(B.material.base.push({name:e.name,distribution:e.distribution,id:e.id,type:e.type,show_in_plot:!0}),e.distribution&&Object.entries(e.distribution.xy).map((function(e){var t=Object(h.a)(e,2),n=t[0],r=t[1];return B.material_resource_distribution.base.push({x:n,y:r.data})})))})),Object(a.useEffect)((function(){var e;O(Object.values(null===g||void 0===g||null===(e=g.project)||void 0===e?void 0:e.tasks).filter((function(e){return void 0!==e.newDuration&&e.newDuration.data!==e.plannedDuration})))}),[S]),Object(a.useEffect)((function(){window.scrollTo({top:0,left:0})}),[]),i.a.createElement(ln,null,i.a.createElement("h2",null,"Overview \xa0",i.a.createElement("span",{style:{textTransform:"capitalize",color:xt.ComparisonPlot[y]}},y),i.a.createElement("div",{className:"chip primary"},i.a.createElement("small",null,S.length," steps")),i.a.createElement("div",{className:"chip primary"},i.a.createElement("small",null,100*(null===g||void 0===g||null===(s=g.project)||void 0===s||null===(u=s.settings)||void 0===u?void 0:u.minDurationRatio),"% - ",100*(null===g||void 0===g||null===(d=g.project)||void 0===d||null===(p=d.settings)||void 0===p?void 0:p.maxDurationRatio),"% ratio"))),i.a.createElement("div",{className:"summary"},i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"title"},"Project Duration (days)"),i.a.createElement("div",{className:"figure"},i.a.createElement("div",{className:"numbers"},Math.round(P)," "),i.a.createElement("div",{className:"baseline-stats"},Math.round(L))),sn(P,L)),i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"title"},"Tasks"),i.a.createElement("div",{className:"figure"},i.a.createElement("div",{className:"numbers"},Math.round(null===k||void 0===k?void 0:k.length)," "),i.a.createElement("div",{className:"baseline-stats"},Math.round(Object.values(null===v||void 0===v?void 0:v.tasks).length)," ")),sn(null===k||void 0===k?void 0:k.length,Object.values(null===v||void 0===v?void 0:v.tasks).length,!0)),i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"title"},"Tasks on Critical Path"),i.a.createElement("div",{className:"figure"},i.a.createElement("div",{className:"numbers"},Math.round(z.length)," "),i.a.createElement("div",{className:"baseline-stats"},Math.round(A.length),"  ")),sn(A.length,z.length))),S?i.a.createElement(cn,{className:"multi-charts"},i.a.createElement("div",{className:"full-chart Tasks-chart"},i.a.createElement("div",{className:"chart-title"},i.a.createElement("h3",{className:"chart-text"},"Tasks (Overview)"),i.a.createElement(Lt,{classNames:"Tasks-chart"},"Download")),i.a.createElement("span",{className:"subtitle"},"Overview of all tasks over time"),i.a.createElement("div",{className:"legend"},i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:xt.ComparisonPlot[y],marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Optimized")),i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Baseline"))),k?i.a.createElement(Mt,{tasks:N||[],width:"1150",height:"600",color:xt.ComparisonPlot[y],baselineTasks:C||[],title:"Tasks (Overview)"}):"No data"),i.a.createElement("div",{className:"full-chart Labor-Resources-chart"},i.a.createElement("div",{className:"chart-title"},i.a.createElement("h4",{className:"chart-text"},"Labor Resources"),i.a.createElement(Lt,{classNames:"Labor-Resources-chart"},"Download")),i.a.createElement("div",{className:"row "},i.a.createElement("div",null,i.a.createElement("span",{className:"subtitle"},"Total utilization of multiple resources over time"))),B.labor_resource_distribution?i.a.createElement(tn,{width:"1150",selectedResultIndex:x,base_results:B.labor.base,new_results:B.labor.new,base_resource_distribution:B.labor_resource_distribution.base,new_resource_distribution:B.labor_resource_distribution.new,filter:"Labor",title:"Labor Resources"}):"No data"),0===(null===B||void 0===B||null===(f=B.material)||void 0===f||null===(m=f.base)||void 0===m?void 0:m.length)?"":i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"full-chart"},i.a.createElement("div",{className:"row"},i.a.createElement("div",null,i.a.createElement("h3",null,"Material Resources"),i.a.createElement("span",{className:"subtitle"},"Total utilization of multiple resources over time"))),B.material_resource_distribution?i.a.createElement(tn,{width:"1150",selectedResultIndex:x,base_results:B.material.base,new_results:B.material.new,base_resource_distribution:B.material_resource_distribution.base,new_resource_distribution:B.material_resource_distribution.new,filter:"Material",title:"Material Resources"}):"No data"))):"",i.a.createElement("div",{className:"row"},i.a.createElement(tt,{variant:"contained",onClick:w},"Back"),i.a.createElement($e,{variant:"contained",onClick:_},"View Detailed Report")))}var dn,pn=n(403),hn=d.b.div(dn||(dn=Object(v.a)(['\n  .MuiDataGrid-main {\n    font-family: "Inter"\n  }\n'])));function fn(e){var t=e.rows,n=e.columns,r=e.hidden_columns,a=t.length>3?500:300,o={columns:{columnVisibilityModel:r}};return i.a.createElement(hn,null,i.a.createElement("div",{style:{height:a,width:"100%"}},i.a.createElement(pn.a,{rows:t,columns:n,initialState:o})))}function mn(e){var t=e.dist,n=e.color,r=e.width,o=void 0===r?560:r,l=e.height,c=void 0===l?500:l,s=e.keep,u=void 0===s?1e3:s,d=Object(a.useRef)();return Object(a.useEffect)((function(){if(t){var e=Et(Object.entries(t),u),r=wt.e(Object.keys(t).map((function(e){return Number(e)}))),a=wt.e(Object.values(t).map((function(e){return e.data}))),i=kt(r,a,.01,.01),l=jt({x_domain:i.x_domain,y_domain:i.y_domain,width:o,height:c,ref:d,x_label:"time",y_label:"units",x_type:wt.g,y_type:wt.f,types:["Resources_data"]}),s=l.svg,p=l.x_scale,h=l.y_scale;s.append("g").attr("class","clip").selectAll("rect").data(e).join("rect").attr("class","Resources_data").attr("x",(function(e){return p(e[0])})).attr("width",p(864e5)-p(0)).attr("y",(function(e){return h(e[1].data)})).attr("height",(function(e){return h(a[0])-h(e[1].data)+20})).attr("fill",n)}}),[t]),t?i.a.createElement("svg",{ref:d}):null}function vn(e){var t=e.results,n=e.name,r=(e.x_axis,e.x_label),o=e.y_label,l=e.width,c=void 0===l?550:l,s=e.height,u=void 0===s?400:s,d=(e.keep,e.onClick),p=e.selectedResultIndex,h=Object(a.useRef)();return Object(a.useEffect)((function(){if(!(null===t||void 0===t?void 0:t.length))return null;var e=t;e.forEach((function(e,t){return e.idx=t}));var a=Object.values(t).flat().map((function(e){return e.output.laborDistribution.max})),i=kt(wt.e([1,e.length]),wt.e("projectDurationDays"===n?e.map((function(e){return e.output[n]})):"loss"===n?e.map((function(e){return e.loss})):"criticalPath"===n?e.map((function(e){return e.output.criticalPath.length})):a),.1,.05),l=jt({margin:40,x_domain:i.x_domain,y_domain:i.y_domain,width:c,height:u,ref:h,x_label:r||"Optimization steps",y_label:o,x_type:wt.f,y_type:wt.f,types:["step_data"],name:n}),s=l.svg,f=l.x_scale,m=l.y_scale;s.append("g").attr("class","clip").selectAll("circle").data(e).join("circle").attr("class","step_data").attr("cx",(function(e){return f(e.idx)})).attr("cy",(function(e){return m("laborDistribution"===n?e.output[n].max:"loss"===n?e.loss:"criticalPath"===n?e.output.criticalPath.length:e.output[n])})).attr("r",(function(e,t){return t===p?6:3})).style("cursor",(function(e){return"baseline"===e.option?"auto":"pointer"})).attr("fill",(function(e,t){return e.output.constraintLoss>0?t===p?"#db4444":"#cccccc":t===p?"#db4444":"#00beae"})).on("click",(function(e,t){d(t.idx)}))}),[t,p]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"legend"},i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#e61717",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Step Selected")),i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#00beae",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Constraints Satisfied")),i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Constraints Violated"))),i.a.createElement("svg",{ref:h}))}var gn,bn,yn,xn=n(432),wn=d.b.div(gn||(gn=Object(v.a)(["\n  background: ",";\n  margin-bottom: 40px;\n  padding: 20px;\n   border-radius: 16px;\n  .circle {\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    background-color: ",";\n    margin: 0 auto;\n    &.critical {\n      background-color:  ",";\n    }\n  }\n  .MuiDataGrid-columnHeaders {\n    background: ",";\n  }\n"])),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.grey[1]}),(function(e){return e.theme.colors.red}),(function(e){return e.theme.colors.grey[0]}));Object(d.b)(xn.a)(bn||(bn=Object(v.a)(["\n  border: 1px solid ",";\n  border-radius: 6px;\n  thead {\n    tr {\n      background: ",";\n      > th {\n        font-weight: bold;\n        color: #",";\n      }\n    }\n  }\n  .MuiTableSortLabel-icon {\n    opacity: 1;\n  }\n\n"])),(function(e){return e.theme.colors.grey[1]}),(function(e){return e.theme.colors.grey[0]}),(function(e){return e.theme.textColors.body})),n(199),n(152);function _n(e){var t,n,r,o,l,c,s,u=e.optimizer,d=e.reader,p=e.selectedPreset,f=e.selectedResultIndex,m=e.handleSelectResultIndex,v=e.goPrev,g=Object(a.useState)(!1),b=Object(h.a)(g,2),y=b[0],x=b[1],w=null===u||void 0===u?void 0:u.results[p],_=Object(a.useState)(Object.values(null===u||void 0===u||null===(t=u.project)||void 0===t?void 0:t.tasks)),E=Object(h.a)(_,2),j=E[0],k=(E[1],Object(a.useState)(Object.values(null===u||void 0===u||null===(n=u.project)||void 0===n?void 0:n.resources))),O=Object(h.a)(k,2),D=O[0],F=(O[1],null===u||void 0===u?void 0:u.results[p]),N=Object.values(null===u||void 0===u||null===(r=u.project)||void 0===r?void 0:r.tasks).filter((function(e){return void 0!==e.newDuration&&e.newDuration.data!==e.plannedDuration})),C=N&&N.map((function(e){var t=e.critical,n=e.id,r=e.code,a=e.name,i=e.plannedDuration,o=e.newDuration,l=(e.resources,((null===o||void 0===o?void 0:o.data)/i).toFixed(2));return{id:n,critical:t,name:a,code:r,old_duration:"".concat(i," hours"),new_duration:"".concat(null===o||void 0===o?void 0:o.data," hours"),ratio:l}})),S=[{field:"critical",headerName:"Critical",width:80,renderCell:function(e){return e.value?i.a.createElement("div",{className:"circle critical"}):i.a.createElement("div",{className:"circle"})}},{field:"code",headerName:"Code",width:180,renderCell:function(e){return i.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"id",headerName:"ID",hide:!0},{field:"name",headerName:"Name",width:500,renderCell:function(e){return i.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial",wordWrap:"break-word"}},e.value)}},{field:"old_duration",headerName:"Duration (Baseline)",width:150},{field:"new_duration",headerName:"Duration (New)",width:150},{field:"ratio",headerName:"Ratio",width:50}];D.map((function(e){var t;return void 0!==e.newDuration&&e.plannedDuration!==(null===(t=e.newDuration)||void 0===t?void 0:t.data)}));var T=D&&D.map((function(e){var t,n,r=e.name,a=e.id,i=e.type,o=e.code,l=e.distribution;return{name:r,id:a,type:i,code:o,dist:Math.round(Object.values(l.xy).map((function(e){return e.data})).reduce((function(e,t){return e+t}),0)),max:Math.round(null===(t=l.max)||void 0===t?void 0:t.data),std:Math.round(null===(n=l.span)||void 0===n?void 0:n.data)}})),L=[{field:"id",headerName:"ID",width:80},{field:"code",headerName:"code",width:160},{field:"type",headerName:"type",width:100},{field:"name",headerName:"Name",width:400,renderCell:function(e){return i.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"dist",headerName:"Distribution",width:130},{field:"max",headerName:"Max ",width:130},{field:"std",headerName:"Span",width:130}],P=[];N&&N.map((function(e){Object.values(e.resources).map((function(t){var n,r,a=Object.values(D).filter((function(e){return e.id===t.resourceId})).map((function(e){return e.name}));P.push({critical:e.critical,task_name:e.name,task_code:e.code,task_id:e.id,resource_id:t.resourceId,resource_name:a.toString(),planned_duration:e.plannedDuration,new_duration:null===(n=e.newDuration)||void 0===n?void 0:n.data,units_new_per_hour:null===(r=t.newUnitsPerHour)||void 0===r?void 0:r.data,planned_units:t.plannedUnits,planned_units_per_hour:t.plannedUnitsPerHour})}))}));var R=P&&P.map((function(e,t){var n=e.critical,r=e.task_code,a=(e.task_id,e.task_name),i=e.resource_name,o=(e.resource_id,e.planned_duration),l=e.new_duration,c=e.units_new_per_hour,s=e.planned_units,u=e.planned_units_per_hour;return{critical:n,t_id:r,id:t,resource_name:i,t_name:a,new_units_per_hour:null===c||void 0===c?void 0:c.toFixed(2),old_duration:"".concat(o," hours"),new_duration:"".concat(l," hours"),planned_units:"".concat(s),planned_units_per_hour:null===u||void 0===u?void 0:u.toFixed(2)}})),I=[{field:"critical",headerName:"Critical",width:80,renderCell:function(e){return e.value?i.a.createElement("div",{className:"circle critical"}):i.a.createElement("div",{className:"circle"})}},{field:"id",headerName:"ID",width:0,hide:!0},{field:"t_id",headerName:"Task Code",width:180,renderCell:function(e){return i.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"resource_name",headerName:"Resource Name",width:200,renderCell:function(e){return i.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"t_name",headerName:"Task Name",width:350,renderCell:function(e){return i.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"old_duration",headerName:"Duration (Old)",width:130},{field:"new_duration",headerName:"Duration (New)",width:130},{field:"planned_units_per_hour",headerName:"Units (Old)",width:150},{field:"new_units_per_hour",headerName:"Units (New)",width:150},{field:"planned_units",headerName:"Total Planned Units",width:130}];return Object(a.useEffect)((function(){window.scrollTo({top:0,left:0})}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row"},i.a.createElement("h2",null,"Detailed Report\xa0",i.a.createElement("span",{style:{textTransform:"capitalize",color:xt.ComparisonPlot[p]}},p),i.a.createElement("div",{className:"chip primary"},i.a.createElement("small",null,F.length," steps")),i.a.createElement("div",{className:"chip primary"},i.a.createElement("small",null,100*(null===u||void 0===u||null===(o=u.project)||void 0===o||null===(l=o.settings)||void 0===l?void 0:l.minDurationRatio),"% - ",100*(null===u||void 0===u||null===(c=u.project)||void 0===c||null===(s=c.settings)||void 0===s?void 0:s.maxDurationRatio),"% ratio"))),i.a.createElement(et,{onClick:function(){return x(!0)},variant:"contained"},"Export Report")),i.a.createElement(at,null,i.a.createElement(wn,null,i.a.createElement("div",{className:"row"},i.a.createElement("h3",null,"Changed Tasks (Overview)")),i.a.createElement("div",{className:"legend",style:{width:"400px",justifyContent:"flex-start",marginBottom:"20px"}},i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginRight:"10px"}},i.a.createElement("div",{className:"circle critical"})," Critical"),i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},i.a.createElement("div",{className:"circle"})," Non-Critical")),j?i.a.createElement(fn,{rows:C,columns:S}):"Please select a Optimization Preset before generating your report"),i.a.createElement(wn,null,i.a.createElement("h3",null,"All Resources"),i.a.createElement("br",null),D?i.a.createElement(fn,{rows:T,columns:L}):"Please select a Optimization Preset before generating your report"),i.a.createElement(wn,null,i.a.createElement("h3",null,"Task-Resources"),i.a.createElement("br",null),P?i.a.createElement(fn,{rows:R,columns:I}):"Please select a Optimization Preset before generating your report"),i.a.createElement(i.a.Fragment,null,i.a.createElement(cn,{className:"multi-charts"},i.a.createElement("div",{className:"row"},i.a.createElement("h2",null,"Optimization Iteration Charts")),i.a.createElement("div",{className:"chart Project-Duration-chart"},i.a.createElement("div",{className:"chart-title"},i.a.createElement("h4",{className:"chart-text"},"Project Duration"),i.a.createElement(Lt,{classNames:"Project-Duration-chart"},"Download")),i.a.createElement(vn,{key:F,results:w,name:"projectDurationDays",x_axis:!0,x_label:"Optimization steps",y_label:"Duration (days)",onClick:function(e){m(e)},selectedResultIndex:f})),i.a.createElement("div",{className:"chart Maximum-Labour-Resources-chart"},i.a.createElement("div",{className:"chart-title"},i.a.createElement("h4",{className:"chart-text"},"Maximum Labour Resources"),i.a.createElement(Lt,{classNames:"Maximum-Labour-Resources-chart"},"Download")),i.a.createElement(vn,{results:w,name:"laborDistribution",x_axis:!0,x_label:"Optimization steps",y_label:"Maximum Resources",onClick:function(e){m(e)},selectedResultIndex:f})),i.a.createElement("div",{className:"chart CriticalPath-Tasks-chart"},i.a.createElement("div",{className:"chart-title"},i.a.createElement("h4",{className:"chart-text"},"Critical Path Tasks"),i.a.createElement(Lt,{classNames:"CriticalPath-Tasks-chart"},"Download")),i.a.createElement(vn,{key:w,results:w,name:"criticalPath",x_axis:!0,x_label:"Optimization steps",y_label:"Number of tasks",onClick:function(e){m(e)},selectedResultIndex:f})),i.a.createElement("div",{className:"chart Loss-Function-chart"},i.a.createElement("div",{className:"chart-title"},i.a.createElement("h4",{className:"chart-text"},"Loss Function "),i.a.createElement(Lt,{classNames:"Loss-Function-chart"},"Download")),i.a.createElement(vn,{results:w,name:"loss",x_axis:!0,x_label:"Optimization steps",y_label:"Loss function",onClick:function(e){m(e)},selectedResultIndex:f}))),i.a.createElement(cn,{className:"multi-charts"},i.a.createElement("div",{className:"row"},i.a.createElement("h2",null,"Resources Plots")),Object.values(D||{}).map((function(e,t){return 0===Object.keys(e.distribution.xy).length?null:i.a.createElement("div",{key:e.id,className:"chart ".concat(e.name.replaceAll(" ","-").replace(".",""),"-chart")},i.a.createElement("div",{className:"chart-title"},i.a.createElement("h4",{className:"chart-text"},"(".concat(e.type,") ").concat(e.name)),i.a.createElement(Lt,{classNames:e.name.replaceAll(" ","-").replace(".","")+"-chart"},"Download")),i.a.createElement(mn,{dist:e.distribution.xy,title:"(".concat(e.type,") ").concat(e.name),color:xt.ResourcePlot.allResources[t%xt.ResourcePlot.allResources.length]}))})))),i.a.createElement("div",{className:"row"},i.a.createElement(tt,{variant:"contained",onClick:v},"Back"),i.a.createElement($e,{onClick:function(){return x(!0)},variant:"contained"},"Export Report"))),i.a.createElement(Ke,{isLoading:y,onClose:function(){return x(!1)},title:"Export Optimized File",content:i.a.createElement("div",{className:"row"},i.a.createElement($e,{onClick:function(){d.exportToOriginal(null===u||void 0===u?void 0:u.project)},variant:"contained"},"Original Format")," \xa0",i.a.createElement($e,{onClick:function(){u&&u.exportToExcel()},variant:"contained"},"Excel"))}))}var En,jn=d.b.div(yn||(yn=Object(v.a)(["\n  width: 100%;\n  box-sizing: border-box;\n  .content {\n    margin: 20px auto;\n    width: 1200px;\n    max-width: 100%;\n    border-radius: 6px;\n    box-sizing: border-box;\n    .legend {\n      display: flex;\n      justify-content: flex-start;\n      align-items: flex-start;\n      position: relative;\n      font-size: ",";\n      width: 100%;\n      margin-top: 20px;\n      flex-wrap: wrap;\n      &:has(.resources) {\n        margin-bottom: 30px;\n      }\n      .item {\n        display: flex; \n        justify-content: flex-start;\n        align-items: center;\n        margin-right: 23px;\n        &.resources {\n          width: 14%;\n          margin-right: 0 !important;\n        }\n      }\n      .circle {\n        margin-right: 5px;\n      }\n    }\n    \n    .chip { \n      display: inline-flex;\n      border-radius: 16px;\n      padding: 0 12px;\n      white-space: nowrap;    \n      font-weight: normal;\n      background: ",";\n      margin: 0 5px;\n      &.primary {\n        color: ",";\n        background: ",";\n      }\n    }\n  }\n"])),(function(e){return e.theme.fontSizes.xxs}),(function(e){return e.theme.colors.grey[2]}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.turquoise[4]})),kn=["Input Data","Baseline Summary","Optimized Summary","Optimized Report"];function On(){var e,t,n,r,o,l,c=Object(a.useState)(0),s=Object(h.a)(c,2),u=s[0],d=s[1],p=Object(a.useState)(null),f=Object(h.a)(p,2),m=f[0],v=f[1],g=Object(a.useState)(null),b=Object(h.a)(g,2),x=b[0],w=b[1],_=Object(a.useState)(null),E=Object(h.a)(_,2),j=E[0],k=E[1],O=Object(a.useState)(!1),D=Object(h.a)(O,2),F=D[0],N=D[1],C=Object(a.useState)("Balanced"),S=Object(h.a)(C,2),T=S[0],L=S[1],P=Object(a.useState)(-1),R=Object(h.a)(P,2),M=R[0],A=R[1],z=Object(a.useState)(),B=Object(h.a)(z,2),U=B[0],H=B[1],W=Object(a.useState)("No file chosen"),q=Object(h.a)(W,2),G=q[0],Y=q[1],V=Object(a.useState)("No file chosen"),X=Object(h.a)(V,2),J=X[0],K=X[1],Q=Object(a.useReducer)((function(e){return e+1}),0),Z=Object(h.a)(Q,2);Z[0],Z[1];Object(a.useEffect)((function(){F&&(d(1),N(!1))}),[F]);var $=null,ee={tasks:null===x||void 0===x||null===(e=x.plannedproject)||void 0===e?void 0:e.tasks,resources:x&&Object.keys(null===x||void 0===x||null===(t=x.plannedproject)||void 0===t?void 0:t.resources),duration:null===x||void 0===x||null===(n=x.plannedproject)||void 0===n||null===(r=n.output)||void 0===r?void 0:r.projectDurationDays.data,critical_paths:x&&Object.values(null===x||void 0===x||null===(o=x.plannedproject)||void 0===o||null===(l=o.output)||void 0===l?void 0:l.criticalPath)};return 0===u?$=i.a.createElement(st,{fileName:G,setFileName:Y,uploadedFile:U,setUploadedFile:H,setReader:k,constraintsFileName:J,setConstraintsFileName:K,optimizer:x,setOptimizer:w,updateProject:function(e){v(e)},goNext:function(){N(!0)}}):1===u?$=i.a.createElement(Pt,{baseline:ee,constraintsFileName:J,optimizer:x,selectedPreset:T,setSelectedPreset:L,selectedResultIndex:M,setSelectedResultIndex:A,goPrev:function(){d(u-1)},goNext:function(){d(u+1),-1===M&&A((null===x||void 0===x?void 0:x.results[T].length)-1)}}):2===u?$=i.a.createElement(un,{baseline:ee,optimizer:x,selectedPreset:T,setSelectedPreset:L,selectedResultIndex:M,setSelectedResultIndex:A,tasks:null===m||void 0===m?void 0:m.tasks,results:null===x||void 0===x?void 0:x.results,goPrev:function(){d(u-1)},goNext:function(){d(u+1)}}):3===u&&($=i.a.createElement(_n,{optimizer:x,reader:j,selectedPreset:T,selectedResultIndex:M,handleSelectResultIndex:function(e){A(e)},goPrev:function(){d(u-1)},goNext:function(){d(u+1)}})),i.a.createElement(i.a.Fragment,null,i.a.createElement(I,null),i.a.createElement(y,{navAt:u,steps:kn,navigate:function(e){d(e)},disabled:0===u||void 0===m}),i.a.createElement(jn,null,i.a.createElement("div",{className:"content"},$)))}function Dn(){Dn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(F){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),l=new k(a||[]);return r(o,"_invoke",{value:w(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(F){return{type:"throw",arg:F}}}e.wrap=s;var d={};function p(){}function h(){}function f(){}var m={};c(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var b=f.prototype=p.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return D()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=_(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:D}}function D(){return{value:void 0,done:!0}}return h.prototype=f,r(b,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),c(b,l,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Fn(e){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(M.a)(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.frontline-optimizer.com","/auth/request-reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e){return Sn.apply(this,arguments)}function Sn(){return(Sn=Object(M.a)(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.frontline-optimizer.com","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(e){var t=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(e).toLowerCase());return t?{result:t,message:""}:{result:t,message:"Please enter a valid email address."}}n(329).config();var Ln,Pn=d.b.div(En||(En=Object(v.a)(["\n  width: 100vw;\n  height: 100vh;\n  background: linear-gradient(\n    180deg,\n    rgba(255, 204, 103, 0.195) 0%,\n    rgba(0, 145, 132, 0.3) 100%\n  );\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .MuiBox-root {\n    width: 450px;\n    h3 {\n      margin-top: 0;\n    }\n    &.form {\n      background: #ffffff;\n      padding: 30px;\n      border-radius: 16px;\n      box-sizing: border-box;\n      /* display: flex;\n      flex-direction: column; */\n      .MuiTextField-root {\n        width: 100%;\n        margin-bottom: 12px;\n      }\n    }\n    img.logo {\n      width: 300px;\n    }\n  }\n  .divider {\n    position: relative;\n    &:after { \n      content: '';\n      position: absolute;\n      height: 1px;\n      width: 100%;\n      background: #eeeeee;\n      left: 0;\n      bottom: 0;\n    }\n  }\n  .error {\n    color: rgb(0, 190, 174) !important;\n    font-weight: 700;\n  }\n"])));function Rn(){Rn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(F){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),l=new k(a||[]);return r(o,"_invoke",{value:w(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(F){return{type:"throw",arg:F}}}e.wrap=s;var d={};function p(){}function h(){}function f(){}var m={};c(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var b=f.prototype=p.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return D()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=_(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:D}}function D(){return{value:void 0,done:!0}}return h.prototype=f,r(b,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),c(b,l,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function In(){var e=Object(a.useRef)(),t=Object(a.useState)(""),n=Object(h.a)(t,2),r=n[0],o=(n[1],Object(a.useState)("")),l=Object(h.a)(o,2),c=l[0],d=(l[1],Object(a.useRef)()),p=Object(a.useState)(""),f=Object(h.a)(p,2),m=f[0],v=(f[1],Object(u.b)(),Object(s.o)());function g(){return(g=Object(M.a)(Rn().mark((function e(){return Rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v("/");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return i.a.createElement(Pn,null,i.a.createElement(Ve.a,{sx:{display:"flex",flexDirection:"column",marginRight:"40px"}},i.a.createElement("img",{className:"logo",src:N.a,alt:"Frontline Logo"}),i.a.createElement("h1",null,"Optimization Platform"),"Find the best sequence of activities with optimal resource loading to ace your project"),i.a.createElement(Ve.a,{className:"form",component:"form",noValidate:!0,autoComplete:"off"},i.a.createElement("h2",null,"Log In"),i.a.createElement("p",{className:"error"},c),i.a.createElement(Gt.a,{label:"Email",name:"Email",id:"Email",variant:"outlined",inputRef:e,error:""!==r,helperText:r,placeholder:"sample@googlemail.com"}),i.a.createElement(Gt.a,{label:"Password",name:"Password",type:"password",id:"Password",variant:"outlined",inputRef:d,error:""!==m,helperText:m,placeholder:"******"}),i.a.createElement("div",{className:"row"},i.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){v("/reset-password?email="+e.current.value)}},"Forgot password"),i.a.createElement($e,{variant:"contained",onClick:function(){return g.apply(this,arguments)}},"Login")),i.a.createElement("br",null),i.a.createElement("div",{className:"divider"}),i.a.createElement("h2",null,"New Users"),"Our platform is currently only available to subscribers. Please contact ",i.a.createElement("a",{href:"mailto:sales@frontlinec.com",target:"_blank",rel:"noreferrer"},"sales@frontlinec.com")," to request a demo."))}var Mn=d.b.div(Ln||(Ln=Object(v.a)(["\n  width: 100vw;\n  height: 100vh;\n  background: linear-gradient(\n    180deg,\n    rgba(255, 204, 103, 0.195) 0%,\n    rgba(0, 145, 132, 0.3) 100%\n  );\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .MuiBox-root {\n    width: 450px;\n    h3 {\n      margin-top: 0;\n    }\n    &.form {\n      background: #ffffff;\n      padding: 30px;\n      border-radius: 16px;\n      box-sizing: border-box;\n      /* display: flex;\n      flex-direction: column; */\n      p {\n        color: #888888;\n        &.error {\n          color: rgb(0, 190, 174);\n          font-weight: 700;\n          margin-bottom: 15px;\n        }\n      }\n      .MuiTextField-root {\n        width: 100%;\n        margin-bottom: 12px;\n      }\n    }\n    img.logo {\n      width: 300px;\n    }\n  }\n"])));function An(){An=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(F){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),l=new k(a||[]);return r(o,"_invoke",{value:w(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(F){return{type:"throw",arg:F}}}e.wrap=s;var d={};function p(){}function h(){}function f(){}var m={};c(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var b=f.prototype=p.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return D()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=_(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:D}}function D(){return{value:void 0,done:!0}}return h.prototype=f,r(b,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),c(b,l,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function zn(){var e=Object(c.b)(),t=Object(h.a)(e,2),n=t[0],r=(t[1],Object(a.useState)(n.get("email")?n.get("email"):"")),o=Object(h.a)(r,2),l=o[0],u=o[1],d=Object(a.useState)(""),p=Object(h.a)(d,2),f=p[0],m=p[1],v=Object(a.useState)(n.get("resetToken")),g=Object(h.a)(v,2),b=g[0],y=(g[1],Object(a.useState)("")),x=Object(h.a)(y,2),w=x[0],_=x[1],E=Object(s.o)();function j(){return(j=Object(M.a)(An().mark((function e(){var t;return An().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Tn(l),_(t.message),t.result){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Fn({email:l}).then((function(e){return e.json()})).then((function(e){_("We have sent the password reset instructions to your email. Please note the link expires in 1 hour.")})).catch((function(e){console.error("Error:",e)}));case 6:e.sent;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(M.a)(An().mark((function e(){return An().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==f){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Cn({email:l,password:f,token:b}).then((function(e){return e.json()})).then((function(e){_("Your password has been successfully reset!"),E("/")})).catch((function(e){console.error("Error:",e)}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return b?i.a.createElement(Pn,null,i.a.createElement(Ve.a,{sx:{display:"flex",flexDirection:"column",marginRight:"40px"}},i.a.createElement("img",{className:"logo",src:N.a,alt:"Frontline Logo"}),i.a.createElement("h1",null,"Optimization Platform"),"Find the best sequence of activities with optimal resource loading to ace your project"),i.a.createElement(Ve.a,{className:"form",component:"form",noValidate:!0,autoComplete:"off"},i.a.createElement("h2",null,"Reset Password"),w,i.a.createElement("p",null,"Your new password must be different from previous used passwords."),i.a.createElement(Gt.a,{label:"Email",variant:"outlined",value:l,disabled:!0}),i.a.createElement("br",null),i.a.createElement(Gt.a,{label:"Password",autocomplete:"off",type:"password",variant:"outlined",value:f,onChange:function(e){return m(e.target.value)},required:!0}),i.a.createElement("br",null),i.a.createElement("div",{className:"row"},i.a.createElement("div",null),i.a.createElement($e,{variant:"contained",onClick:function(){return k.apply(this,arguments)}},"Reset Password")))):i.a.createElement(i.a.Fragment,null,i.a.createElement(Mn,null,i.a.createElement(Ve.a,{sx:{display:"flex",flexDirection:"column",marginRight:"40px"},noValidate:!0,autoComplete:"off"},i.a.createElement("img",{className:"logo",src:N.a,alt:"Frontline Logo"}),i.a.createElement("h1",null,"Optimization Platform"),"Find the best sequence of activities with optimal resource loading to ace your project"),i.a.createElement(Ve.a,{className:"form",component:"form",noValidate:!0,autoComplete:"off"},i.a.createElement("h3",null,"Reset Password"),i.a.createElement("p",{className:"error"},w),i.a.createElement("p",null,"Enter the email associated with your account and we'll send an email with instructions to reset your password."),i.a.createElement(Gt.a,{label:"Email",placeholder:"example@gmail.com",variant:"outlined",value:l,onChange:function(e){return u(e.target.value)}}),i.a.createElement("div",{className:"row"},i.a.createElement(et,{variant:"contained",onClick:function(){E("/login")}},"Back"),i.a.createElement($e,{variant:"contained",onClick:function(){return j.apply(this,arguments)}},"Request")))))}function Bn(){return i.a.createElement(u.a,{authType:"cookie",authName:"_auth",cookieDomain:window.location.hostname,cookieSecure:!1},i.a.createElement(c.a,null,i.a.createElement(d.a,{theme:p},i.a.createElement(Ze,null,i.a.createElement(s.d,null,i.a.createElement(s.b,{path:"/",element:i.a.createElement(On,null)}),i.a.createElement(s.b,{path:"/login",element:i.a.createElement(In,null)}),i.a.createElement(s.b,{path:"/reset-password",element:i.a.createElement(zn,null)}))))))}n(334);l.a.render(i.a.createElement(Bn,null),document.getElementById("root"))},78:function(e,t,n){e.exports=n.p+"static/media/logo.458142f4.png"}},[[301,1,2]]]);
//# sourceMappingURL=main.c17c551d.chunk.js.map